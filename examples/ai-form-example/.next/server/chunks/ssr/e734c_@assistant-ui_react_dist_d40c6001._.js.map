{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Breact%400.11.37_%40types%2Breact-dom%4019.2.2_%40types%2Breact%4019.2.2__%40types%2Breact%4019.2.2__utqnq2rpqwwcg76r2vcd3th5pi/node_modules/%40assistant-ui/react/src/primitives/actionBar/useActionBarFloatStatus.tsx"],"sourcesContent":["\"use client\";\n\nimport { useAssistantState } from \"../../context\";\n\nexport enum HideAndFloatStatus {\n  Hidden = \"hidden\",\n  Floating = \"floating\",\n  Normal = \"normal\",\n}\n\nexport type UseActionBarFloatStatusProps = {\n  hideWhenRunning?: boolean | undefined;\n  autohide?: \"always\" | \"not-last\" | \"never\" | undefined;\n  autohideFloat?: \"always\" | \"single-branch\" | \"never\" | undefined;\n};\n\nexport const useActionBarFloatStatus = ({\n  hideWhenRunning,\n  autohide,\n  autohideFloat,\n}: UseActionBarFloatStatusProps) => {\n  return useAssistantState(({ thread, message }) => {\n    if (hideWhenRunning && thread.isRunning) return HideAndFloatStatus.Hidden;\n\n    const autohideEnabled =\n      autohide === \"always\" || (autohide === \"not-last\" && !message.isLast);\n\n    // normal status\n    if (!autohideEnabled) return HideAndFloatStatus.Normal;\n\n    // hidden status\n    if (!message.isHovering) return HideAndFloatStatus.Hidden;\n\n    // floating status\n    if (\n      autohideFloat === \"always\" ||\n      (autohideFloat === \"single-branch\" && message.branchCount <= 1)\n    )\n      return HideAndFloatStatus.Floating;\n\n    return HideAndFloatStatus.Normal;\n  });\n};\n"],"names":["HideAndFloatStatus"],"mappings":";;;;;;;AAEA,SAAS,yBAAyB;;;AAE3B,IAAK,qBAAL,aAAA,GAAA,CAAA,CAAKA,wBAAL;IACLA,mBAAAA,CAAA,SAAA,GAAS;IACTA,mBAAAA,CAAA,WAAA,GAAW;IACXA,mBAAAA,CAAA,SAAA,GAAS;IAHC,OAAAA;AAAA,CAAA,EAAA,sBAAA,CAAA;AAYL,IAAM,0BAA0B,CAAC,EACtC,eAAA,EACA,QAAA,EACA,aAAA,EACF,KAAoC;IAClC,WAAO,mbAAA,EAAkB,CAAC,EAAE,MAAA,EAAQ,OAAA,CAAQ,CAAA,KAAM;QAChD,IAAI,mBAAmB,OAAO,SAAA,CAAW,CAAA,OAAO,SAAA,UAAA;QAEhD,MAAM,kBACJ,aAAa,YAAa,aAAa,cAAc,CAAC,QAAQ,MAAA;QAGhE,IAAI,CAAC,gBAAiB,CAAA,OAAO,SAAA,UAAA;QAG7B,IAAI,CAAC,QAAQ,UAAA,CAAY,CAAA,OAAO,SAAA,UAAA;QAGhC,IACE,kBAAkB,YACjB,kBAAkB,mBAAmB,QAAQ,WAAA,IAAe,GAE7D,OAAO,WAAA,YAAA;QAET,OAAO,SAAA,UAAA;IACT,CAAC;AACH","debugId":null}},
    {"offset": {"line": 36, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Breact%400.11.37_%40types%2Breact-dom%4019.2.2_%40types%2Breact%4019.2.2__%40types%2Breact%4019.2.2__utqnq2rpqwwcg76r2vcd3th5pi/node_modules/%40assistant-ui/react/src/primitives/actionBar/ActionBarRoot.tsx"],"sourcesContent":["\"use client\";\n\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { type ComponentRef, forwardRef, ComponentPropsWithoutRef } from \"react\";\nimport {\n  useActionBarFloatStatus,\n  HideAndFloatStatus,\n} from \"./useActionBarFloatStatus\";\n\ntype PrimitiveDivProps = ComponentPropsWithoutRef<typeof Primitive.div>;\n\nexport namespace ActionBarPrimitiveRoot {\n  export type Element = ComponentRef<typeof Primitive.div>;\n  export type Props = PrimitiveDivProps & {\n    /**\n     * Whether to hide the action bar when the thread is running.\n     * @default false\n     */\n    hideWhenRunning?: boolean | undefined;\n    /**\n     * Controls when the action bar should automatically hide.\n     * - \"always\": Always hide unless hovered\n     * - \"not-last\": Hide unless this is the last message\n     * - \"never\": Never auto-hide\n     * @default \"never\"\n     */\n    autohide?: \"always\" | \"not-last\" | \"never\" | undefined;\n    /**\n     * Controls floating behavior when auto-hidden.\n     * - \"always\": Always float when hidden\n     * - \"single-branch\": Float only for single-branch messages\n     * - \"never\": Never float\n     * @default \"never\"\n     */\n    autohideFloat?: \"always\" | \"single-branch\" | \"never\" | undefined;\n  };\n}\n\n/**\n * The root container for action bar components.\n *\n * This component provides intelligent visibility and floating behavior for action bars,\n * automatically hiding and showing based on message state, hover status, and configuration.\n * It supports floating mode for better UX when space is limited.\n *\n * @example\n * ```tsx\n * <ActionBarPrimitive.Root\n *   hideWhenRunning={true}\n *   autohide=\"not-last\"\n *   autohideFloat=\"single-branch\"\n * >\n *   <ActionBarPrimitive.Copy />\n *   <ActionBarPrimitive.Edit />\n *   <ActionBarPrimitive.Reload />\n * </ActionBarPrimitive.Root>\n * ```\n */\nexport const ActionBarPrimitiveRoot = forwardRef<\n  ActionBarPrimitiveRoot.Element,\n  ActionBarPrimitiveRoot.Props\n>(({ hideWhenRunning, autohide, autohideFloat, ...rest }, ref) => {\n  const hideAndfloatStatus = useActionBarFloatStatus({\n    hideWhenRunning,\n    autohide,\n    autohideFloat,\n  });\n\n  if (hideAndfloatStatus === HideAndFloatStatus.Hidden) return null;\n\n  return (\n    <Primitive.div\n      {...(hideAndfloatStatus === HideAndFloatStatus.Floating\n        ? { \"data-floating\": \"true\" }\n        : null)}\n      {...rest}\n      ref={ref}\n    />\n  );\n});\n\nActionBarPrimitiveRoot.displayName = \"ActionBarPrimitive.Root\";\n"],"names":[],"mappings":";;;;;AAEA,SAAS,iBAAiB;AAC1B,SAA4B,kBAA4C;AACxE;AAmEI;;;;;;AAbG,IAAM,6BAAyB,0XAAA,EAGpC,CAAC,EAAE,eAAA,EAAiB,QAAA,EAAU,aAAA,EAAe,GAAG,KAAK,CAAA,EAAG,QAAQ;IAChE,MAAM,yBAAqB,6bAAA,EAAwB;QACjD;QACA;QACA;IACF,CAAC;IAED,IAAI,uBAAuB,wbAAA,CAAmB,MAAA,CAAQ,CAAA,OAAO;IAE7D,OACE,aAAA,GAAA,IAAA,qYAAA,EAAC,yYAAA,CAAU,GAAA,EAAV;QACE,GAAI,uBAAuB,wbAAA,CAAmB,QAAA,GAC3C;YAAE,iBAAiB;QAAO,IAC1B,IAAA;QACH,GAAG,IAAA;QACJ;IAAA;AAGN,CAAC;AAED,uBAAuB,WAAA,GAAc","debugId":null}},
    {"offset": {"line": 72, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Breact%400.11.37_%40types%2Breact-dom%4019.2.2_%40types%2Breact%4019.2.2__%40types%2Breact%4019.2.2__utqnq2rpqwwcg76r2vcd3th5pi/node_modules/%40assistant-ui/react/src/primitives/actionBar/ActionBarCopy.tsx"],"sourcesContent":["\"use client\";\n\nimport { forwardRef } from \"react\";\nimport { ActionButtonProps } from \"../../utils/createActionButton\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { useCallback } from \"react\";\nimport { useAssistantState, useAssistantApi } from \"../../context\";\n\n/**\n * Hook that provides copy functionality for action bar buttons.\n *\n * This hook returns a callback function that copies message content to the clipboard,\n * or null if copying is not available. It handles both regular message content and\n * composer text when in editing mode.\n *\n * @param options Configuration options\n * @param options.copiedDuration Duration in milliseconds to show the copied state\n * @returns A copy callback function, or null if copying is disabled\n *\n * @example\n * ```tsx\n * function CustomCopyButton() {\n *   const copy = useActionBarPrimitiveCopy({ copiedDuration: 2000 });\n *\n *   return (\n *     <button onClick={copy} disabled={!copy}>\n *       {copy ? \"Copy\" : \"Cannot Copy\"}\n *     </button>\n *   );\n * }\n * ```\n */\nconst useActionBarPrimitiveCopy = ({\n  copiedDuration = 3000,\n}: { copiedDuration?: number | undefined } = {}) => {\n  const api = useAssistantApi();\n  const hasCopyableContent = useAssistantState(({ message }) => {\n    return (\n      (message.role !== \"assistant\" || message.status?.type !== \"running\") &&\n      message.parts.some((c) => c.type === \"text\" && c.text.length > 0)\n    );\n  });\n\n  const isEditing = useAssistantState(({ composer }) => composer.isEditing);\n  const composerValue = useAssistantState(({ composer }) => composer.text);\n\n  const callback = useCallback(() => {\n    const valueToCopy = isEditing ? composerValue : api.message().getCopyText();\n\n    if (!valueToCopy) return;\n\n    navigator.clipboard.writeText(valueToCopy).then(() => {\n      api.message().setIsCopied(true);\n      setTimeout(() => api.message().setIsCopied(false), copiedDuration);\n    });\n  }, [api, isEditing, composerValue, copiedDuration]);\n\n  if (!hasCopyableContent) return null;\n  return callback;\n};\n\nexport namespace ActionBarPrimitiveCopy {\n  export type Element = HTMLButtonElement;\n  /**\n   * Props for the ActionBarPrimitive.Copy component.\n   * Inherits all button element props and action button functionality.\n   */\n  export type Props = ActionButtonProps<typeof useActionBarPrimitiveCopy>;\n}\n\n/**\n * A button component that copies message content to the clipboard.\n *\n * This component automatically handles copying message text to the clipboard\n * and provides visual feedback through the data-copied attribute. It's disabled\n * when there's no copyable content available.\n *\n * @example\n * ```tsx\n * <ActionBarPrimitive.Copy copiedDuration={2000}>\n *   Copy Message\n * </ActionBarPrimitive.Copy>\n * ```\n */\nexport const ActionBarPrimitiveCopy = forwardRef<\n  ActionBarPrimitiveCopy.Element,\n  ActionBarPrimitiveCopy.Props\n>(({ copiedDuration, onClick, disabled, ...props }, forwardedRef) => {\n  const isCopied = useAssistantState(({ message }) => message.isCopied);\n  const callback = useActionBarPrimitiveCopy({ copiedDuration });\n  return (\n    <Primitive.button\n      type=\"button\"\n      {...(isCopied ? { \"data-copied\": \"true\" } : {})}\n      {...props}\n      ref={forwardedRef}\n      disabled={disabled || !callback}\n      onClick={composeEventHandlers(onClick, () => {\n        callback?.();\n      })}\n    />\n  );\n});\n\nActionBarPrimitiveCopy.displayName = \"ActionBarPrimitive.Copy\";\n"],"names":[],"mappings":";;;;;AAEA,SAAS,kBAAkB;AAE3B,SAAS,4BAA4B;AACrC,SAAS,iBAAiB;;AAE1B,SAAS,mBAAmB,uBAAuB;AAqF/C;;;;;;;;AA3DJ,IAAM,4BAA4B,CAAC,EACjC,iBAAiB,GAAA,EACnB,GAA6C,CAAC,CAAA,KAAM;IAClD,MAAM,MAAM,8aAAA,CAAgB;IAC5B,MAAM,yBAAqB,mbAAA,EAAkB,CAAC,EAAE,OAAA,CAAQ,CAAA,KAAM;QAC5D,OAAA,CACG,QAAQ,IAAA,KAAS,eAAe,QAAQ,MAAA,EAAQ,SAAS,SAAA,KAC1D,QAAQ,KAAA,CAAM,IAAA,CAAK,CAAC,IAAM,EAAE,IAAA,KAAS,UAAU,EAAE,IAAA,CAAK,MAAA,GAAS,CAAC;IAEpE,CAAC;IAED,MAAM,gBAAY,mbAAA,EAAkB,CAAC,EAAE,QAAA,CAAS,CAAA,GAAM,SAAS,SAAS;IACxE,MAAM,oBAAgB,mbAAA,EAAkB,CAAC,EAAE,QAAA,CAAS,CAAA,GAAM,SAAS,IAAI;IAEvE,MAAM,eAAW,2XAAA,EAAY,MAAM;QACjC,MAAM,cAAc,YAAY,gBAAgB,IAAI,OAAA,CAAQ,EAAE,WAAA,CAAY;QAE1E,IAAI,CAAC,YAAa,CAAA;QAElB,UAAU,SAAA,CAAU,SAAA,CAAU,WAAW,EAAE,IAAA,CAAK,MAAM;YACpD,IAAI,OAAA,CAAQ,EAAE,WAAA,CAAY,IAAI;YAC9B,WAAW,IAAM,IAAI,OAAA,CAAQ,EAAE,WAAA,CAAY,KAAK,GAAG,cAAc;QACnE,CAAC;IACH,GAAG;QAAC;QAAK;QAAW;QAAe,cAAc;KAAC;IAElD,IAAI,CAAC,mBAAoB,CAAA,OAAO;IAChC,OAAO;AACT;AAyBO,IAAM,6BAAyB,0XAAA,EAGpC,CAAC,EAAE,cAAA,EAAgB,OAAA,EAAS,QAAA,EAAU,GAAG,MAAM,CAAA,EAAG,iBAAiB;IACnE,MAAM,eAAW,mbAAA,EAAkB,CAAC,EAAE,OAAA,CAAQ,CAAA,GAAM,QAAQ,QAAQ;IACpE,MAAM,WAAW,0BAA0B;QAAE;IAAe,CAAC;IAC7D,OACE,aAAA,GAAA,IAAA,qYAAA,EAAC,yYAAA,CAAU,MAAA,EAAV;QACC,MAAK;QACJ,GAAI,WAAW;YAAE,eAAe;QAAO,IAAI,CAAC,CAAA;QAC5C,GAAG,KAAA;QACJ,KAAK;QACL,UAAU,YAAY,CAAC;QACvB,aAAS,2PAAA,EAAqB,SAAS,MAAM;YAC3C,WAAW;QACb,CAAC;IAAA;AAGP,CAAC;AAED,uBAAuB,WAAA,GAAc","debugId":null}},
    {"offset": {"line": 138, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Breact%400.11.37_%40types%2Breact-dom%4019.2.2_%40types%2Breact%4019.2.2__%40types%2Breact%4019.2.2__utqnq2rpqwwcg76r2vcd3th5pi/node_modules/%40assistant-ui/react/src/utils/createActionButton.tsx"],"sourcesContent":["import {\n  ComponentRef,\n  forwardRef,\n  ComponentPropsWithoutRef,\n  MouseEventHandler,\n} from \"react\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\n\ntype ActionButtonCallback<TProps> = (\n  props: TProps,\n) => MouseEventHandler<HTMLButtonElement> | null;\n\ntype PrimitiveButtonProps = ComponentPropsWithoutRef<typeof Primitive.button>;\n\nexport type ActionButtonProps<THook> = PrimitiveButtonProps &\n  (THook extends (props: infer TProps) => unknown ? TProps : never);\n\nexport type ActionButtonElement = ComponentRef<typeof Primitive.button>;\n\nexport const createActionButton = <TProps,>(\n  displayName: string,\n  useActionButton: ActionButtonCallback<TProps>,\n  forwardProps: (keyof NonNullable<TProps>)[] = [],\n) => {\n  const ActionButton = forwardRef<\n    ActionButtonElement,\n    PrimitiveButtonProps & TProps\n  >((props, forwardedRef) => {\n    const forwardedProps = {} as TProps;\n    const primitiveProps = {} as PrimitiveButtonProps;\n\n    (Object.keys(props) as Array<keyof typeof props>).forEach((key) => {\n      if (forwardProps.includes(key as keyof TProps)) {\n        (forwardedProps as any)[key] = props[key];\n      } else {\n        (primitiveProps as any)[key] = props[key];\n      }\n    });\n\n    const callback = useActionButton(forwardedProps as TProps) ?? undefined;\n    return (\n      <Primitive.button\n        type=\"button\"\n        {...primitiveProps}\n        ref={forwardedRef}\n        disabled={primitiveProps.disabled || !callback}\n        onClick={composeEventHandlers(primitiveProps.onClick, callback)}\n      />\n    );\n  });\n\n  ActionButton.displayName = displayName;\n\n  return ActionButton;\n};\n"],"names":[],"mappings":";;;;;AAAA;AAMA,SAAS,iBAAiB;AAC1B,SAAS,4BAA4B;AAmC/B;;;;;AAtBC,IAAM,qBAAqB,CAChC,aACA,iBACA,eAA8C,CAAC,CAAA,KAC5C;IACH,MAAM,mBAAe,0XAAA,EAGnB,CAAC,OAAO,iBAAiB;QACzB,MAAM,iBAAiB,CAAC;QACxB,MAAM,iBAAiB,CAAC;QAEvB,OAAO,IAAA,CAAK,KAAK,EAAgC,OAAA,CAAQ,CAAC,QAAQ;YACjE,IAAI,aAAa,QAAA,CAAS,GAAmB,GAAG;gBAC7C,cAAA,CAAuB,GAAG,CAAA,GAAI,KAAA,CAAM,GAAG,CAAA;YAC1C,OAAO;gBACJ,cAAA,CAAuB,GAAG,CAAA,GAAI,KAAA,CAAM,GAAG,CAAA;YAC1C;QACF,CAAC;QAED,MAAM,WAAW,gBAAgB,cAAwB,KAAK,KAAA;QAC9D,OACE,aAAA,GAAA,IAAA,qYAAA,EAAC,yYAAA,CAAU,MAAA,EAAV;YACC,MAAK;YACJ,GAAG,cAAA;YACJ,KAAK;YACL,UAAU,eAAe,QAAA,IAAY,CAAC;YACtC,aAAS,2PAAA,EAAqB,eAAe,OAAA,EAAS,QAAQ;QAAA;IAGpE,CAAC;IAED,aAAa,WAAA,GAAc;IAE3B,OAAO;AACT","debugId":null}},
    {"offset": {"line": 180, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Breact%400.11.37_%40types%2Breact-dom%4019.2.2_%40types%2Breact%4019.2.2__%40types%2Breact%4019.2.2__utqnq2rpqwwcg76r2vcd3th5pi/node_modules/%40assistant-ui/react/src/primitives/actionBar/ActionBarReload.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n  ActionButtonElement,\n  ActionButtonProps,\n  createActionButton,\n} from \"../../utils/createActionButton\";\nimport { useCallback } from \"react\";\nimport { useAssistantState, useAssistantApi } from \"../../context\";\n\n/**\n * Hook that provides reload functionality for action bar buttons.\n *\n * This hook returns a callback function that reloads/regenerates the current assistant message,\n * or null if reloading is not available (e.g., thread is running, disabled, or message is not from assistant).\n *\n * @returns A reload callback function, or null if reloading is disabled\n *\n * @example\n * ```tsx\n * function CustomReloadButton() {\n *   const reload = useActionBarReload();\n *\n *   return (\n *     <button onClick={reload} disabled={!reload}>\n *       {reload ? \"Reload Message\" : \"Cannot Reload\"}\n *     </button>\n *   );\n * }\n * ```\n */\nconst useActionBarReload = () => {\n  const api = useAssistantApi();\n\n  const disabled = useAssistantState(\n    (s) =>\n      s.thread.isRunning ||\n      s.thread.isDisabled ||\n      s.message.role !== \"assistant\",\n  );\n\n  const callback = useCallback(() => {\n    api.message().reload();\n  }, [api]);\n\n  if (disabled) return null;\n  return callback;\n};\n\nexport namespace ActionBarPrimitiveReload {\n  export type Element = ActionButtonElement;\n  /**\n   * Props for the ActionBarPrimitive.Reload component.\n   * Inherits all button element props and action button functionality.\n   */\n  export type Props = ActionButtonProps<typeof useActionBarReload>;\n}\n\n/**\n * A button component that reloads/regenerates the current assistant message.\n *\n * This component automatically handles reloading the current assistant message\n * and is disabled when reloading is not available (e.g., thread is running,\n * disabled, or message is not from assistant).\n *\n * @example\n * ```tsx\n * <ActionBarPrimitive.Reload>\n *   Reload Message\n * </ActionBarPrimitive.Reload>\n * ```\n */\nexport const ActionBarPrimitiveReload = createActionButton(\n  \"ActionBarPrimitive.Reload\",\n  useActionBarReload,\n);\n"],"names":[],"mappings":";;;;;AAEA;AAKA,SAAS,mBAAmB;;AAC5B,SAAS,mBAAmB,uBAAuB;;;;;AAuBnD,IAAM,qBAAqB,MAAM;IAC/B,MAAM,UAAM,0aAAA,CAAgB;IAE5B,MAAM,eAAW,mbAAA,EACf,CAAC,IACC,EAAE,MAAA,CAAO,SAAA,IACT,EAAE,MAAA,CAAO,UAAA,IACT,EAAE,OAAA,CAAQ,IAAA,KAAS;IAGvB,MAAM,eAAW,2XAAA,EAAY,MAAM;QACjC,IAAI,OAAA,CAAQ,EAAE,MAAA,CAAO;IACvB,GAAG;QAAC,GAAG;KAAC;IAER,IAAI,SAAU,CAAA,OAAO;IACrB,OAAO;AACT;AAyBO,IAAM,+BAA2B,iaAAA,EACtC,6BACA","debugId":null}},
    {"offset": {"line": 211, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Breact%400.11.37_%40types%2Breact-dom%4019.2.2_%40types%2Breact%4019.2.2__%40types%2Breact%4019.2.2__utqnq2rpqwwcg76r2vcd3th5pi/node_modules/%40assistant-ui/react/src/primitives/actionBar/ActionBarEdit.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n  ActionButtonElement,\n  ActionButtonProps,\n  createActionButton,\n} from \"../../utils/createActionButton\";\nimport { useCallback } from \"react\";\nimport { useAssistantState, useAssistantApi } from \"../../context\";\n\n/**\n * Hook that provides edit functionality for action bar buttons.\n *\n * This hook returns a callback function that starts editing the current message,\n * or null if editing is not available (e.g., already in editing mode).\n *\n * @returns An edit callback function, or null if editing is disabled\n *\n * @example\n * ```tsx\n * function CustomEditButton() {\n *   const edit = useActionBarEdit();\n *\n *   return (\n *     <button onClick={edit} disabled={!edit}>\n *       {edit ? \"Edit Message\" : \"Cannot Edit\"}\n *     </button>\n *   );\n * }\n * ```\n */\nconst useActionBarEdit = () => {\n  const api = useAssistantApi();\n  const disabled = useAssistantState(({ composer }) => composer.isEditing);\n\n  const callback = useCallback(() => {\n    api.composer().beginEdit();\n  }, [api]);\n\n  if (disabled) return null;\n  return callback;\n};\n\nexport namespace ActionBarPrimitiveEdit {\n  export type Element = ActionButtonElement;\n  /**\n   * Props for the ActionBarPrimitive.Edit component.\n   * Inherits all button element props and action button functionality.\n   */\n  export type Props = ActionButtonProps<typeof useActionBarEdit>;\n}\n\n/**\n * A button component that starts editing the current message.\n *\n * This component automatically handles starting the edit mode for the current message\n * and is disabled when editing is not available (e.g., already in editing mode).\n *\n * @example\n * ```tsx\n * <ActionBarPrimitive.Edit>\n *   Edit Message\n * </ActionBarPrimitive.Edit>\n * ```\n */\nexport const ActionBarPrimitiveEdit = createActionButton(\n  \"ActionBarPrimitive.Edit\",\n  useActionBarEdit,\n);\n"],"names":[],"mappings":";;;;;AAEA;AAKA,SAAS,mBAAmB;;AAC5B,SAAS,mBAAmB,uBAAuB;;;;;AAuBnD,IAAM,mBAAmB,MAAM;IAC7B,MAAM,UAAM,0aAAA,CAAgB;IAC5B,MAAM,eAAW,mbAAA,EAAkB,CAAC,EAAE,QAAA,CAAS,CAAA,GAAM,SAAS,SAAS;IAEvE,MAAM,eAAW,2XAAA,EAAY,MAAM;QACjC,IAAI,QAAA,CAAS,EAAE,SAAA,CAAU;IAC3B,GAAG;QAAC,GAAG;KAAC;IAER,IAAI,SAAU,CAAA,OAAO;IACrB,OAAO;AACT;AAwBO,IAAM,6BAAyB,iaAAA,EACpC,2BACA","debugId":null}},
    {"offset": {"line": 242, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Breact%400.11.37_%40types%2Breact-dom%4019.2.2_%40types%2Breact%4019.2.2__%40types%2Breact%4019.2.2__utqnq2rpqwwcg76r2vcd3th5pi/node_modules/%40assistant-ui/react/src/primitives/actionBar/ActionBarSpeak.tsx"],"sourcesContent":["\"use client\";\n\nimport { useCallback } from \"react\";\nimport { useAssistantState, useAssistantApi } from \"../../context\";\nimport {\n  ActionButtonElement,\n  ActionButtonProps,\n  createActionButton,\n} from \"../../utils/createActionButton\";\n\nconst useActionBarSpeak = () => {\n  const api = useAssistantApi();\n  const callback = useCallback(async () => {\n    api.message().speak();\n  }, [api]);\n\n  const hasSpeakableContent = useAssistantState(({ message }) => {\n    return (\n      (message.role !== \"assistant\" || message.status?.type !== \"running\") &&\n      message.parts.some((c) => c.type === \"text\" && c.text.length > 0)\n    );\n  });\n\n  if (!hasSpeakableContent) return null;\n  return callback;\n};\n\nexport namespace ActionBarPrimitiveSpeak {\n  export type Element = ActionButtonElement;\n  export type Props = ActionButtonProps<typeof useActionBarSpeak>;\n}\n\nexport const ActionBarPrimitiveSpeak = createActionButton(\n  \"ActionBarPrimitive.Speak\",\n  useActionBarSpeak,\n);\n"],"names":[],"mappings":";;;;;AAEA,SAAS,mBAAmB;;AAC5B,SAAS,mBAAmB,uBAAuB;AACnD;;;;;AAMA,IAAM,oBAAoB,MAAM;IAC9B,MAAM,UAAM,0aAAA,CAAgB;IAC5B,MAAM,eAAW,2XAAA,EAAY,YAAY;QACvC,IAAI,OAAA,CAAQ,EAAE,KAAA,CAAM;IACtB,GAAG;QAAC,GAAG;KAAC;IAER,MAAM,0BAAsB,mbAAA,EAAkB,CAAC,EAAE,OAAA,CAAQ,CAAA,KAAM;QAC7D,OAAA,CACG,QAAQ,IAAA,KAAS,eAAe,QAAQ,MAAA,EAAQ,SAAS,SAAA,KAC1D,QAAQ,KAAA,CAAM,IAAA,CAAK,CAAC,IAAM,EAAE,IAAA,KAAS,UAAU,EAAE,IAAA,CAAK,MAAA,GAAS,CAAC;IAEpE,CAAC;IAED,IAAI,CAAC,oBAAqB,CAAA,OAAO;IACjC,OAAO;AACT;AAOO,IAAM,8BAA0B,iaAAA,EACrC,4BACA","debugId":null}},
    {"offset": {"line": 275, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Breact%400.11.37_%40types%2Breact-dom%4019.2.2_%40types%2Breact%4019.2.2__%40types%2Breact%4019.2.2__utqnq2rpqwwcg76r2vcd3th5pi/node_modules/%40assistant-ui/react/src/primitives/actionBar/ActionBarStopSpeaking.tsx"],"sourcesContent":["\"use client\";\n\nimport { forwardRef } from \"react\";\nimport { ActionButtonProps } from \"../../utils/createActionButton\";\nimport { useEscapeKeydown } from \"@radix-ui/react-use-escape-keydown\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { useCallback } from \"react\";\nimport { useAssistantState, useAssistantApi } from \"../../context\";\n\nconst useActionBarStopSpeaking = () => {\n  const api = useAssistantApi();\n  const isSpeaking = useAssistantState(({ message }) => message.speech != null);\n\n  const callback = useCallback(() => {\n    api.message().stopSpeaking();\n  }, [api]);\n\n  if (!isSpeaking) return null;\n\n  return callback;\n};\n\nexport namespace ActionBarPrimitiveStopSpeaking {\n  export type Element = HTMLButtonElement;\n  export type Props = ActionButtonProps<typeof useActionBarStopSpeaking>;\n}\n\nexport const ActionBarPrimitiveStopSpeaking = forwardRef<\n  ActionBarPrimitiveStopSpeaking.Element,\n  ActionBarPrimitiveStopSpeaking.Props\n>((props, ref) => {\n  const callback = useActionBarStopSpeaking();\n\n  // TODO this stops working if the user is not hovering over an older message\n  useEscapeKeydown((e) => {\n    if (callback) {\n      e.preventDefault();\n      callback();\n    }\n  });\n\n  return (\n    <Primitive.button\n      type=\"button\"\n      disabled={!callback}\n      {...props}\n      ref={ref}\n      onClick={composeEventHandlers(props.onClick, () => {\n        callback?.();\n      })}\n    />\n  );\n});\n\nActionBarPrimitiveStopSpeaking.displayName = \"ActionBarPrimitive.StopSpeaking\";\n"],"names":[],"mappings":";;;;;AAEA,SAAS,kBAAkB;AAE3B,SAAS,wBAAwB;AACjC,SAAS,iBAAiB;AAC1B,SAAS,4BAA4B;;AAErC,SAAS,mBAAmB,uBAAuB;AAmC/C;;;;;;;;;AAjCJ,IAAM,2BAA2B,MAAM;IACrC,MAAM,UAAM,0aAAA,CAAgB;IAC5B,MAAM,iBAAa,mbAAA,EAAkB,CAAC,EAAE,OAAA,CAAQ,CAAA,GAAM,QAAQ,MAAA,IAAU,IAAI;IAE5E,MAAM,eAAW,2XAAA,EAAY,MAAM;QACjC,IAAI,OAAA,CAAQ,EAAE,YAAA,CAAa;IAC7B,GAAG;QAAC,GAAG;KAAC;IAER,IAAI,CAAC,WAAY,CAAA,OAAO;IAExB,OAAO;AACT;AAOO,IAAM,qCAAiC,0XAAA,EAG5C,CAAC,OAAO,QAAQ;IAChB,MAAM,WAAW,yBAAyB;IAG1C,IAAA,gWAAA,EAAiB,CAAC,MAAM;QACtB,IAAI,UAAU;YACZ,EAAE,cAAA,CAAe;YACjB,SAAS;QACX;IACF,CAAC;IAED,OACE,aAAA,GAAA,IAAA,qYAAA,EAAC,yYAAA,CAAU,MAAA,EAAV;QACC,MAAK;QACL,UAAU,CAAC;QACV,GAAG,KAAA;QACJ;QACA,aAAS,2PAAA,EAAqB,MAAM,OAAA,EAAS,MAAM;YACjD,WAAW;QACb,CAAC;IAAA;AAGP,CAAC;AAED,+BAA+B,WAAA,GAAc","debugId":null}},
    {"offset": {"line": 331, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Breact%400.11.37_%40types%2Breact-dom%4019.2.2_%40types%2Breact%4019.2.2__%40types%2Breact%4019.2.2__utqnq2rpqwwcg76r2vcd3th5pi/node_modules/%40assistant-ui/react/src/primitives/actionBar/ActionBarFeedbackPositive.tsx"],"sourcesContent":["\"use client\";\n\nimport { forwardRef, useCallback } from \"react\";\nimport { ActionButtonProps } from \"../../utils/createActionButton\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { useAssistantState, useAssistantApi } from \"../../context\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\n\nconst useActionBarFeedbackPositive = () => {\n  const api = useAssistantApi();\n\n  const callback = useCallback(() => {\n    api.message().submitFeedback({ type: \"positive\" });\n  }, [api]);\n\n  return callback;\n};\n\nexport namespace ActionBarPrimitiveFeedbackPositive {\n  export type Element = HTMLButtonElement;\n  export type Props = ActionButtonProps<typeof useActionBarFeedbackPositive>;\n}\n\nexport const ActionBarPrimitiveFeedbackPositive = forwardRef<\n  ActionBarPrimitiveFeedbackPositive.Element,\n  ActionBarPrimitiveFeedbackPositive.Props\n>(({ onClick, disabled, ...props }, forwardedRef) => {\n  const isSubmitted = useAssistantState(\n    (s) => s.message.metadata.submittedFeedback?.type === \"positive\",\n  );\n  const callback = useActionBarFeedbackPositive();\n  return (\n    <Primitive.button\n      type=\"button\"\n      {...(isSubmitted ? { \"data-submitted\": \"true\" } : {})}\n      {...props}\n      ref={forwardedRef}\n      disabled={disabled || !callback}\n      onClick={composeEventHandlers(onClick, () => {\n        callback?.();\n      })}\n    />\n  );\n});\n\nActionBarPrimitiveFeedbackPositive.displayName =\n  \"ActionBarPrimitive.FeedbackPositive\";\n"],"names":[],"mappings":";;;;;AAEA,SAAS,YAAY,mBAAmB;AAExC,SAAS,4BAA4B;;AACrC,SAAS,mBAAmB,uBAAuB;AACnD,SAAS,iBAAiB;AA0BtB;;;;;;;AAxBJ,IAAM,+BAA+B,MAAM;IACzC,MAAM,UAAM,0aAAA,CAAgB;IAE5B,MAAM,eAAW,2XAAA,EAAY,MAAM;QACjC,IAAI,OAAA,CAAQ,EAAE,cAAA,CAAe;YAAE,MAAM;QAAW,CAAC;IACnD,GAAG;QAAC,GAAG;KAAC;IAER,OAAO;AACT;AAOO,IAAM,yCAAqC,0XAAA,EAGhD,CAAC,EAAE,OAAA,EAAS,QAAA,EAAU,GAAG,MAAM,CAAA,EAAG,iBAAiB;IACnD,MAAM,kBAAc,mbAAA,EAClB,CAAC,IAAM,EAAE,OAAA,CAAQ,QAAA,CAAS,iBAAA,EAAmB,SAAS;IAExD,MAAM,WAAW,6BAA6B;IAC9C,OACE,aAAA,GAAA,IAAA,qYAAA,EAAC,yYAAA,CAAU,MAAA,EAAV;QACC,MAAK;QACJ,GAAI,cAAc;YAAE,kBAAkB;QAAO,IAAI,CAAC,CAAA;QAClD,GAAG,KAAA;QACJ,KAAK;QACL,UAAU,YAAY,CAAC;QACvB,aAAS,2PAAA,EAAqB,SAAS,MAAM;YAC3C,WAAW;QACb,CAAC;IAAA;AAGP,CAAC;AAED,mCAAmC,WAAA,GACjC","debugId":null}},
    {"offset": {"line": 382, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Breact%400.11.37_%40types%2Breact-dom%4019.2.2_%40types%2Breact%4019.2.2__%40types%2Breact%4019.2.2__utqnq2rpqwwcg76r2vcd3th5pi/node_modules/%40assistant-ui/react/src/primitives/actionBar/ActionBarFeedbackNegative.tsx"],"sourcesContent":["\"use client\";\n\nimport { forwardRef } from \"react\";\nimport { ActionButtonProps } from \"../../utils/createActionButton\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { useCallback } from \"react\";\nimport { useAssistantState, useAssistantApi } from \"../../context\";\n\nconst useActionBarFeedbackNegative = () => {\n  const api = useAssistantApi();\n\n  const callback = useCallback(() => {\n    api.message().submitFeedback({ type: \"negative\" });\n  }, [api]);\n\n  return callback;\n};\n\nexport namespace ActionBarPrimitiveFeedbackNegative {\n  export type Element = HTMLButtonElement;\n  export type Props = ActionButtonProps<typeof useActionBarFeedbackNegative>;\n}\n\nexport const ActionBarPrimitiveFeedbackNegative = forwardRef<\n  ActionBarPrimitiveFeedbackNegative.Element,\n  ActionBarPrimitiveFeedbackNegative.Props\n>(({ onClick, disabled, ...props }, forwardedRef) => {\n  const isSubmitted = useAssistantState(\n    (s) => s.message.metadata.submittedFeedback?.type === \"negative\",\n  );\n  const callback = useActionBarFeedbackNegative();\n  return (\n    <Primitive.button\n      type=\"button\"\n      {...(isSubmitted ? { \"data-submitted\": \"true\" } : {})}\n      {...props}\n      ref={forwardedRef}\n      disabled={disabled || !callback}\n      onClick={composeEventHandlers(onClick, () => {\n        callback?.();\n      })}\n    />\n  );\n});\n\nActionBarPrimitiveFeedbackNegative.displayName =\n  \"ActionBarPrimitive.FeedbackNegative\";\n"],"names":[],"mappings":";;;;;AAEA,SAAS,kBAAkB;AAE3B,SAAS,4BAA4B;AACrC,SAAS,iBAAiB;;AAE1B,SAAS,mBAAmB,uBAAuB;AA0B/C;;;;;;;;AAxBJ,IAAM,+BAA+B,MAAM;IACzC,MAAM,UAAM,0aAAA,CAAgB;IAE5B,MAAM,eAAW,2XAAA,EAAY,MAAM;QACjC,IAAI,OAAA,CAAQ,EAAE,cAAA,CAAe;YAAE,MAAM;QAAW,CAAC;IACnD,GAAG;QAAC,GAAG;KAAC;IAER,OAAO;AACT;AAOO,IAAM,yCAAqC,0XAAA,EAGhD,CAAC,EAAE,OAAA,EAAS,QAAA,EAAU,GAAG,MAAM,CAAA,EAAG,iBAAiB;IACnD,MAAM,kBAAc,mbAAA,EAClB,CAAC,IAAM,EAAE,OAAA,CAAQ,QAAA,CAAS,iBAAA,EAAmB,SAAS;IAExD,MAAM,WAAW,6BAA6B;IAC9C,OACE,aAAA,GAAA,IAAA,qYAAA,EAAC,yYAAA,CAAU,MAAA,EAAV;QACC,MAAK;QACJ,GAAI,cAAc;YAAE,kBAAkB;QAAO,IAAI,CAAC,CAAA;QAClD,GAAG,KAAA;QACJ,KAAK;QACL,UAAU,YAAY,CAAC;QACvB,aAAS,2PAAA,EAAqB,SAAS,MAAM;YAC3C,WAAW;QACb,CAAC;IAAA;AAGP,CAAC;AAED,mCAAmC,WAAA,GACjC","debugId":null}},
    {"offset": {"line": 434, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Breact%400.11.37_%40types%2Breact-dom%4019.2.2_%40types%2Breact%4019.2.2__%40types%2Breact%4019.2.2__utqnq2rpqwwcg76r2vcd3th5pi/node_modules/%40assistant-ui/react/src/primitives/actionBar/index.ts"],"sourcesContent":["export { ActionBarPrimitiveRoot as Root } from \"./ActionBarRoot\";\nexport { ActionBarPrimitiveCopy as Copy } from \"./ActionBarCopy\";\nexport { ActionBarPrimitiveReload as Reload } from \"./ActionBarReload\";\nexport { ActionBarPrimitiveEdit as Edit } from \"./ActionBarEdit\";\nexport { ActionBarPrimitiveSpeak as Speak } from \"./ActionBarSpeak\";\nexport { ActionBarPrimitiveStopSpeaking as StopSpeaking } from \"./ActionBarStopSpeaking\";\nexport { ActionBarPrimitiveFeedbackPositive as FeedbackPositive } from \"./ActionBarFeedbackPositive\";\nexport { ActionBarPrimitiveFeedbackNegative as FeedbackNegative } from \"./ActionBarFeedbackNegative\";\n"],"names":[],"mappings":";;AAAA,SAAmC,8BAAY;AAC/C,SAAmC,8BAAY;AAC/C,SAAqC,gCAAc;AACnD,SAAmC,8BAAY;AAC/C,SAAoC,+BAAa;AACjD,SAA2C,sCAAoB;AAC/D,SAA+C,0CAAwB;AACvE,SAA+C,0CAAwB","debugId":null}},
    {"offset": {"line": 498, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Breact%400.11.37_%40types%2Breact-dom%4019.2.2_%40types%2Breact%4019.2.2__%40types%2Breact%4019.2.2__utqnq2rpqwwcg76r2vcd3th5pi/node_modules/%40assistant-ui/react/src/primitives/branchPicker/BranchPickerNext.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n  ActionButtonElement,\n  ActionButtonProps,\n  createActionButton,\n} from \"../../utils/createActionButton\";\nimport { useCallback } from \"react\";\nimport { useAssistantState, useAssistantApi } from \"../../context\";\n\nconst useBranchPickerNext = () => {\n  const api = useAssistantApi();\n  const disabled = useAssistantState(({ thread, message }) => {\n    // Disabled if no next branch\n    if (message.branchNumber >= message.branchCount) return true;\n\n    // Disabled if running and capability not supported\n    if (thread.isRunning && !thread.capabilities.switchBranchDuringRun) {\n      return true;\n    }\n\n    return false;\n  });\n\n  const callback = useCallback(() => {\n    api.message().switchToBranch({ position: \"next\" });\n  }, [api]);\n\n  if (disabled) return null;\n  return callback;\n};\n\nexport namespace BranchPickerPrimitiveNext {\n  export type Element = ActionButtonElement;\n  /**\n   * Props for the BranchPickerPrimitive.Next component.\n   * Inherits all button element props and action button functionality.\n   */\n  export type Props = ActionButtonProps<typeof useBranchPickerNext>;\n}\n\n/**\n * A button component that navigates to the next branch in the message tree.\n *\n * This component automatically handles switching to the next available branch\n * and is disabled when there are no more branches to navigate to.\n *\n * @example\n * ```tsx\n * <BranchPickerPrimitive.Next>\n *   Next →\n * </BranchPickerPrimitive.Next>\n * ```\n */\nexport const BranchPickerPrimitiveNext = createActionButton(\n  \"BranchPickerPrimitive.Next\",\n  useBranchPickerNext,\n);\n"],"names":[],"mappings":";;;;;AAEA;AAKA,SAAS,mBAAmB;;AAC5B,SAAS,mBAAmB,uBAAuB;;;;;AAEnD,IAAM,sBAAsB,MAAM;IAChC,MAAM,UAAM,0aAAA,CAAgB;IAC5B,MAAM,eAAW,mbAAA,EAAkB,CAAC,EAAE,MAAA,EAAQ,OAAA,CAAQ,CAAA,KAAM;QAE1D,IAAI,QAAQ,YAAA,IAAgB,QAAQ,WAAA,CAAa,CAAA,OAAO;QAGxD,IAAI,OAAO,SAAA,IAAa,CAAC,OAAO,YAAA,CAAa,qBAAA,EAAuB;YAClE,OAAO;QACT;QAEA,OAAO;IACT,CAAC;IAED,MAAM,eAAW,2XAAA,EAAY,MAAM;QACjC,IAAI,OAAA,CAAQ,EAAE,cAAA,CAAe;YAAE,UAAU;QAAO,CAAC;IACnD,GAAG;QAAC,GAAG;KAAC;IAER,IAAI,SAAU,CAAA,OAAO;IACrB,OAAO;AACT;AAwBO,IAAM,gCAA4B,iaAAA,EACvC,8BACA","debugId":null}},
    {"offset": {"line": 537, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Breact%400.11.37_%40types%2Breact-dom%4019.2.2_%40types%2Breact%4019.2.2__%40types%2Breact%4019.2.2__utqnq2rpqwwcg76r2vcd3th5pi/node_modules/%40assistant-ui/react/src/primitives/branchPicker/BranchPickerPrevious.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n  ActionButtonElement,\n  ActionButtonProps,\n  createActionButton,\n} from \"../../utils/createActionButton\";\nimport { useCallback } from \"react\";\nimport { useAssistantState, useAssistantApi } from \"../../context\";\n\n/**\n * Hook that provides navigation to the previous branch functionality.\n *\n * This hook returns a callback function that switches to the previous branch\n * in the message branch tree, or null if there is no previous branch available.\n *\n * @returns A previous branch callback function, or null if navigation is disabled\n *\n * @example\n * ```tsx\n * function CustomPreviousButton() {\n *   const previous = useBranchPickerPrevious();\n *\n *   return (\n *     <button onClick={previous} disabled={!previous}>\n *       {previous ? \"Previous Branch\" : \"No Previous Branch\"}\n *     </button>\n *   );\n * }\n * ```\n */\nconst useBranchPickerPrevious = () => {\n  const api = useAssistantApi();\n  const disabled = useAssistantState(({ thread, message }) => {\n    // Disabled if no previous branch\n    if (message.branchNumber <= 1) return true;\n\n    // Disabled if running and capability not supported\n    if (thread.isRunning && !thread.capabilities.switchBranchDuringRun) {\n      return true;\n    }\n\n    return false;\n  });\n\n  const callback = useCallback(() => {\n    api.message().switchToBranch({ position: \"previous\" });\n  }, [api]);\n\n  if (disabled) return null;\n  return callback;\n};\n\nexport namespace BranchPickerPrimitivePrevious {\n  export type Element = ActionButtonElement;\n  /**\n   * Props for the BranchPickerPrimitive.Previous component.\n   * Inherits all button element props and action button functionality.\n   */\n  export type Props = ActionButtonProps<typeof useBranchPickerPrevious>;\n}\n\n/**\n * A button component that navigates to the previous branch in the message tree.\n *\n * This component automatically handles switching to the previous available branch\n * and is disabled when there are no previous branches to navigate to.\n *\n * @example\n * ```tsx\n * <BranchPickerPrimitive.Previous>\n *   ← Previous\n * </BranchPickerPrimitive.Previous>\n * ```\n */\nexport const BranchPickerPrimitivePrevious = createActionButton(\n  \"BranchPickerPrimitive.Previous\",\n  useBranchPickerPrevious,\n);\n"],"names":[],"mappings":";;;;;AAEA;AAKA,SAAS,mBAAmB;;AAC5B,SAAS,mBAAmB,uBAAuB;;;;;AAuBnD,IAAM,0BAA0B,MAAM;IACpC,MAAM,UAAM,0aAAA,CAAgB;IAC5B,MAAM,eAAW,mbAAA,EAAkB,CAAC,EAAE,MAAA,EAAQ,OAAA,CAAQ,CAAA,KAAM;QAE1D,IAAI,QAAQ,YAAA,IAAgB,EAAG,CAAA,OAAO;QAGtC,IAAI,OAAO,SAAA,IAAa,CAAC,OAAO,YAAA,CAAa,qBAAA,EAAuB;YAClE,OAAO;QACT;QAEA,OAAO;IACT,CAAC;IAED,MAAM,eAAW,2XAAA,EAAY,MAAM;QACjC,IAAI,OAAA,CAAQ,EAAE,cAAA,CAAe;YAAE,UAAU;QAAW,CAAC;IACvD,GAAG;QAAC,GAAG;KAAC;IAER,IAAI,SAAU,CAAA,OAAO;IACrB,OAAO;AACT;AAwBO,IAAM,oCAAgC,iaAAA,EAC3C,kCACA","debugId":null}},
    {"offset": {"line": 576, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Breact%400.11.37_%40types%2Breact-dom%4019.2.2_%40types%2Breact%4019.2.2__%40types%2Breact%4019.2.2__utqnq2rpqwwcg76r2vcd3th5pi/node_modules/%40assistant-ui/react/src/primitives/branchPicker/BranchPickerCount.tsx"],"sourcesContent":["\"use client\";\n\nimport type { FC } from \"react\";\nimport { useAssistantState } from \"../../context\";\n\nconst useBranchPickerCount = () => {\n  const branchCount = useAssistantState(({ message }) => message.branchCount);\n  return branchCount;\n};\n\nexport namespace BranchPickerPrimitiveCount {\n  /**\n   * Props for the BranchPickerPrimitive.Count component.\n   * This component takes no props.\n   */\n  export type Props = Record<string, never>;\n}\n\n/**\n * A component that displays the total number of branches for the current message.\n *\n * This component renders the branch count as plain text, useful for showing\n * users how many alternative responses are available.\n *\n * @example\n * ```tsx\n * <div>\n *   Branch <BranchPickerPrimitive.Count /> of {totalBranches}\n * </div>\n * ```\n */\nexport const BranchPickerPrimitiveCount: FC<\n  BranchPickerPrimitiveCount.Props\n> = () => {\n  const branchCount = useBranchPickerCount();\n  return <>{branchCount}</>;\n};\n\nBranchPickerPrimitiveCount.displayName = \"BranchPickerPrimitive.Count\";\n"],"names":[],"mappings":";;;;;AAGA,SAAS,yBAAyB;AAgCzB;;;;AA9BT,IAAM,uBAAuB,MAAM;IACjC,MAAM,kBAAc,mbAAA,EAAkB,CAAC,EAAE,OAAA,CAAQ,CAAA,GAAM,QAAQ,WAAW;IAC1E,OAAO;AACT;AAuBO,IAAM,6BAET,MAAM;IACR,MAAM,cAAc,qBAAqB;IACzC,OAAO,aAAA,GAAA,IAAA,qYAAA,EAAA,0YAAA,EAAA;QAAG,UAAA;IAAA,CAAY;AACxB;AAEA,2BAA2B,WAAA,GAAc","debugId":null}},
    {"offset": {"line": 603, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Breact%400.11.37_%40types%2Breact-dom%4019.2.2_%40types%2Breact%4019.2.2__%40types%2Breact%4019.2.2__utqnq2rpqwwcg76r2vcd3th5pi/node_modules/%40assistant-ui/react/src/primitives/branchPicker/BranchPickerNumber.tsx"],"sourcesContent":["\"use client\";\n\nimport type { FC } from \"react\";\nimport { useAssistantState } from \"../../context\";\n\nconst useBranchPickerNumber = () => {\n  const branchNumber = useAssistantState(({ message }) => message.branchNumber);\n  return branchNumber;\n};\n\nexport namespace BranchPickerPrimitiveNumber {\n  export type Props = Record<string, never>;\n}\n\nexport const BranchPickerPrimitiveNumber: FC<\n  BranchPickerPrimitiveNumber.Props\n> = () => {\n  const branchNumber = useBranchPickerNumber();\n  return <>{branchNumber}</>;\n};\n\nBranchPickerPrimitiveNumber.displayName = \"BranchPickerPrimitive.Number\";\n"],"names":[],"mappings":";;;;;AAGA,SAAS,yBAAyB;AAezB;;;;AAbT,IAAM,wBAAwB,MAAM;IAClC,MAAM,mBAAe,mbAAA,EAAkB,CAAC,EAAE,OAAA,CAAQ,CAAA,GAAM,QAAQ,YAAY;IAC5E,OAAO;AACT;AAMO,IAAM,8BAET,MAAM;IACR,MAAM,eAAe,sBAAsB;IAC3C,OAAO,aAAA,GAAA,IAAA,qYAAA,EAAA,0YAAA,EAAA;QAAG,UAAA;IAAA,CAAa;AACzB;AAEA,4BAA4B,WAAA,GAAc","debugId":null}},
    {"offset": {"line": 630, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Breact%400.11.37_%40types%2Breact-dom%4019.2.2_%40types%2Breact%4019.2.2__%40types%2Breact%4019.2.2__utqnq2rpqwwcg76r2vcd3th5pi/node_modules/%40assistant-ui/react/src/primitives/message/MessageIf.tsx"],"sourcesContent":["\"use client\";\n\nimport type { FC, PropsWithChildren } from \"react\";\nimport { useAssistantState } from \"../../context\";\nimport type { RequireAtLeastOne } from \"../../utils/RequireAtLeastOne\";\n\ntype MessageIfFilters = {\n  user: boolean | undefined;\n  assistant: boolean | undefined;\n  system: boolean | undefined;\n  hasBranches: boolean | undefined;\n  copied: boolean | undefined;\n  lastOrHover: boolean | undefined;\n  last: boolean | undefined;\n  speaking: boolean | undefined;\n  hasAttachments: boolean | undefined;\n  hasContent: boolean | undefined;\n  submittedFeedback: \"positive\" | \"negative\" | null | undefined;\n};\ntype UseMessageIfProps = RequireAtLeastOne<MessageIfFilters>;\n\nconst useMessageIf = (props: UseMessageIfProps) => {\n  return useAssistantState(({ message }) => {\n    const {\n      role,\n      attachments,\n      parts,\n      branchCount,\n      isLast,\n      speech,\n      isCopied,\n      isHovering,\n    } = message;\n\n    if (props.hasBranches === true && branchCount < 2) return false;\n\n    if (props.user && role !== \"user\") return false;\n    if (props.assistant && role !== \"assistant\") return false;\n    if (props.system && role !== \"system\") return false;\n\n    if (props.lastOrHover === true && !isHovering && !isLast) return false;\n    if (props.last !== undefined && props.last !== isLast) return false;\n\n    if (props.copied === true && !isCopied) return false;\n    if (props.copied === false && isCopied) return false;\n\n    if (props.speaking === true && speech == null) return false;\n    if (props.speaking === false && speech != null) return false;\n\n    if (\n      props.hasAttachments === true &&\n      (role !== \"user\" || !attachments?.length)\n    )\n      return false;\n    if (\n      props.hasAttachments === false &&\n      role === \"user\" &&\n      !!attachments?.length\n    )\n      return false;\n\n    if (props.hasContent === true && parts.length === 0) return false;\n    if (props.hasContent === false && parts.length > 0) return false;\n\n    if (\n      props.submittedFeedback !== undefined &&\n      (message.metadata.submittedFeedback?.type ?? null) !==\n        props.submittedFeedback\n    )\n      return false;\n\n    return true;\n  });\n};\n\nexport namespace MessagePrimitiveIf {\n  export type Props = PropsWithChildren<UseMessageIfProps>;\n}\n\nexport const MessagePrimitiveIf: FC<MessagePrimitiveIf.Props> = ({\n  children,\n  ...query\n}) => {\n  const result = useMessageIf(query);\n  return result ? children : null;\n};\n\nMessagePrimitiveIf.displayName = \"MessagePrimitive.If\";\n"],"names":[],"mappings":";;;;;AAGA,SAAS,yBAAyB;;;AAkBlC,IAAM,eAAe,CAAC,UAA6B;IACjD,WAAO,mbAAA,EAAkB,CAAC,EAAE,OAAA,CAAQ,CAAA,KAAM;QACxC,MAAM,EACJ,IAAA,EACA,WAAA,EACA,KAAA,EACA,WAAA,EACA,MAAA,EACA,MAAA,EACA,QAAA,EACA,UAAA,EACF,GAAI;QAEJ,IAAI,MAAM,WAAA,KAAgB,QAAQ,cAAc,EAAG,CAAA,OAAO;QAE1D,IAAI,MAAM,IAAA,IAAQ,SAAS,OAAQ,CAAA,OAAO;QAC1C,IAAI,MAAM,SAAA,IAAa,SAAS,YAAa,CAAA,OAAO;QACpD,IAAI,MAAM,MAAA,IAAU,SAAS,SAAU,CAAA,OAAO;QAE9C,IAAI,MAAM,WAAA,KAAgB,QAAQ,CAAC,cAAc,CAAC,OAAQ,CAAA,OAAO;QACjE,IAAI,MAAM,IAAA,KAAS,KAAA,KAAa,MAAM,IAAA,KAAS,OAAQ,CAAA,OAAO;QAE9D,IAAI,MAAM,MAAA,KAAW,QAAQ,CAAC,SAAU,CAAA,OAAO;QAC/C,IAAI,MAAM,MAAA,KAAW,SAAS,SAAU,CAAA,OAAO;QAE/C,IAAI,MAAM,QAAA,KAAa,QAAQ,UAAU,KAAM,CAAA,OAAO;QACtD,IAAI,MAAM,QAAA,KAAa,SAAS,UAAU,KAAM,CAAA,OAAO;QAEvD,IACE,MAAM,cAAA,KAAmB,QAAA,CACxB,SAAS,UAAU,CAAC,aAAa,MAAA,GAElC,OAAO;QACT,IACE,MAAM,cAAA,KAAmB,SACzB,SAAS,UACT,CAAC,CAAC,aAAa,QAEf,OAAO;QAET,IAAI,MAAM,UAAA,KAAe,QAAQ,MAAM,MAAA,KAAW,EAAG,CAAA,OAAO;QAC5D,IAAI,MAAM,UAAA,KAAe,SAAS,MAAM,MAAA,GAAS,EAAG,CAAA,OAAO;QAE3D,IACE,MAAM,iBAAA,KAAsB,KAAA,KAAA,CAC3B,QAAQ,QAAA,CAAS,iBAAA,EAAmB,QAAQ,IAAA,MAC3C,MAAM,iBAAA,EAER,OAAO;QAET,OAAO;IACT,CAAC;AACH;AAMO,IAAM,qBAAmD,CAAC,EAC/D,QAAA,EACA,GAAG,OACL,KAAM;IACJ,MAAM,SAAS,aAAa,KAAK;IACjC,OAAO,SAAS,WAAW;AAC7B;AAEA,mBAAmB,WAAA,GAAc","debugId":null}},
    {"offset": {"line": 679, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Breact%400.11.37_%40types%2Breact-dom%4019.2.2_%40types%2Breact%4019.2.2__%40types%2Breact%4019.2.2__utqnq2rpqwwcg76r2vcd3th5pi/node_modules/%40assistant-ui/react/src/primitives/branchPicker/BranchPickerRoot.tsx"],"sourcesContent":["\"use client\";\n\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { type ComponentRef, forwardRef, ComponentPropsWithoutRef } from \"react\";\nimport { If } from \"../message\";\n\nexport namespace BranchPickerPrimitiveRoot {\n  export type Element = ComponentRef<typeof Primitive.div>;\n  export type Props = ComponentPropsWithoutRef<typeof Primitive.div> & {\n    /**\n     * Whether to hide the branch picker when there's only one branch available.\n     * When true, the component will only render when multiple branches exist.\n     * @default false\n     */\n    hideWhenSingleBranch?: boolean | undefined;\n  };\n}\n\n/**\n * The root container for branch picker components.\n *\n * This component provides a container for branch navigation controls,\n * with optional conditional rendering based on the number of available branches.\n * It integrates with the message branching system to allow users to navigate\n * between different response variations.\n *\n * @example\n * ```tsx\n * <BranchPickerPrimitive.Root hideWhenSingleBranch={true}>\n *   <BranchPickerPrimitive.Previous />\n *   <BranchPickerPrimitive.Count />\n *   <BranchPickerPrimitive.Next />\n * </BranchPickerPrimitive.Root>\n * ```\n */\nexport const BranchPickerPrimitiveRoot = forwardRef<\n  BranchPickerPrimitiveRoot.Element,\n  BranchPickerPrimitiveRoot.Props\n>(({ hideWhenSingleBranch, ...rest }, ref) => {\n  return (\n    <If hasBranches={hideWhenSingleBranch ? true : undefined}>\n      <Primitive.div {...rest} ref={ref} />\n    </If>\n  );\n});\n\nBranchPickerPrimitiveRoot.displayName = \"BranchPickerPrimitive.Root\";\n"],"names":[],"mappings":";;;;;AAEA,SAAS,iBAAiB;AAC1B,SAA4B,kBAA4C;AACxE,SAAS,UAAU;AAqCb;;;;;;AANC,IAAM,gCAA4B,0XAAA,EAGvC,CAAC,EAAE,oBAAA,EAAsB,GAAG,KAAK,CAAA,EAAG,QAAQ;IAC5C,OACE,aAAA,GAAA,IAAA,qYAAA,EAAC,ocAAA,EAAA;QAAG,aAAa,uBAAuB,OAAO,KAAA;QAC7C,UAAA,aAAA,GAAA,IAAA,qYAAA,EAAC,yYAAA,CAAU,GAAA,EAAV;YAAe,GAAG,IAAA;YAAM;QAAA,CAAU;IAAA,CACrC;AAEJ,CAAC;AAED,0BAA0B,WAAA,GAAc","debugId":null}},
    {"offset": {"line": 709, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Breact%400.11.37_%40types%2Breact-dom%4019.2.2_%40types%2Breact%4019.2.2__%40types%2Breact%4019.2.2__utqnq2rpqwwcg76r2vcd3th5pi/node_modules/%40assistant-ui/react/src/primitives/branchPicker/index.ts"],"sourcesContent":["export { BranchPickerPrimitiveNext as Next } from \"./BranchPickerNext\";\nexport { BranchPickerPrimitivePrevious as Previous } from \"./BranchPickerPrevious\";\nexport { BranchPickerPrimitiveCount as Count } from \"./BranchPickerCount\";\nexport { BranchPickerPrimitiveNumber as Number } from \"./BranchPickerNumber\";\nexport { BranchPickerPrimitiveRoot as Root } from \"./BranchPickerRoot\";\n"],"names":[],"mappings":";;AAAA,SAAsC,iCAAY;AAClD,SAA0C,qCAAgB;AAC1D,SAAuC,kCAAa;AACpD,SAAwC,mCAAc;AACtD,SAAsC,iCAAY","debugId":null}},
    {"offset": {"line": 758, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Breact%400.11.37_%40types%2Breact-dom%4019.2.2_%40types%2Breact%4019.2.2__%40types%2Breact%4019.2.2__utqnq2rpqwwcg76r2vcd3th5pi/node_modules/%40assistant-ui/react/src/primitives/composer/ComposerSend.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n  ActionButtonElement,\n  ActionButtonProps,\n  createActionButton,\n} from \"../../utils/createActionButton\";\nimport { useCallback } from \"react\";\nimport { useAssistantState, useAssistantApi } from \"../../context\";\n\nexport const useComposerSend = () => {\n  const api = useAssistantApi();\n\n  const disabled = useAssistantState(\n    (s) => s.thread.isRunning || !s.composer.isEditing || s.composer.isEmpty,\n  );\n\n  const callback = useCallback(() => {\n    api.composer().send();\n  }, [api]);\n\n  if (disabled) return null;\n  return callback;\n};\n\nexport namespace ComposerPrimitiveSend {\n  export type Element = ActionButtonElement;\n  /**\n   * Props for the ComposerPrimitive.Send component.\n   * Inherits all button element props and action button functionality.\n   */\n  export type Props = ActionButtonProps<typeof useComposerSend>;\n}\n\n/**\n * A button component that sends the current message in the composer.\n *\n * This component automatically handles the send functionality and is disabled\n * when sending is not available (e.g., when the thread is running, the composer\n * is empty, or not in editing mode).\n *\n * @example\n * ```tsx\n * <ComposerPrimitive.Send>\n *   Send Message\n * </ComposerPrimitive.Send>\n * ```\n */\nexport const ComposerPrimitiveSend = createActionButton(\n  \"ComposerPrimitive.Send\",\n  useComposerSend,\n);\n"],"names":[],"mappings":";;;;;;;AAEA;AAKA,SAAS,mBAAmB;;AAC5B,SAAS,mBAAmB,uBAAuB;;;;;AAE5C,IAAM,kBAAkB,MAAM;IACnC,MAAM,UAAM,0aAAA,CAAgB;IAE5B,MAAM,eAAW,mbAAA,EACf,CAAC,IAAM,EAAE,MAAA,CAAO,SAAA,IAAa,CAAC,EAAE,QAAA,CAAS,SAAA,IAAa,EAAE,QAAA,CAAS,OAAA;IAGnE,MAAM,eAAW,2XAAA,EAAY,MAAM;QACjC,IAAI,QAAA,CAAS,EAAE,IAAA,CAAK;IACtB,GAAG;QAAC,GAAG;KAAC;IAER,IAAI,SAAU,CAAA,OAAO;IACrB,OAAO;AACT;AAyBO,IAAM,4BAAwB,iaAAA,EACnC,0BACA","debugId":null}},
    {"offset": {"line": 791, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Breact%400.11.37_%40types%2Breact-dom%4019.2.2_%40types%2Breact%4019.2.2__%40types%2Breact%4019.2.2__utqnq2rpqwwcg76r2vcd3th5pi/node_modules/%40assistant-ui/react/src/primitives/composer/ComposerRoot.tsx"],"sourcesContent":["\"use client\";\n\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport {\n  type ComponentRef,\n  type FormEvent,\n  forwardRef,\n  ComponentPropsWithoutRef,\n} from \"react\";\nimport { useComposerSend } from \"./ComposerSend\";\n\nexport namespace ComposerPrimitiveRoot {\n  export type Element = ComponentRef<typeof Primitive.form>;\n  /**\n   * Props for the ComposerPrimitive.Root component.\n   * Accepts all standard form element props.\n   */\n  export type Props = ComponentPropsWithoutRef<typeof Primitive.form>;\n}\n\n/**\n * The root form container for message composition.\n *\n * This component provides a form wrapper that handles message submission when the form\n * is submitted (e.g., via Enter key or submit button). It automatically prevents the\n * default form submission and triggers the composer's send functionality.\n *\n * @example\n * ```tsx\n * <ComposerPrimitive.Root>\n *   <ComposerPrimitive.Input placeholder=\"Type your message...\" />\n *   <ComposerPrimitive.Send>Send</ComposerPrimitive.Send>\n * </ComposerPrimitive.Root>\n * ```\n */\nexport const ComposerPrimitiveRoot = forwardRef<\n  ComposerPrimitiveRoot.Element,\n  ComposerPrimitiveRoot.Props\n>(({ onSubmit, ...rest }, forwardedRef) => {\n  const send = useComposerSend();\n\n  const handleSubmit = (e: FormEvent) => {\n    e.preventDefault();\n\n    if (!send) return;\n    send();\n  };\n\n  return (\n    <Primitive.form\n      {...rest}\n      ref={forwardedRef}\n      onSubmit={composeEventHandlers(onSubmit, handleSubmit)}\n    />\n  );\n});\n\nComposerPrimitiveRoot.displayName = \"ComposerPrimitive.Root\";\n"],"names":[],"mappings":";;;;;AAEA,SAAS,4BAA4B;AACrC,SAAS,iBAAiB;AAC1B;AAMA,SAAS,uBAAuB;AAwC5B;;;;;;;AAdG,IAAM,4BAAwB,0XAAA,EAGnC,CAAC,EAAE,QAAA,EAAU,GAAG,KAAK,CAAA,EAAG,iBAAiB;IACzC,MAAM,WAAO,yaAAA,CAAgB;IAE7B,MAAM,eAAe,CAAC,MAAiB;QACrC,EAAE,cAAA,CAAe;QAEjB,IAAI,CAAC,KAAM,CAAA;QACX,KAAK;IACP;IAEA,OACE,aAAA,GAAA,IAAA,qYAAA,EAAC,yYAAA,CAAU,IAAA,EAAV;QACE,GAAG,IAAA;QACJ,KAAK;QACL,cAAU,2PAAA,EAAqB,UAAU,YAAY;IAAA;AAG3D,CAAC;AAED,sBAAsB,WAAA,GAAc","debugId":null}},
    {"offset": {"line": 827, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Breact%400.11.37_%40types%2Breact-dom%4019.2.2_%40types%2Breact%4019.2.2__%40types%2Breact%4019.2.2__utqnq2rpqwwcg76r2vcd3th5pi/node_modules/%40assistant-ui/react/src/utils/hooks/useOnScrollToBottom.tsx"],"sourcesContent":["\"use client\";\n\nimport { useCallbackRef } from \"@radix-ui/react-use-callback-ref\";\nimport { useEffect } from \"react\";\nimport { useThreadViewport } from \"../../context/react/ThreadViewportContext\";\n\nexport const useOnScrollToBottom = (callback: () => void) => {\n  const callbackRef = useCallbackRef(callback);\n  const onScrollToBottom = useThreadViewport((vp) => vp.onScrollToBottom);\n\n  useEffect(() => {\n    return onScrollToBottom(callbackRef);\n  }, [onScrollToBottom, callbackRef]);\n};\n"],"names":[],"mappings":";;;;;AAEA,SAAS,sBAAsB;AAC/B,SAAS,iBAAiB;AAC1B,SAAS,yBAAyB;;;;;AAE3B,IAAM,sBAAsB,CAAC,aAAyB;IAC3D,MAAM,kBAAc,0VAAA,EAAe,QAAQ;IAC3C,MAAM,uBAAmB,8aAAA,EAAkB,CAAC,KAAO,GAAG,gBAAgB;IAEtE,IAAA,yXAAA,EAAU,MAAM;QACd,OAAO,iBAAiB,WAAW;IACrC,GAAG;QAAC;QAAkB,WAAW;KAAC;AACpC","debugId":null}},
    {"offset": {"line": 855, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Breact%400.11.37_%40types%2Breact-dom%4019.2.2_%40types%2Breact%4019.2.2__%40types%2Breact%4019.2.2__utqnq2rpqwwcg76r2vcd3th5pi/node_modules/%40assistant-ui/react/src/primitives/composer/ComposerInput.tsx"],"sourcesContent":["\"use client\";\n\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport {\n  ClipboardEvent,\n  type KeyboardEvent,\n  forwardRef,\n  useCallback,\n  useEffect,\n  useRef,\n} from \"react\";\nimport TextareaAutosize, {\n  type TextareaAutosizeProps,\n} from \"react-textarea-autosize\";\nimport { useEscapeKeydown } from \"@radix-ui/react-use-escape-keydown\";\nimport { useOnScrollToBottom } from \"../../utils/hooks/useOnScrollToBottom\";\nimport { useAssistantState, useAssistantApi } from \"../../context\";\n\nexport namespace ComposerPrimitiveInput {\n  export type Element = HTMLTextAreaElement;\n  export type Props = TextareaAutosizeProps & {\n    /**\n     * Whether to render as a child component using Slot.\n     * When true, the component will merge its props with its child.\n     */\n    asChild?: boolean | undefined;\n    /**\n     * Whether to submit the message when Enter is pressed (without Shift).\n     * @default true\n     */\n    submitOnEnter?: boolean | undefined;\n    /**\n     * Whether to cancel message composition when Escape is pressed.\n     * @default true\n     */\n    cancelOnEscape?: boolean | undefined;\n    /**\n     * Whether to automatically focus the input when a new run starts.\n     * @default true\n     */\n    unstable_focusOnRunStart?: boolean | undefined;\n    /**\n     * Whether to automatically focus the input when scrolling to bottom.\n     * @default true\n     */\n    unstable_focusOnScrollToBottom?: boolean | undefined;\n    /**\n     * Whether to automatically focus the input when switching threads.\n     * @default true\n     */\n    unstable_focusOnThreadSwitched?: boolean | undefined;\n    /**\n     * Whether to automatically add pasted files as attachments.\n     * @default true\n     */\n    addAttachmentOnPaste?: boolean | undefined;\n  };\n}\n\n/**\n * A text input component for composing messages.\n *\n * This component provides a rich text input experience with automatic resizing,\n * keyboard shortcuts, file paste support, and intelligent focus management.\n * It integrates with the composer context to manage message state and submission.\n *\n * @example\n * ```tsx\n * <ComposerPrimitive.Input\n *   placeholder=\"Type your message...\"\n *   submitOnEnter={true}\n *   addAttachmentOnPaste={true}\n * />\n * ```\n */\nexport const ComposerPrimitiveInput = forwardRef<\n  ComposerPrimitiveInput.Element,\n  ComposerPrimitiveInput.Props\n>(\n  (\n    {\n      autoFocus = false,\n      asChild,\n      disabled: disabledProp,\n      onChange,\n      onKeyDown,\n      onPaste,\n      submitOnEnter = true,\n      cancelOnEscape = true,\n      unstable_focusOnRunStart = true,\n      unstable_focusOnScrollToBottom = true,\n      unstable_focusOnThreadSwitched = true,\n      addAttachmentOnPaste = true,\n      ...rest\n    },\n    forwardedRef,\n  ) => {\n    const api = useAssistantApi();\n\n    const value = useAssistantState(({ composer }) => {\n      if (!composer.isEditing) return \"\";\n      return composer.text;\n    });\n\n    const Component = asChild ? Slot : TextareaAutosize;\n\n    const isDisabled =\n      useAssistantState(({ thread }) => thread.isDisabled) || disabledProp;\n    const textareaRef = useRef<HTMLTextAreaElement>(null);\n    const ref = useComposedRefs(forwardedRef, textareaRef);\n\n    useEscapeKeydown((e) => {\n      if (!cancelOnEscape) return;\n\n      const composer = api.composer();\n      if (composer.getState().canCancel) {\n        composer.cancel();\n        e.preventDefault();\n      }\n    });\n\n    const handleKeyPress = (e: KeyboardEvent) => {\n      if (isDisabled || !submitOnEnter) return;\n\n      // ignore IME composition events\n      if (e.nativeEvent.isComposing) return;\n\n      if (e.key === \"Enter\" && e.shiftKey === false) {\n        const isRunning = api.thread().getState().isRunning;\n\n        if (!isRunning) {\n          e.preventDefault();\n\n          textareaRef.current?.closest(\"form\")?.requestSubmit();\n        }\n      }\n    };\n\n    const handlePaste = async (e: ClipboardEvent<HTMLTextAreaElement>) => {\n      if (!addAttachmentOnPaste) return;\n      const threadCapabilities = api.thread().getState().capabilities;\n      const files = Array.from(e.clipboardData?.files || []);\n\n      if (threadCapabilities.attachments && files.length > 0) {\n        try {\n          e.preventDefault();\n          await Promise.all(\n            files.map((file) => api.composer().addAttachment(file)),\n          );\n        } catch (error) {\n          console.error(\"Error adding attachment:\", error);\n        }\n      }\n    };\n\n    const autoFocusEnabled = autoFocus && !isDisabled;\n    const focus = useCallback(() => {\n      const textarea = textareaRef.current;\n      if (!textarea || !autoFocusEnabled) return;\n\n      textarea.focus({ preventScroll: true });\n      textarea.setSelectionRange(textarea.value.length, textarea.value.length);\n    }, [autoFocusEnabled]);\n\n    useEffect(() => focus(), [focus]);\n\n    useOnScrollToBottom(() => {\n      if (\n        api.composer().getState().type === \"thread\" &&\n        unstable_focusOnScrollToBottom\n      ) {\n        focus();\n      }\n    });\n\n    useEffect(() => {\n      if (\n        api.composer().getState().type !== \"thread\" ||\n        !unstable_focusOnRunStart\n      )\n        return undefined;\n\n      return api.on(\"thread.run-start\", focus);\n    }, [unstable_focusOnRunStart, focus, api]);\n\n    useEffect(() => {\n      if (\n        api.composer().getState().type !== \"thread\" ||\n        !unstable_focusOnThreadSwitched\n      )\n        return undefined;\n\n      return api.on(\"thread-list-item.switched-to\", focus);\n    }, [unstable_focusOnThreadSwitched, focus, api]);\n\n    return (\n      <Component\n        name=\"input\"\n        value={value}\n        {...rest}\n        ref={ref as React.ForwardedRef<HTMLTextAreaElement>}\n        disabled={isDisabled}\n        onChange={composeEventHandlers(onChange, (e) => {\n          if (!api.composer().getState().isEditing) return;\n          api.composer().setText(e.target.value);\n          api.flushSync();\n        })}\n        onKeyDown={composeEventHandlers(onKeyDown, handleKeyPress)}\n        onPaste={composeEventHandlers(onPaste, handlePaste)}\n      />\n    );\n  },\n);\n\nComposerPrimitiveInput.displayName = \"ComposerPrimitive.Input\";\n"],"names":[],"mappings":";;;;;AAEA,SAAS,4BAA4B;AACrC,SAAS,uBAAuB;AAChC,SAAS,YAAY;AACrB;AAQA,OAAO,sBAEA;AACP,SAAS,wBAAwB;AACjC,SAAS,2BAA2B;;AACpC,SAAS,mBAAmB,uBAAuB;AAoL7C;;;;;;;;;;;AAzHC,IAAM,6BAAyB,0XAAA,EAIpC,CACE,EACE,YAAY,KAAA,EACZ,OAAA,EACA,UAAU,YAAA,EACV,QAAA,EACA,SAAA,EACA,OAAA,EACA,gBAAgB,IAAA,EAChB,iBAAiB,IAAA,EACjB,2BAA2B,IAAA,EAC3B,iCAAiC,IAAA,EACjC,iCAAiC,IAAA,EACjC,uBAAuB,IAAA,EACvB,GAAG,MACL,EACA,iBACG;IACH,MAAM,UAAM,0aAAA,CAAgB;IAE5B,MAAM,YAAQ,mbAAA,EAAkB,CAAC,EAAE,QAAA,CAAS,CAAA,KAAM;QAChD,IAAI,CAAC,SAAS,SAAA,CAAW,CAAA,OAAO;QAChC,OAAO,SAAS,IAAA;IAClB,CAAC;IAED,MAAM,YAAY,UAAU,4SAAA,GAAO,0VAAA;IAEnC,MAAM,iBACJ,mbAAA,EAAkB,CAAC,EAAE,MAAA,CAAO,CAAA,GAAM,OAAO,UAAU,KAAK;IAC1D,MAAM,kBAAc,sXAAA,EAA4B,IAAI;IACpD,MAAM,MAAM,iVAAA,EAAgB,cAAc,WAAW;IAErD,IAAA,gWAAA,EAAiB,CAAC,MAAM;QACtB,IAAI,CAAC,eAAgB,CAAA;QAErB,MAAM,WAAW,IAAI,QAAA,CAAS;QAC9B,IAAI,SAAS,QAAA,CAAS,EAAE,SAAA,EAAW;YACjC,SAAS,MAAA,CAAO;YAChB,EAAE,cAAA,CAAe;QACnB;IACF,CAAC;IAED,MAAM,iBAAiB,CAAC,MAAqB;QAC3C,IAAI,cAAc,CAAC,cAAe,CAAA;QAGlC,IAAI,EAAE,WAAA,CAAY,WAAA,CAAa,CAAA;QAE/B,IAAI,EAAE,GAAA,KAAQ,WAAW,EAAE,QAAA,KAAa,OAAO;YAC7C,MAAM,YAAY,IAAI,MAAA,CAAO,EAAE,QAAA,CAAS,EAAE,SAAA;YAE1C,IAAI,CAAC,WAAW;gBACd,EAAE,cAAA,CAAe;gBAEjB,YAAY,OAAA,EAAS,QAAQ,MAAM,GAAG,cAAc;YACtD;QACF;IACF;IAEA,MAAM,cAAc,OAAO,MAA2C;QACpE,IAAI,CAAC,qBAAsB,CAAA;QAC3B,MAAM,qBAAqB,IAAI,MAAA,CAAO,EAAE,QAAA,CAAS,EAAE,YAAA;QACnD,MAAM,QAAQ,MAAM,IAAA,CAAK,EAAE,aAAA,EAAe,SAAS,CAAC,CAAC;QAErD,IAAI,mBAAmB,WAAA,IAAe,MAAM,MAAA,GAAS,GAAG;YACtD,IAAI;gBACF,EAAE,cAAA,CAAe;gBACjB,MAAM,QAAQ,GAAA,CACZ,MAAM,GAAA,CAAI,CAAC,OAAS,IAAI,QAAA,CAAS,EAAE,aAAA,CAAc,IAAI,CAAC;YAE1D,EAAA,OAAS,OAAO;gBACd,QAAQ,KAAA,CAAM,4BAA4B,KAAK;YACjD;QACF;IACF;IAEA,MAAM,mBAAmB,aAAa,CAAC;IACvC,MAAM,YAAQ,2XAAA,EAAY,MAAM;QAC9B,MAAM,WAAW,YAAY,OAAA;QAC7B,IAAI,CAAC,YAAY,CAAC,iBAAkB,CAAA;QAEpC,SAAS,KAAA,CAAM;YAAE,eAAe;QAAK,CAAC;QACtC,SAAS,iBAAA,CAAkB,SAAS,KAAA,CAAM,MAAA,EAAQ,SAAS,KAAA,CAAM,MAAM;IACzE,GAAG;QAAC,gBAAgB;KAAC;IAErB,IAAA,yXAAA,EAAU,IAAM,MAAM,GAAG;QAAC,KAAK;KAAC;IAEhC,IAAA,4aAAA,EAAoB,MAAM;QACxB,IACE,IAAI,QAAA,CAAS,EAAE,QAAA,CAAS,EAAE,IAAA,KAAS,YACnC,gCACA;YACA,MAAM;QACR;IACF,CAAC;IAED,IAAA,yXAAA,EAAU,MAAM;QACd,IACE,IAAI,QAAA,CAAS,EAAE,QAAA,CAAS,EAAE,IAAA,KAAS,YACnC,CAAC,0BAED,OAAO,KAAA;QAET,OAAO,IAAI,EAAA,CAAG,oBAAoB,KAAK;IACzC,GAAG;QAAC;QAA0B;QAAO,GAAG;KAAC;IAEzC,IAAA,yXAAA,EAAU,MAAM;QACd,IACE,IAAI,QAAA,CAAS,EAAE,QAAA,CAAS,EAAE,IAAA,KAAS,YACnC,CAAC,gCAED,OAAO,KAAA;QAET,OAAO,IAAI,EAAA,CAAG,gCAAgC,KAAK;IACrD,GAAG;QAAC;QAAgC;QAAO,GAAG;KAAC;IAE/C,OACE,aAAA,GAAA,IAAA,qYAAA,EAAC,WAAA;QACC,MAAK;QACL;QACC,GAAG,IAAA;QACJ;QACA,UAAU;QACV,cAAU,2PAAA,EAAqB,UAAU,CAAC,MAAM;YAC9C,IAAI,CAAC,IAAI,QAAA,CAAS,EAAE,QAAA,CAAS,EAAE,SAAA,CAAW,CAAA;YAC1C,IAAI,QAAA,CAAS,EAAE,OAAA,CAAQ,EAAE,MAAA,CAAO,KAAK;YACrC,IAAI,SAAA,CAAU;QAChB,CAAC;QACD,eAAW,2PAAA,EAAqB,WAAW,cAAc;QACzD,aAAS,2PAAA,EAAqB,SAAS,WAAW;IAAA;AAGxD;AAGF,uBAAuB,WAAA,GAAc","debugId":null}},
    {"offset": {"line": 979, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Breact%400.11.37_%40types%2Breact-dom%4019.2.2_%40types%2Breact%4019.2.2__%40types%2Breact%4019.2.2__utqnq2rpqwwcg76r2vcd3th5pi/node_modules/%40assistant-ui/react/src/primitives/composer/ComposerCancel.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n  ActionButtonElement,\n  ActionButtonProps,\n  createActionButton,\n} from \"../../utils/createActionButton\";\nimport { useCallback } from \"react\";\nimport { useAssistantState, useAssistantApi } from \"../../context\";\n\nconst useComposerCancel = () => {\n  const api = useAssistantApi();\n  const disabled = useAssistantState(({ composer }) => !composer.canCancel);\n\n  const callback = useCallback(() => {\n    api.composer().cancel();\n  }, [api]);\n\n  if (disabled) return null;\n  return callback;\n};\n\nexport namespace ComposerPrimitiveCancel {\n  export type Element = ActionButtonElement;\n  /**\n   * Props for the ComposerPrimitive.Cancel component.\n   * Inherits all button element props and action button functionality.\n   */\n  export type Props = ActionButtonProps<typeof useComposerCancel>;\n}\n\n/**\n * A button component that cancels the current message composition.\n *\n * This component automatically handles the cancel functionality and is disabled\n * when canceling is not available.\n *\n * @example\n * ```tsx\n * <ComposerPrimitive.Cancel>\n *   Cancel\n * </ComposerPrimitive.Cancel>\n * ```\n */\nexport const ComposerPrimitiveCancel = createActionButton(\n  \"ComposerPrimitive.Cancel\",\n  useComposerCancel,\n);\n"],"names":[],"mappings":";;;;;AAEA;AAKA,SAAS,mBAAmB;;AAC5B,SAAS,mBAAmB,uBAAuB;;;;;AAEnD,IAAM,oBAAoB,MAAM;IAC9B,MAAM,UAAM,0aAAA,CAAgB;IAC5B,MAAM,eAAW,mbAAA,EAAkB,CAAC,EAAE,QAAA,CAAS,CAAA,GAAM,CAAC,SAAS,SAAS;IAExE,MAAM,eAAW,2XAAA,EAAY,MAAM;QACjC,IAAI,QAAA,CAAS,EAAE,MAAA,CAAO;IACxB,GAAG;QAAC,GAAG;KAAC;IAER,IAAI,SAAU,CAAA,OAAO;IACrB,OAAO;AACT;AAwBO,IAAM,8BAA0B,iaAAA,EACrC,4BACA","debugId":null}},
    {"offset": {"line": 1010, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Breact%400.11.37_%40types%2Breact-dom%4019.2.2_%40types%2Breact%4019.2.2__%40types%2Breact%4019.2.2__utqnq2rpqwwcg76r2vcd3th5pi/node_modules/%40assistant-ui/react/src/primitives/composer/ComposerAddAttachment.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n  ActionButtonElement,\n  ActionButtonProps,\n  createActionButton,\n} from \"../../utils/createActionButton\";\nimport { useCallback } from \"react\";\nimport { useAssistantState, useAssistantApi } from \"../../context\";\n\nconst useComposerAddAttachment = ({\n  multiple = true,\n}: {\n  /** allow selecting multiple files */\n  multiple?: boolean | undefined;\n} = {}) => {\n  const disabled = useAssistantState(({ composer }) => !composer.isEditing);\n  const api = useAssistantApi();\n\n  const callback = useCallback(() => {\n    const input = document.createElement(\"input\");\n    input.type = \"file\";\n    input.multiple = multiple;\n    input.hidden = true;\n\n    const attachmentAccept = api.composer().getState().attachmentAccept;\n    if (attachmentAccept !== \"*\") {\n      input.accept = attachmentAccept;\n    }\n\n    document.body.appendChild(input);\n\n    input.onchange = (e) => {\n      const fileList = (e.target as HTMLInputElement).files;\n      if (!fileList) return;\n      for (const file of fileList) {\n        api.composer().addAttachment(file);\n      }\n\n      document.body.removeChild(input);\n    };\n\n    input.oncancel = () => {\n      if (!input.files || input.files.length === 0) {\n        document.body.removeChild(input);\n      }\n    };\n\n    input.click();\n  }, [api, multiple]);\n\n  if (disabled) return null;\n  return callback;\n};\n\nexport namespace ComposerPrimitiveAddAttachment {\n  export type Element = ActionButtonElement;\n  export type Props = ActionButtonProps<typeof useComposerAddAttachment>;\n}\n\nexport const ComposerPrimitiveAddAttachment = createActionButton(\n  \"ComposerPrimitive.AddAttachment\",\n  useComposerAddAttachment,\n  [\"multiple\"],\n);\n"],"names":[],"mappings":";;;;;AAEA;AAKA,SAAS,mBAAmB;;AAC5B,SAAS,mBAAmB,uBAAuB;;;;;AAEnD,IAAM,2BAA2B,CAAC,EAChC,WAAW,IAAA,EACb,GAGI,CAAC,CAAA,KAAM;IACT,MAAM,eAAW,mbAAA,EAAkB,CAAC,EAAE,QAAA,CAAS,CAAA,GAAM,CAAC,SAAS,SAAS;IACxE,MAAM,UAAM,0aAAA,CAAgB;IAE5B,MAAM,eAAW,2XAAA,EAAY,MAAM;QACjC,MAAM,QAAQ,SAAS,aAAA,CAAc,OAAO;QAC5C,MAAM,IAAA,GAAO;QACb,MAAM,QAAA,GAAW;QACjB,MAAM,MAAA,GAAS;QAEf,MAAM,mBAAmB,IAAI,QAAA,CAAS,EAAE,QAAA,CAAS,EAAE,gBAAA;QACnD,IAAI,qBAAqB,KAAK;YAC5B,MAAM,MAAA,GAAS;QACjB;QAEA,SAAS,IAAA,CAAK,WAAA,CAAY,KAAK;QAE/B,MAAM,QAAA,GAAW,CAAC,MAAM;YACtB,MAAM,WAAY,EAAE,MAAA,CAA4B,KAAA;YAChD,IAAI,CAAC,SAAU,CAAA;YACf,KAAA,MAAW,QAAQ,SAAU;gBAC3B,IAAI,QAAA,CAAS,EAAE,aAAA,CAAc,IAAI;YACnC;YAEA,SAAS,IAAA,CAAK,WAAA,CAAY,KAAK;QACjC;QAEA,MAAM,QAAA,GAAW,MAAM;YACrB,IAAI,CAAC,MAAM,KAAA,IAAS,MAAM,KAAA,CAAM,MAAA,KAAW,GAAG;gBAC5C,SAAS,IAAA,CAAK,WAAA,CAAY,KAAK;YACjC;QACF;QAEA,MAAM,KAAA,CAAM;IACd,GAAG;QAAC;QAAK,QAAQ;KAAC;IAElB,IAAI,SAAU,CAAA,OAAO;IACrB,OAAO;AACT;AAOO,IAAM,qCAAiC,iaAAA,EAC5C,mCACA,0BACA;IAAC,UAAU;CAAA","debugId":null}},
    {"offset": {"line": 1066, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Breact%400.11.37_%40types%2Breact-dom%4019.2.2_%40types%2Breact%4019.2.2__%40types%2Breact%4019.2.2__utqnq2rpqwwcg76r2vcd3th5pi/node_modules/%40assistant-ui/react/src/context/providers/AttachmentByIndexProvider.tsx"],"sourcesContent":["\"use client\";\n\nimport { type FC, type PropsWithChildren } from \"react\";\n\nimport {\n  AssistantProvider,\n  useAssistantApi,\n  useExtendedAssistantApi,\n} from \"../react/AssistantApiContext\";\nimport { DerivedScope } from \"../../utils/tap-store/derived-scopes\";\n\nexport const MessageAttachmentByIndexProvider: FC<\n  PropsWithChildren<{\n    index: number;\n  }>\n> = ({ index, children }) => {\n  const baseApi = useAssistantApi();\n  const api = useExtendedAssistantApi({\n    attachment: DerivedScope({\n      source: \"message\",\n      query: { type: \"index\", index },\n      get: () => baseApi.message().attachment({ index }),\n    }),\n  });\n\n  return <AssistantProvider api={api}>{children}</AssistantProvider>;\n};\n\nexport const ComposerAttachmentByIndexProvider: FC<\n  PropsWithChildren<{\n    index: number;\n  }>\n> = ({ index, children }) => {\n  const baseApi = useAssistantApi();\n  const api = useExtendedAssistantApi({\n    attachment: DerivedScope({\n      source: \"composer\",\n      query: { type: \"index\", index },\n      get: () => baseApi.composer().attachment({ index }),\n    }),\n  });\n\n  return <AssistantProvider api={api}>{children}</AssistantProvider>;\n};\n"],"names":[],"mappings":";;;;;;;AAIA;AAKA,SAAS,oBAAoB;AAgBpB;;;;;AAdF,IAAM,mCAIT,CAAC,EAAE,KAAA,EAAO,QAAA,CAAS,CAAA,KAAM;IAC3B,MAAM,UAAU,8aAAA,CAAgB;IAChC,MAAM,UAAM,kbAAA,EAAwB;QAClC,gBAAY,0aAAA,EAAa;YACvB,QAAQ;YACR,OAAO;gBAAE,MAAM;gBAAS;YAAM;YAC9B,KAAK,IAAM,QAAQ,OAAA,CAAQ,EAAE,UAAA,CAAW;oBAAE;gBAAM,CAAC;QACnD,CAAC;IACH,CAAC;IAED,OAAO,aAAA,GAAA,IAAA,qYAAA,EAAC,4aAAA,EAAA;QAAkB;QAAW;IAAA,CAAS;AAChD;AAEO,IAAM,oCAIT,CAAC,EAAE,KAAA,EAAO,QAAA,CAAS,CAAA,KAAM;IAC3B,MAAM,cAAU,0aAAA,CAAgB;IAChC,MAAM,UAAM,kbAAA,EAAwB;QAClC,gBAAY,0aAAA,EAAa;YACvB,QAAQ;YACR,OAAO;gBAAE,MAAM;gBAAS;YAAM;YAC9B,KAAK,IAAM,QAAQ,QAAA,CAAS,EAAE,UAAA,CAAW;oBAAE;gBAAM,CAAC;QACpD,CAAC;IACH,CAAC;IAED,OAAO,aAAA,GAAA,IAAA,qYAAA,EAAC,4aAAA,EAAA;QAAkB;QAAW;IAAA,CAAS;AAChD","debugId":null}},
    {"offset": {"line": 1124, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Breact%400.11.37_%40types%2Breact-dom%4019.2.2_%40types%2Breact%4019.2.2__%40types%2Breact%4019.2.2__utqnq2rpqwwcg76r2vcd3th5pi/node_modules/%40assistant-ui/react/src/primitives/composer/ComposerAttachments.tsx"],"sourcesContent":["\"use client\";\n\nimport { ComponentType, type FC, memo, useMemo } from \"react\";\nimport { Attachment } from \"../../types\";\nimport {\n  useAssistantState,\n  ComposerAttachmentByIndexProvider,\n} from \"../../context\";\n\nexport namespace ComposerPrimitiveAttachments {\n  export type Props = {\n    components:\n      | {\n          Image?: ComponentType | undefined;\n          Document?: ComponentType | undefined;\n          File?: ComponentType | undefined;\n          Attachment?: ComponentType | undefined;\n        }\n      | undefined;\n  };\n}\n\nconst getComponent = (\n  components: ComposerPrimitiveAttachments.Props[\"components\"],\n  attachment: Attachment,\n) => {\n  const type = attachment.type;\n  switch (type) {\n    case \"image\":\n      return components?.Image ?? components?.Attachment;\n    case \"document\":\n      return components?.Document ?? components?.Attachment;\n    case \"file\":\n      return components?.File ?? components?.Attachment;\n    default:\n      const _exhaustiveCheck: never = type;\n      throw new Error(`Unknown attachment type: ${_exhaustiveCheck}`);\n  }\n};\n\nconst AttachmentComponent: FC<{\n  components: ComposerPrimitiveAttachments.Props[\"components\"];\n}> = ({ components }) => {\n  const attachment = useAssistantState(({ attachment }) => attachment);\n  if (!attachment) return null;\n\n  const Component = getComponent(components, attachment);\n  if (!Component) return null;\n  return <Component />;\n};\n\nexport namespace ComposerPrimitiveAttachmentByIndex {\n  export type Props = {\n    index: number;\n    components?: ComposerPrimitiveAttachments.Props[\"components\"];\n  };\n}\n\n/**\n * Renders a single attachment at the specified index within the composer.\n *\n * This component provides direct access to render a specific attachment\n * from the composer's attachment list using the provided component configuration.\n *\n * @example\n * ```tsx\n * <ComposerPrimitive.AttachmentByIndex\n *   index={0}\n *   components={{\n *     Image: MyImageAttachment,\n *     Document: MyDocumentAttachment\n *   }}\n * />\n * ```\n */\nexport const ComposerPrimitiveAttachmentByIndex: FC<ComposerPrimitiveAttachmentByIndex.Props> =\n  memo(\n    ({ index, components }) => {\n      return (\n        <ComposerAttachmentByIndexProvider index={index}>\n          <AttachmentComponent components={components} />\n        </ComposerAttachmentByIndexProvider>\n      );\n    },\n    (prev, next) =>\n      prev.index === next.index &&\n      prev.components?.Image === next.components?.Image &&\n      prev.components?.Document === next.components?.Document &&\n      prev.components?.File === next.components?.File &&\n      prev.components?.Attachment === next.components?.Attachment,\n  );\n\nComposerPrimitiveAttachmentByIndex.displayName =\n  \"ComposerPrimitive.AttachmentByIndex\";\n\nexport const ComposerPrimitiveAttachments: FC<\n  ComposerPrimitiveAttachments.Props\n> = ({ components }) => {\n  const attachmentsCount = useAssistantState(\n    (s) => s.composer.attachments.length,\n  );\n\n  const attachmentElements = useMemo(() => {\n    return Array.from({ length: attachmentsCount }, (_, index) => (\n      <ComposerPrimitiveAttachmentByIndex\n        key={index}\n        index={index}\n        components={components}\n      />\n    ));\n  }, [attachmentsCount, components]);\n\n  return attachmentElements;\n};\n\nComposerPrimitiveAttachments.displayName = \"ComposerPrimitive.Attachments\";\n"],"names":["attachment"],"mappings":";;;;;;;AAEA,SAAiC,MAAM,eAAe;AAEtD;;AA4CS;;;;;AA1BT,IAAM,eAAe,CACnB,YACA,eACG;IACH,MAAM,OAAO,WAAW,IAAA;IACxB,OAAQ,MAAM;QACZ,KAAK;YACH,OAAO,YAAY,SAAS,YAAY;QAC1C,KAAK;YACH,OAAO,YAAY,YAAY,YAAY;QAC7C,KAAK;YACH,OAAO,YAAY,QAAQ,YAAY;QACzC;YACE,MAAM,mBAA0B;YAChC,MAAM,IAAI,MAAM,CAAA,yBAAA,EAA4B,gBAAgB,EAAE;IAClE;AACF;AAEA,IAAM,sBAED,CAAC,EAAE,UAAA,CAAW,CAAA,KAAM;IACvB,MAAM,iBAAa,mbAAA,EAAkB,CAAC,EAAE,YAAAA,WAAAA,CAAW,CAAA,GAAMA,WAAU;IACnE,IAAI,CAAC,WAAY,CAAA,OAAO;IAExB,MAAM,YAAY,aAAa,YAAY,UAAU;IACrD,IAAI,CAAC,UAAW,CAAA,OAAO;IACvB,OAAO,aAAA,GAAA,IAAA,qYAAA,EAAC,WAAA,CAAA,CAAU;AACpB;AA0BO,IAAM,yCACX,oXAAA,EACE,CAAC,EAAE,KAAA,EAAO,UAAA,CAAW,CAAA,KAAM;IACzB,OACE,aAAA,GAAA,IAAA,qYAAA,EAAC,scAAA,EAAA;QAAkC;QACjC,UAAA,aAAA,GAAA,IAAA,qYAAA,EAAC,qBAAA;YAAoB;QAAA,CAAwB;IAAA,CAC/C;AAEJ,GACA,CAAC,MAAM,OACL,KAAK,KAAA,KAAU,KAAK,KAAA,IACpB,KAAK,UAAA,EAAY,UAAU,KAAK,UAAA,EAAY,SAC5C,KAAK,UAAA,EAAY,aAAa,KAAK,UAAA,EAAY,YAC/C,KAAK,UAAA,EAAY,SAAS,KAAK,UAAA,EAAY,QAC3C,KAAK,UAAA,EAAY,eAAe,KAAK,UAAA,EAAY;AAGvD,mCAAmC,WAAA,GACjC;AAEK,IAAM,+BAET,CAAC,EAAE,UAAA,CAAW,CAAA,KAAM;IACtB,MAAM,uBAAmB,mbAAA,EACvB,CAAC,IAAM,EAAE,QAAA,CAAS,WAAA,CAAY,MAAA;IAGhC,MAAM,yBAAqB,uXAAA,EAAQ,MAAM;QACvC,OAAO,MAAM,IAAA,CAAK;YAAE,QAAQ;QAAiB,GAAG,CAAC,GAAG,QAClD,aAAA,GAAA,IAAA,qYAAA,EAAC,oCAAA;gBAEC;gBACA;YAAA,GAFK;IAKX,GAAG;QAAC;QAAkB,UAAU;KAAC;IAEjC,OAAO;AACT;AAEA,6BAA6B,WAAA,GAAc","debugId":null}},
    {"offset": {"line": 1191, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Breact%400.11.37_%40types%2Breact-dom%4019.2.2_%40types%2Breact%4019.2.2__%40types%2Breact%4019.2.2__utqnq2rpqwwcg76r2vcd3th5pi/node_modules/%40assistant-ui/react/src/primitives/composer/ComposerIf.tsx"],"sourcesContent":["\"use client\";\n\nimport type { FC, PropsWithChildren } from \"react\";\nimport { useAssistantState } from \"../../context\";\nimport type { RequireAtLeastOne } from \"../../utils/RequireAtLeastOne\";\n\ntype ComposerIfFilters = {\n  editing: boolean | undefined;\n};\n\nexport type UseComposerIfProps = RequireAtLeastOne<ComposerIfFilters>;\n\nconst useComposerIf = (props: UseComposerIfProps) => {\n  return useAssistantState(({ composer }) => {\n    if (props.editing === true && !composer.isEditing) return false;\n    if (props.editing === false && composer.isEditing) return false;\n\n    return true;\n  });\n};\n\nexport namespace ComposerPrimitiveIf {\n  export type Props = PropsWithChildren<UseComposerIfProps>;\n}\n\nexport const ComposerPrimitiveIf: FC<ComposerPrimitiveIf.Props> = ({\n  children,\n  ...query\n}) => {\n  const result = useComposerIf(query);\n  return result ? children : null;\n};\n\nComposerPrimitiveIf.displayName = \"ComposerPrimitive.If\";\n"],"names":[],"mappings":";;;;;AAGA,SAAS,yBAAyB;;;AASlC,IAAM,gBAAgB,CAAC,UAA8B;IACnD,WAAO,mbAAA,EAAkB,CAAC,EAAE,QAAA,CAAS,CAAA,KAAM;QACzC,IAAI,MAAM,OAAA,KAAY,QAAQ,CAAC,SAAS,SAAA,CAAW,CAAA,OAAO;QAC1D,IAAI,MAAM,OAAA,KAAY,SAAS,SAAS,SAAA,CAAW,CAAA,OAAO;QAE1D,OAAO;IACT,CAAC;AACH;AAMO,IAAM,sBAAqD,CAAC,EACjE,QAAA,EACA,GAAG,OACL,KAAM;IACJ,MAAM,SAAS,cAAc,KAAK;IAClC,OAAO,SAAS,WAAW;AAC7B;AAEA,oBAAoB,WAAA,GAAc","debugId":null}},
    {"offset": {"line": 1217, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Breact%400.11.37_%40types%2Breact-dom%4019.2.2_%40types%2Breact%4019.2.2__%40types%2Breact%4019.2.2__utqnq2rpqwwcg76r2vcd3th5pi/node_modules/%40assistant-ui/react/src/primitives/composer/index.ts"],"sourcesContent":["export { ComposerPrimitiveRoot as Root } from \"./ComposerRoot\";\nexport { ComposerPrimitiveInput as Input } from \"./ComposerInput\";\nexport { ComposerPrimitiveSend as Send } from \"./ComposerSend\";\nexport { ComposerPrimitiveCancel as Cancel } from \"./ComposerCancel\";\nexport { ComposerPrimitiveAddAttachment as AddAttachment } from \"./ComposerAddAttachment\";\nexport { ComposerPrimitiveAttachments as Attachments } from \"./ComposerAttachments\";\nexport { ComposerPrimitiveAttachmentByIndex as AttachmentByIndex } from \"./ComposerAttachments\";\nexport { ComposerPrimitiveIf as If } from \"./ComposerIf\";\n"],"names":[],"mappings":";;AAAA,SAAkC,6BAAY;AAC9C,SAAmC,8BAAa;AAChD,SAAkC,6BAAY;AAC9C,SAAoC,+BAAc;AAClD,SAA2C,sCAAqB;AAChE,SAAyC,oCAAmB;AAE5D,SAAgC,2BAAU","debugId":null}},
    {"offset": {"line": 1279, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Breact%400.11.37_%40types%2Breact-dom%4019.2.2_%40types%2Breact%4019.2.2__%40types%2Breact%4019.2.2__utqnq2rpqwwcg76r2vcd3th5pi/node_modules/%40assistant-ui/react/src/utils/hooks/useManagedRef.ts"],"sourcesContent":["import { useCallback, useRef } from \"react\";\n\nexport const useManagedRef = <TNode>(\n  callback: (node: TNode) => (() => void) | void,\n) => {\n  const cleanupRef = useRef<(() => void) | void>(undefined);\n\n  const ref = useCallback(\n    (el: TNode | null) => {\n      // Call the previous cleanup function\n      if (cleanupRef.current) {\n        cleanupRef.current();\n      }\n\n      // Call the new callback and store its cleanup function\n      if (el) {\n        cleanupRef.current = callback(el);\n      }\n    },\n    [callback],\n  );\n\n  return ref;\n};\n"],"names":[],"mappings":";;;;;AAAA,SAAS,aAAa,cAAc;;AAE7B,IAAM,gBAAgB,CAC3B,aACG;IACH,MAAM,iBAAa,sXAAA,EAA4B,KAAA,CAAS;IAExD,MAAM,UAAM,2XAAA,EACV,CAAC,OAAqB;QAEpB,IAAI,WAAW,OAAA,EAAS;YACtB,WAAW,OAAA,CAAQ;QACrB;QAGA,IAAI,IAAI;YACN,WAAW,OAAA,GAAU,SAAS,EAAE;QAClC;IACF,GACA;QAAC,QAAQ;KAAA;IAGX,OAAO;AACT","debugId":null}},
    {"offset": {"line": 1306, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Breact%400.11.37_%40types%2Breact-dom%4019.2.2_%40types%2Breact%4019.2.2__%40types%2Breact%4019.2.2__utqnq2rpqwwcg76r2vcd3th5pi/node_modules/%40assistant-ui/react/src/primitives/message/MessageRoot.tsx"],"sourcesContent":["\"use client\";\n\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport {\n  type ComponentRef,\n  forwardRef,\n  ComponentPropsWithoutRef,\n  useCallback,\n} from \"react\";\nimport { useAssistantApi, useAssistantState } from \"../../context\";\nimport { useManagedRef } from \"../../utils/hooks/useManagedRef\";\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\n\nconst useIsHoveringRef = () => {\n  const api = useAssistantApi();\n  const message = useAssistantState(() => api.message());\n\n  const callbackRef = useCallback(\n    (el: HTMLElement) => {\n      const handleMouseEnter = () => {\n        message.setIsHovering(true);\n      };\n      const handleMouseLeave = () => {\n        message.setIsHovering(false);\n      };\n\n      el.addEventListener(\"mouseenter\", handleMouseEnter);\n      el.addEventListener(\"mouseleave\", handleMouseLeave);\n\n      if (el.matches(\":hover\")) message.setIsHovering(true);\n\n      return () => {\n        el.removeEventListener(\"mouseenter\", handleMouseEnter);\n        el.removeEventListener(\"mouseleave\", handleMouseLeave);\n        message.setIsHovering(false);\n      };\n    },\n    [message],\n  );\n\n  return useManagedRef(callbackRef);\n};\n\nexport namespace MessagePrimitiveRoot {\n  export type Element = ComponentRef<typeof Primitive.div>;\n  /**\n   * Props for the MessagePrimitive.Root component.\n   * Accepts all standard div element props.\n   */\n  export type Props = ComponentPropsWithoutRef<typeof Primitive.div>;\n}\n\n/**\n * The root container component for a message.\n *\n * This component provides the foundational wrapper for message content and handles\n * hover state management for the message. It automatically tracks when the user\n * is hovering over the message, which can be used by child components like action bars.\n *\n * @example\n * ```tsx\n * <MessagePrimitive.Root>\n *   <MessagePrimitive.Content />\n *   <ActionBarPrimitive.Root>\n *     <ActionBarPrimitive.Copy />\n *     <ActionBarPrimitive.Edit />\n *   </ActionBarPrimitive.Root>\n * </MessagePrimitive.Root>\n * ```\n */\nexport const MessagePrimitiveRoot = forwardRef<\n  MessagePrimitiveRoot.Element,\n  MessagePrimitiveRoot.Props\n>((props, forwardRef) => {\n  const isHoveringRef = useIsHoveringRef();\n  const ref = useComposedRefs<HTMLDivElement>(forwardRef, isHoveringRef);\n\n  return <Primitive.div {...props} ref={ref} />;\n});\n\nMessagePrimitiveRoot.displayName = \"MessagePrimitive.Root\";\n"],"names":["forwardRef"],"mappings":";;;;;AAEA,SAAS,iBAAiB;AAC1B;;AAMA,SAAS,iBAAiB,yBAAyB;AACnD,SAAS,qBAAqB;AAC9B,SAAS,uBAAuB;AAkEvB;;;;;;;;AAhET,IAAM,mBAAmB,MAAM;IAC7B,MAAM,UAAM,0aAAA,CAAgB;IAC5B,MAAM,cAAU,mbAAA,EAAkB,IAAM,IAAI,OAAA,CAAQ,CAAC;IAErD,MAAM,kBAAc,2XAAA,EAClB,CAAC,OAAoB;QACnB,MAAM,mBAAmB,MAAM;YAC7B,QAAQ,aAAA,CAAc,IAAI;QAC5B;QACA,MAAM,mBAAmB,MAAM;YAC7B,QAAQ,aAAA,CAAc,KAAK;QAC7B;QAEA,GAAG,gBAAA,CAAiB,cAAc,gBAAgB;QAClD,GAAG,gBAAA,CAAiB,cAAc,gBAAgB;QAElD,IAAI,GAAG,OAAA,CAAQ,QAAQ,EAAG,CAAA,QAAQ,aAAA,CAAc,IAAI;QAEpD,OAAO,MAAM;YACX,GAAG,mBAAA,CAAoB,cAAc,gBAAgB;YACrD,GAAG,mBAAA,CAAoB,cAAc,gBAAgB;YACrD,QAAQ,aAAA,CAAc,KAAK;QAC7B;IACF,GACA;QAAC,OAAO;KAAA;IAGV,WAAO,gaAAA,EAAc,WAAW;AAClC;AA6BO,IAAM,2BAAuB,0XAAA,EAGlC,CAAC,OAAOA,gBAAe;IACvB,MAAM,gBAAgB,iBAAiB;IACvC,MAAM,UAAM,6UAAA,EAAgCA,aAAY,aAAa;IAErE,OAAO,aAAA,GAAA,IAAA,qYAAA,EAAC,yYAAA,CAAU,GAAA,EAAV;QAAe,GAAG,KAAA;QAAO;IAAA,CAAU;AAC7C,CAAC;AAED,qBAAqB,WAAA,GAAc","debugId":null}},
    {"offset": {"line": 1363, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Breact%400.11.37_%40types%2Breact-dom%4019.2.2_%40types%2Breact%4019.2.2__%40types%2Breact%4019.2.2__utqnq2rpqwwcg76r2vcd3th5pi/node_modules/%40assistant-ui/react/src/context/providers/PartByIndexProvider.tsx"],"sourcesContent":["\"use client\";\n\nimport { type FC, type PropsWithChildren } from \"react\";\nimport {\n  AssistantProvider,\n  useAssistantApi,\n  useExtendedAssistantApi,\n} from \"../react/AssistantApiContext\";\nimport { DerivedScope } from \"../../utils/tap-store/derived-scopes\";\n\nexport const PartByIndexProvider: FC<\n  PropsWithChildren<{\n    index: number;\n  }>\n> = ({ index, children }) => {\n  const baseApi = useAssistantApi();\n  const api = useExtendedAssistantApi({\n    part: DerivedScope({\n      source: \"message\",\n      query: { type: \"index\", index },\n      get: () => baseApi.message().part({ index }),\n    }),\n  });\n\n  return <AssistantProvider api={api}>{children}</AssistantProvider>;\n};\n"],"names":[],"mappings":";;;;;AAGA;AAKA,SAAS,oBAAoB;AAgBpB;;;;;AAdF,IAAM,sBAIT,CAAC,EAAE,KAAA,EAAO,QAAA,CAAS,CAAA,KAAM;IAC3B,MAAM,cAAU,0aAAA,CAAgB;IAChC,MAAM,UAAM,kbAAA,EAAwB;QAClC,UAAM,0aAAA,EAAa;YACjB,QAAQ;YACR,OAAO;gBAAE,MAAM;gBAAS;YAAM;YAC9B,KAAK,IAAM,QAAQ,OAAA,CAAQ,EAAE,IAAA,CAAK;oBAAE;gBAAM,CAAC;QAC7C,CAAC;IACH,CAAC;IAED,OAAO,aAAA,GAAA,IAAA,qYAAA,EAAC,4aAAA,EAAA;QAAkB;QAAW;IAAA,CAAS;AAChD","debugId":null}},
    {"offset": {"line": 1400, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Breact%400.11.37_%40types%2Breact-dom%4019.2.2_%40types%2Breact%4019.2.2__%40types%2Breact%4019.2.2__utqnq2rpqwwcg76r2vcd3th5pi/node_modules/%40assistant-ui/react/src/context/providers/TextMessagePartProvider.tsx"],"sourcesContent":["\"use client\";\n\nimport { type FC, type PropsWithChildren } from \"react\";\nimport {\n  AssistantProvider,\n  useExtendedAssistantApi,\n} from \"../react/AssistantApiContext\";\nimport {\n  MessagePartClientApi,\n  MessagePartClientState,\n} from \"../../client/types/Part\";\nimport { resource, tapMemo } from \"@assistant-ui/tap\";\nimport { useResource } from \"@assistant-ui/tap/react\";\nimport { asStore, tapApi } from \"../../utils/tap-store\";\nimport { DerivedScope } from \"../../utils/tap-store/derived-scopes\";\n\nconst TextMessagePartClient = resource(\n  ({ text, isRunning }: { text: string; isRunning: boolean }) => {\n    const state = tapMemo<MessagePartClientState>(\n      () => ({\n        type: \"text\",\n        text,\n        status: isRunning ? { type: \"running\" } : { type: \"complete\" },\n      }),\n      [text, isRunning],\n    );\n\n    return tapApi<MessagePartClientApi>({\n      getState: () => state,\n      addToolResult: () => {\n        throw new Error(\"Not supported\");\n      },\n      resumeToolCall: () => {\n        throw new Error(\"Not supported\");\n      },\n    });\n  },\n);\n\nexport const TextMessagePartProvider: FC<\n  PropsWithChildren<{\n    text: string;\n    isRunning?: boolean;\n  }>\n> = ({ text, isRunning = false, children }) => {\n  const store = useResource(\n    asStore(TextMessagePartClient({ text, isRunning })),\n  );\n  const api = useExtendedAssistantApi({\n    part: DerivedScope({\n      source: \"root\",\n      query: {},\n      get: () => store.getState().api,\n    }),\n    subscribe: store.subscribe,\n    flushSync: store.flushSync,\n  });\n\n  return <AssistantProvider api={api}>{children}</AssistantProvider>;\n};\n"],"names":[],"mappings":";;;;;AAGA;;AAQA,SAAS,UAAU,eAAe;AAClC,SAAS,mBAAmB;;AAC5B,SAAS,SAAS,cAAc;AAChC,SAAS,oBAAoB;AA4CpB;;;;;;;;AA1CT,IAAM,4BAAwB,2QAAA,EAC5B,CAAC,EAAE,IAAA,EAAM,SAAA,CAAU,CAAA,KAA4C;IAC7D,MAAM,YAAQ,8QAAA,EACZ,IAAA,CAAO;YACL,MAAM;YACN;YACA,QAAQ,YAAY;gBAAE,MAAM;YAAU,IAAI;gBAAE,MAAM;YAAW;QAC/D,CAAA,GACA;QAAC;QAAM,SAAS;KAAA;IAGlB,WAAO,6ZAAA,EAA6B;QAClC,UAAU,IAAM;QAChB,eAAe,MAAM;YACnB,MAAM,IAAI,MAAM,eAAe;QACjC;QACA,gBAAgB,MAAM;YACpB,MAAM,IAAI,MAAM,eAAe;QACjC;IACF,CAAC;AACH;AAGK,IAAM,0BAKT,CAAC,EAAE,IAAA,EAAM,YAAY,KAAA,EAAO,QAAA,CAAS,CAAA,KAAM;IAC7C,MAAM,YAAQ,sRAAA,MACZ,yZAAA,EAAQ,sBAAsB;QAAE;QAAM;IAAU,CAAC,CAAC;IAEpD,MAAM,UAAM,kbAAA,EAAwB;QAClC,UAAM,0aAAA,EAAa;YACjB,QAAQ;YACR,OAAO,CAAC;YACR,KAAK,IAAM,MAAM,QAAA,CAAS,EAAE,GAAA;QAC9B,CAAC;QACD,WAAW,MAAM,SAAA;QACjB,WAAW,MAAM,SAAA;IACnB,CAAC;IAED,OAAO,aAAA,GAAA,IAAA,qYAAA,EAAC,4aAAA,EAAA;QAAkB;QAAW;IAAA,CAAS;AAChD","debugId":null}},
    {"offset": {"line": 1468, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Breact%400.11.37_%40types%2Breact-dom%4019.2.2_%40types%2Breact%4019.2.2__%40types%2Breact%4019.2.2__utqnq2rpqwwcg76r2vcd3th5pi/node_modules/%40assistant-ui/react/src/primitives/messagePart/useMessagePartText.tsx"],"sourcesContent":["\"use client\";\n\nimport { MessagePartState } from \"../../legacy-runtime/runtime/MessagePartRuntime\";\nimport { useAssistantState } from \"../../context\";\nimport { TextMessagePart, ReasoningMessagePart } from \"../../types\";\n\nexport const useMessagePartText = () => {\n  const text = useAssistantState(({ part }) => {\n    if (part.type !== \"text\" && part.type !== \"reasoning\")\n      throw new Error(\n        \"MessagePartText can only be used inside text or reasoning message parts.\",\n      );\n\n    return part as MessagePartState & (TextMessagePart | ReasoningMessagePart);\n  });\n\n  return text;\n};\n"],"names":[],"mappings":";;;;;AAGA,SAAS,yBAAyB;;;AAG3B,IAAM,qBAAqB,MAAM;IACtC,MAAM,WAAO,mbAAA,EAAkB,CAAC,EAAE,IAAA,CAAK,CAAA,KAAM;QAC3C,IAAI,KAAK,IAAA,KAAS,UAAU,KAAK,IAAA,KAAS,aACxC,MAAM,IAAI,MACR;QAGJ,OAAO;IACT,CAAC;IAED,OAAO;AACT","debugId":null}},
    {"offset": {"line": 1489, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Breact%400.11.37_%40types%2Breact-dom%4019.2.2_%40types%2Breact%4019.2.2__%40types%2Breact%4019.2.2__utqnq2rpqwwcg76r2vcd3th5pi/node_modules/%40assistant-ui/react/src/primitives/messagePart/MessagePartText.tsx"],"sourcesContent":["\"use client\";\n\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport {\n  type ComponentRef,\n  forwardRef,\n  ComponentPropsWithoutRef,\n  ElementType,\n} from \"react\";\nimport { useMessagePartText } from \"./useMessagePartText\";\nimport { useSmooth } from \"../../utils/smooth/useSmooth\";\n\nexport namespace MessagePartPrimitiveText {\n  export type Element = ComponentRef<typeof Primitive.span>;\n  export type Props = Omit<\n    ComponentPropsWithoutRef<typeof Primitive.span>,\n    \"children\" | \"asChild\"\n  > & {\n    /**\n     * Whether to enable smooth text streaming animation.\n     * When enabled, text appears with a typing effect as it streams in.\n     * @default true\n     */\n    smooth?: boolean;\n    /**\n     * The HTML element or React component to render as.\n     * @default \"span\"\n     */\n    component?: ElementType;\n  };\n}\n\n/**\n * Renders the text content of a message part with optional smooth streaming.\n *\n * This component displays text content from the current message part context,\n * with support for smooth streaming animation that shows text appearing\n * character by character as it's generated.\n *\n * @example\n * ```tsx\n * <MessagePartPrimitive.Text\n *   smooth={true}\n *   component=\"p\"\n *   className=\"message-text\"\n * />\n * ```\n */\nexport const MessagePartPrimitiveText = forwardRef<\n  MessagePartPrimitiveText.Element,\n  MessagePartPrimitiveText.Props\n>(({ smooth = true, component: Component = \"span\", ...rest }, forwardedRef) => {\n  const { text, status } = useSmooth(useMessagePartText(), smooth);\n\n  return (\n    <Component data-status={status.type} {...rest} ref={forwardedRef}>\n      {text}\n    </Component>\n  );\n});\n\nMessagePartPrimitiveText.displayName = \"MessagePartPrimitive.Text\";\n"],"names":[],"mappings":";;;;;AAGA;AAMA,SAAS,0BAA0B;AACnC,SAAS,iBAAiB;AA6CtB;;;;;;AAPG,IAAM,+BAA2B,0XAAA,EAGtC,CAAC,EAAE,SAAS,IAAA,EAAM,WAAW,YAAY,MAAA,EAAQ,GAAG,KAAK,CAAA,EAAG,iBAAiB;IAC7E,MAAM,EAAE,IAAA,EAAM,MAAA,CAAO,CAAA,OAAI,yZAAA,EAAU,ybAAA,CAAmB,IAAG,MAAM;IAE/D,OACE,aAAA,GAAA,IAAA,qYAAA,EAAC,WAAA;QAAU,eAAa,OAAO,IAAA;QAAO,GAAG,IAAA;QAAM,KAAK;QACjD,UAAA;IAAA,CACH;AAEJ,CAAC;AAED,yBAAyB,WAAA,GAAc","debugId":null}},
    {"offset": {"line": 1519, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Breact%400.11.37_%40types%2Breact-dom%4019.2.2_%40types%2Breact%4019.2.2__%40types%2Breact%4019.2.2__utqnq2rpqwwcg76r2vcd3th5pi/node_modules/%40assistant-ui/react/src/primitives/messagePart/useMessagePartImage.tsx"],"sourcesContent":["\"use client\";\n\nimport { MessagePartState } from \"../../legacy-runtime/runtime/MessagePartRuntime\";\nimport { useAssistantState } from \"../../context\";\nimport { ImageMessagePart } from \"../../types\";\n\nexport const useMessagePartImage = () => {\n  const image = useAssistantState(({ part }) => {\n    if (part.type !== \"image\")\n      throw new Error(\n        \"MessagePartImage can only be used inside image message parts.\",\n      );\n\n    return part as MessagePartState & ImageMessagePart;\n  });\n\n  return image;\n};\n"],"names":[],"mappings":";;;;;AAGA,SAAS,yBAAyB;;;AAG3B,IAAM,sBAAsB,MAAM;IACvC,MAAM,YAAQ,mbAAA,EAAkB,CAAC,EAAE,IAAA,CAAK,CAAA,KAAM;QAC5C,IAAI,KAAK,IAAA,KAAS,SAChB,MAAM,IAAI,MACR;QAGJ,OAAO;IACT,CAAC;IAED,OAAO;AACT","debugId":null}},
    {"offset": {"line": 1540, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Breact%400.11.37_%40types%2Breact-dom%4019.2.2_%40types%2Breact%4019.2.2__%40types%2Breact%4019.2.2__utqnq2rpqwwcg76r2vcd3th5pi/node_modules/%40assistant-ui/react/src/primitives/messagePart/MessagePartImage.tsx"],"sourcesContent":["\"use client\";\n\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { type ComponentRef, forwardRef, ComponentPropsWithoutRef } from \"react\";\nimport { useMessagePartImage } from \"./useMessagePartImage\";\n\nexport namespace MessagePartPrimitiveImage {\n  export type Element = ComponentRef<typeof Primitive.img>;\n  /**\n   * Props for the MessagePartPrimitive.Image component.\n   * Accepts all standard img element props.\n   */\n  export type Props = ComponentPropsWithoutRef<typeof Primitive.img>;\n}\n\n/**\n * Renders an image from the current message part context.\n *\n * This component displays image content from the current message part,\n * automatically setting the src attribute from the message part's image data.\n *\n * @example\n * ```tsx\n * <MessagePartPrimitive.Image\n *   alt=\"Generated image\"\n *   className=\"message-image\"\n *   style={{ maxWidth: '100%' }}\n * />\n * ```\n */\nexport const MessagePartPrimitiveImage = forwardRef<\n  MessagePartPrimitiveImage.Element,\n  MessagePartPrimitiveImage.Props\n>((props, forwardedRef) => {\n  const { image } = useMessagePartImage();\n  return <Primitive.img src={image} {...props} ref={forwardedRef} />;\n});\n\nMessagePartPrimitiveImage.displayName = \"MessagePartPrimitive.Image\";\n"],"names":[],"mappings":";;;;;AAEA,SAAS,iBAAiB;AAC1B,SAA4B,kBAA4C;AACxE,SAAS,2BAA2B;AA+B3B;;;;;;AALF,IAAM,gCAA4B,0XAAA,EAGvC,CAAC,OAAO,iBAAiB;IACzB,MAAM,EAAE,KAAA,CAAM,CAAA,OAAI,ubAAA,CAAoB;IACtC,OAAO,aAAA,GAAA,IAAA,qYAAA,EAAC,yYAAA,CAAU,GAAA,EAAV;QAAc,KAAK;QAAQ,GAAG,KAAA;QAAO,KAAK;IAAA,CAAc;AAClE,CAAC;AAED,0BAA0B,WAAA,GAAc","debugId":null}},
    {"offset": {"line": 1569, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Breact%400.11.37_%40types%2Breact-dom%4019.2.2_%40types%2Breact%4019.2.2__%40types%2Breact%4019.2.2__utqnq2rpqwwcg76r2vcd3th5pi/node_modules/%40assistant-ui/react/src/primitives/messagePart/MessagePartInProgress.tsx"],"sourcesContent":["\"use client\";\n\nimport { FC, PropsWithChildren } from \"react\";\nimport { useAssistantState } from \"../../context\";\n\nexport namespace MessagePartPrimitiveInProgress {\n  export type Props = PropsWithChildren;\n}\n\n// TODO should this be renamed to IsRunning?\nexport const MessagePartPrimitiveInProgress: FC<\n  MessagePartPrimitiveInProgress.Props\n> = ({ children }) => {\n  const isInProgress = useAssistantState(\n    ({ part }) => part.status.type === \"running\",\n  );\n\n  return isInProgress ? children : null;\n};\n\nMessagePartPrimitiveInProgress.displayName = \"MessagePartPrimitive.InProgress\";\n"],"names":[],"mappings":";;;;;AAGA,SAAS,yBAAyB;;;AAO3B,IAAM,iCAET,CAAC,EAAE,QAAA,CAAS,CAAA,KAAM;IACpB,MAAM,mBAAe,mbAAA,EACnB,CAAC,EAAE,IAAA,CAAK,CAAA,GAAM,KAAK,MAAA,CAAO,IAAA,KAAS;IAGrC,OAAO,eAAe,WAAW;AACnC;AAEA,+BAA+B,WAAA,GAAc","debugId":null}},
    {"offset": {"line": 1588, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Breact%400.11.37_%40types%2Breact-dom%4019.2.2_%40types%2Breact%4019.2.2__%40types%2Breact%4019.2.2__utqnq2rpqwwcg76r2vcd3th5pi/node_modules/%40assistant-ui/react/src/primitives/message/MessageParts.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n  type ComponentType,\n  type FC,\n  memo,\n  PropsWithChildren,\n  useMemo,\n} from \"react\";\nimport {\n  useAssistantState,\n  useAssistantApi,\n  PartByIndexProvider,\n  TextMessagePartProvider,\n} from \"../../context\";\nimport { MessagePartPrimitiveText } from \"../messagePart/MessagePartText\";\nimport { MessagePartPrimitiveImage } from \"../messagePart/MessagePartImage\";\nimport type {\n  Unstable_AudioMessagePartComponent,\n  EmptyMessagePartComponent,\n  TextMessagePartComponent,\n  ImageMessagePartComponent,\n  SourceMessagePartComponent,\n  ToolCallMessagePartComponent,\n  ToolCallMessagePartProps,\n  FileMessagePartComponent,\n  ReasoningMessagePartComponent,\n  ReasoningGroupComponent,\n} from \"../../types/MessagePartComponentTypes\";\nimport { MessagePartPrimitiveInProgress } from \"../messagePart/MessagePartInProgress\";\nimport { MessagePartStatus } from \"../../types/AssistantTypes\";\nimport { useShallow } from \"zustand/shallow\";\n\ntype MessagePartRange =\n  | { type: \"single\"; index: number }\n  | { type: \"toolGroup\"; startIndex: number; endIndex: number }\n  | { type: \"reasoningGroup\"; startIndex: number; endIndex: number };\n\n/**\n * Creates a group state manager for a specific part type.\n * Returns functions to start, end, and finalize groups.\n */\nconst createGroupState = <T extends \"toolGroup\" | \"reasoningGroup\">(\n  groupType: T,\n) => {\n  let start = -1;\n\n  return {\n    startGroup: (index: number) => {\n      if (start === -1) {\n        start = index;\n      }\n    },\n    endGroup: (endIndex: number, ranges: MessagePartRange[]) => {\n      if (start !== -1) {\n        ranges.push({\n          type: groupType,\n          startIndex: start,\n          endIndex,\n        } as MessagePartRange);\n        start = -1;\n      }\n    },\n    finalize: (endIndex: number, ranges: MessagePartRange[]) => {\n      if (start !== -1) {\n        ranges.push({\n          type: groupType,\n          startIndex: start,\n          endIndex,\n        } as MessagePartRange);\n      }\n    },\n  };\n};\n\n/**\n * Groups consecutive tool-call and reasoning message parts into ranges.\n * Always groups tool calls and reasoning parts, even if there's only one.\n */\nconst groupMessageParts = (\n  messageTypes: readonly string[],\n): MessagePartRange[] => {\n  const ranges: MessagePartRange[] = [];\n  const toolGroup = createGroupState(\"toolGroup\");\n  const reasoningGroup = createGroupState(\"reasoningGroup\");\n\n  for (let i = 0; i < messageTypes.length; i++) {\n    const type = messageTypes[i];\n\n    if (type === \"tool-call\") {\n      reasoningGroup.endGroup(i - 1, ranges);\n      toolGroup.startGroup(i);\n    } else if (type === \"reasoning\") {\n      toolGroup.endGroup(i - 1, ranges);\n      reasoningGroup.startGroup(i);\n    } else {\n      toolGroup.endGroup(i - 1, ranges);\n      reasoningGroup.endGroup(i - 1, ranges);\n      ranges.push({ type: \"single\", index: i });\n    }\n  }\n\n  toolGroup.finalize(messageTypes.length - 1, ranges);\n  reasoningGroup.finalize(messageTypes.length - 1, ranges);\n\n  return ranges;\n};\n\nconst useMessagePartsGroups = (): MessagePartRange[] => {\n  const messageTypes = useAssistantState(\n    useShallow((s) => s.message.parts.map((c: any) => c.type)),\n  );\n\n  return useMemo(() => {\n    if (messageTypes.length === 0) {\n      return [];\n    }\n    return groupMessageParts(messageTypes);\n  }, [messageTypes]);\n};\n\nexport namespace MessagePrimitiveParts {\n  export type Props = {\n    /**\n     * Component configuration for rendering different types of message content.\n     *\n     * You can provide custom components for each content type (text, image, file, etc.)\n     * and configure tool rendering behavior. If not provided, default components will be used.\n     */\n    components?:\n      | {\n          /** Component for rendering empty messages */\n          Empty?: EmptyMessagePartComponent | undefined;\n          /** Component for rendering text content */\n          Text?: TextMessagePartComponent | undefined;\n          /** Component for rendering reasoning content (typically hidden) */\n          Reasoning?: ReasoningMessagePartComponent | undefined;\n          /** Component for rendering source content */\n          Source?: SourceMessagePartComponent | undefined;\n          /** Component for rendering image content */\n          Image?: ImageMessagePartComponent | undefined;\n          /** Component for rendering file content */\n          File?: FileMessagePartComponent | undefined;\n          /** Component for rendering audio content (experimental) */\n          Unstable_Audio?: Unstable_AudioMessagePartComponent | undefined;\n          /** Configuration for tool call rendering */\n          tools?:\n            | {\n                /** Map of tool names to their specific components */\n                by_name?:\n                  | Record<string, ToolCallMessagePartComponent | undefined>\n                  | undefined;\n                /** Fallback component for unregistered tools */\n                Fallback?: ComponentType<ToolCallMessagePartProps> | undefined;\n              }\n            | {\n                /** Override component that handles all tool calls */\n                Override: ComponentType<ToolCallMessagePartProps>;\n              }\n            | undefined;\n\n          /**\n           * Component for rendering grouped consecutive tool calls.\n           *\n           * When provided, this component will automatically wrap consecutive tool-call\n           * message parts, allowing you to create collapsible sections, custom styling,\n           * or other grouped presentations for multiple tool calls.\n           *\n           * The component receives:\n           * - `startIndex`: The index of the first tool call in the group\n           * - `endIndex`: The index of the last tool call in the group\n           * - `children`: The rendered tool call components\n           *\n           * @example\n           * ```tsx\n           * // Collapsible tool group\n           * ToolGroup: ({ startIndex, endIndex, children }) => (\n           *   <details className=\"tool-group\">\n           *     <summary>\n           *       {endIndex - startIndex + 1} tool calls\n           *     </summary>\n           *     <div className=\"tool-group-content\">\n           *       {children}\n           *     </div>\n           *   </details>\n           * )\n           * ```\n           *\n           * @example\n           * ```tsx\n           * // Custom styled tool group with header\n           * ToolGroup: ({ startIndex, endIndex, children }) => (\n           *   <div className=\"border rounded-lg p-4 my-2\">\n           *     <div className=\"text-sm text-gray-600 mb-2\">\n           *       Tool execution #{startIndex + 1}-{endIndex + 1}\n           *     </div>\n           *     <div className=\"space-y-2\">\n           *       {children}\n           *     </div>\n           *   </div>\n           * )\n           * ```\n           *\n           * @param startIndex - Index of the first tool call in the group\n           * @param endIndex - Index of the last tool call in the group\n           * @param children - Rendered tool call components to display within the group\n           *\n           * @deprecated This feature is still experimental and subject to change.\n           */\n          ToolGroup?: ComponentType<\n            PropsWithChildren<{ startIndex: number; endIndex: number }>\n          >;\n\n          /**\n           * Component for rendering grouped reasoning parts.\n           *\n           * When provided, this component will automatically wrap reasoning message parts\n           * (one or more consecutive) in a group container. Each reasoning part inside\n           * renders its own text independently - no text merging occurs.\n           *\n           * The component receives:\n           * - `startIndex`: The index of the first reasoning part in the group\n           * - `endIndex`: The index of the last reasoning part in the group\n           * - `children`: The rendered Reasoning components (one per part)\n           *\n           * @example\n           * ```tsx\n           * // Collapsible reasoning group\n           * ReasoningGroup: ({ children }) => (\n           *   <details className=\"reasoning-group\">\n           *     <summary>Reasoning</summary>\n           *     <div className=\"reasoning-content\">\n           *       {children}\n           *     </div>\n           *   </details>\n           * )\n           * ```\n           *\n           * @param startIndex - Index of the first reasoning part in the group\n           * @param endIndex - Index of the last reasoning part in the group\n           * @param children - Rendered reasoning part components\n           */\n          ReasoningGroup?: ReasoningGroupComponent;\n        }\n      | undefined;\n  };\n}\n\nconst ToolUIDisplay = ({\n  Fallback,\n  ...props\n}: {\n  Fallback: ToolCallMessagePartComponent | undefined;\n} & ToolCallMessagePartProps) => {\n  const Render = useAssistantState(({ toolUIs }) => {\n    const Render =\n      toolUIs.tools[props.toolName] ?? toolUIs.fallback ?? Fallback;\n    if (Array.isArray(Render)) return Render[0] ?? Fallback;\n    return Render;\n  });\n  if (!Render) return null;\n  return <Render {...props} />;\n};\n\nconst defaultComponents = {\n  Text: () => (\n    <p style={{ whiteSpace: \"pre-line\" }}>\n      <MessagePartPrimitiveText />\n      <MessagePartPrimitiveInProgress>\n        <span style={{ fontFamily: \"revert\" }}>{\" \\u25CF\"}</span>\n      </MessagePartPrimitiveInProgress>\n    </p>\n  ),\n  Reasoning: () => null,\n  Source: () => null,\n  Image: () => <MessagePartPrimitiveImage />,\n  File: () => null,\n  Unstable_Audio: () => null,\n  ToolGroup: ({ children }) => children,\n  ReasoningGroup: ({ children }) => children,\n} satisfies MessagePrimitiveParts.Props[\"components\"];\n\ntype MessagePartComponentProps = {\n  components: MessagePrimitiveParts.Props[\"components\"];\n};\n\nconst MessagePartComponent: FC<MessagePartComponentProps> = ({\n  components: {\n    Text = defaultComponents.Text,\n    Reasoning = defaultComponents.Reasoning,\n    Image = defaultComponents.Image,\n    Source = defaultComponents.Source,\n    File = defaultComponents.File,\n    Unstable_Audio: Audio = defaultComponents.Unstable_Audio,\n    tools = {},\n  } = {},\n}) => {\n  const api = useAssistantApi();\n  const part = useAssistantState(({ part }) => part);\n\n  const type = part.type;\n  if (type === \"tool-call\") {\n    const addResult = api.part().addToolResult;\n    const resume = api.part().resumeToolCall;\n    if (\"Override\" in tools)\n      return <tools.Override {...part} addResult={addResult} resume={resume} />;\n    const Tool = tools.by_name?.[part.toolName] ?? tools.Fallback;\n    return (\n      <ToolUIDisplay\n        {...part}\n        Fallback={Tool}\n        addResult={addResult}\n        resume={resume}\n      />\n    );\n  }\n\n  if (part.status?.type === \"requires-action\")\n    throw new Error(\"Encountered unexpected requires-action status\");\n\n  switch (type) {\n    case \"text\":\n      return <Text {...part} />;\n\n    case \"reasoning\":\n      return <Reasoning {...part} />;\n\n    case \"source\":\n      return <Source {...part} />;\n\n    case \"image\":\n      // eslint-disable-next-line jsx-a11y/alt-text\n      return <Image {...part} />;\n\n    case \"file\":\n      return <File {...part} />;\n\n    case \"audio\":\n      return <Audio {...part} />;\n\n    default:\n      const unhandledType: never = type;\n      throw new Error(`Unknown message part type: ${unhandledType}`);\n  }\n};\n\nexport namespace MessagePrimitivePartByIndex {\n  export type Props = {\n    index: number;\n    components: MessagePrimitiveParts.Props[\"components\"];\n  };\n}\n\n/**\n * Renders a single message part at the specified index.\n *\n * This component provides direct access to render a specific message part\n * within the current message context, using the provided component configuration.\n *\n * @example\n * ```tsx\n * <MessagePrimitive.PartByIndex\n *   index={0}\n *   components={{\n *     Text: MyTextComponent,\n *     Image: MyImageComponent\n *   }}\n * />\n * ```\n */\nexport const MessagePrimitivePartByIndex: FC<MessagePrimitivePartByIndex.Props> =\n  memo(\n    ({ index, components }) => {\n      return (\n        <PartByIndexProvider index={index}>\n          <MessagePartComponent components={components} />\n        </PartByIndexProvider>\n      );\n    },\n    (prev, next) =>\n      prev.index === next.index &&\n      prev.components?.Text === next.components?.Text &&\n      prev.components?.Reasoning === next.components?.Reasoning &&\n      prev.components?.Source === next.components?.Source &&\n      prev.components?.Image === next.components?.Image &&\n      prev.components?.File === next.components?.File &&\n      prev.components?.Unstable_Audio === next.components?.Unstable_Audio &&\n      prev.components?.tools === next.components?.tools &&\n      prev.components?.ToolGroup === next.components?.ToolGroup &&\n      prev.components?.ReasoningGroup === next.components?.ReasoningGroup,\n  );\n\nMessagePrimitivePartByIndex.displayName = \"MessagePrimitive.PartByIndex\";\n\nconst EmptyPartFallback: FC<{\n  status: MessagePartStatus;\n  component: TextMessagePartComponent;\n}> = ({ status, component: Component }) => {\n  return (\n    <TextMessagePartProvider text=\"\" isRunning={status.type === \"running\"}>\n      <Component type=\"text\" text=\"\" status={status} />\n    </TextMessagePartProvider>\n  );\n};\n\nconst COMPLETE_STATUS: MessagePartStatus = Object.freeze({\n  type: \"complete\",\n});\n\nconst EmptyPartsImpl: FC<MessagePartComponentProps> = ({ components }) => {\n  const status = useAssistantState(\n    (s) => (s.message.status ?? COMPLETE_STATUS) as MessagePartStatus,\n  );\n\n  if (components?.Empty) return <components.Empty status={status} />;\n\n  return (\n    <EmptyPartFallback\n      status={status}\n      component={components?.Text ?? defaultComponents.Text}\n    />\n  );\n};\n\nconst EmptyParts = memo(\n  EmptyPartsImpl,\n  (prev, next) =>\n    prev.components?.Empty === next.components?.Empty &&\n    prev.components?.Text === next.components?.Text,\n);\n\n/**\n * Renders the parts of a message with support for multiple content types.\n *\n * This component automatically handles different types of message content including\n * text, images, files, tool calls, and more. It provides a flexible component\n * system for customizing how each content type is rendered.\n *\n * @example\n * ```tsx\n * <MessagePrimitive.Parts\n *   components={{\n *     Text: ({ text }) => <p className=\"message-text\">{text}</p>,\n *     Image: ({ image }) => <img src={image} alt=\"Message image\" />,\n *     tools: {\n *       by_name: {\n *         calculator: CalculatorTool,\n *         weather: WeatherTool,\n *       },\n *       Fallback: DefaultToolComponent\n *     }\n *   }}\n * />\n * ```\n */\nexport const MessagePrimitiveParts: FC<MessagePrimitiveParts.Props> = ({\n  components,\n}) => {\n  const contentLength = useAssistantState(\n    ({ message }) => message.parts.length,\n  );\n  const messageRanges = useMessagePartsGroups();\n\n  const partsElements = useMemo(() => {\n    if (contentLength === 0) {\n      return <EmptyParts components={components} />;\n    }\n\n    return messageRanges.map((range) => {\n      if (range.type === \"single\") {\n        return (\n          <MessagePrimitivePartByIndex\n            key={range.index}\n            index={range.index}\n            components={components}\n          />\n        );\n      } else if (range.type === \"toolGroup\") {\n        const ToolGroupComponent =\n          components!.ToolGroup ?? defaultComponents.ToolGroup;\n        return (\n          <ToolGroupComponent\n            key={`tool-${range.startIndex}`}\n            startIndex={range.startIndex}\n            endIndex={range.endIndex}\n          >\n            {Array.from(\n              { length: range.endIndex - range.startIndex + 1 },\n              (_, i) => (\n                <MessagePrimitivePartByIndex\n                  key={i}\n                  index={range.startIndex + i}\n                  components={components}\n                />\n              ),\n            )}\n          </ToolGroupComponent>\n        );\n      } else {\n        // reasoningGroup\n        const ReasoningGroupComponent =\n          components!.ReasoningGroup ?? defaultComponents.ReasoningGroup;\n        return (\n          <ReasoningGroupComponent\n            key={`reasoning-${range.startIndex}`}\n            startIndex={range.startIndex}\n            endIndex={range.endIndex}\n          >\n            {Array.from(\n              { length: range.endIndex - range.startIndex + 1 },\n              (_, i) => (\n                <MessagePrimitivePartByIndex\n                  key={i}\n                  index={range.startIndex + i}\n                  components={components}\n                />\n              ),\n            )}\n          </ReasoningGroupComponent>\n        );\n      }\n    });\n  }, [messageRanges, components, contentLength]);\n\n  return <>{partsElements}</>;\n};\n\nMessagePrimitiveParts.displayName = \"MessagePrimitive.Parts\";\n"],"names":["Render","part"],"mappings":"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","debugId":null}},
    {"offset": {"line": 1856, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Breact%400.11.37_%40types%2Breact-dom%4019.2.2_%40types%2Breact%4019.2.2__%40types%2Breact%4019.2.2__utqnq2rpqwwcg76r2vcd3th5pi/node_modules/%40assistant-ui/react/src/primitives/message/MessageAttachments.tsx"],"sourcesContent":["\"use client\";\n\nimport { ComponentType, type FC, memo, useMemo } from \"react\";\nimport {\n  useAssistantState,\n  MessageAttachmentByIndexProvider,\n} from \"../../context\";\nimport { CompleteAttachment } from \"../../types\";\n\nexport namespace MessagePrimitiveAttachments {\n  export type Props = {\n    components:\n      | {\n          Image?: ComponentType | undefined;\n          Document?: ComponentType | undefined;\n          File?: ComponentType | undefined;\n          Attachment?: ComponentType | undefined;\n        }\n      | undefined;\n  };\n}\n\nconst getComponent = (\n  components: MessagePrimitiveAttachments.Props[\"components\"],\n  attachment: CompleteAttachment,\n) => {\n  const type = attachment.type;\n  switch (type) {\n    case \"image\":\n      return components?.Image ?? components?.Attachment;\n    case \"document\":\n      return components?.Document ?? components?.Attachment;\n    case \"file\":\n      return components?.File ?? components?.Attachment;\n    default:\n      const _exhaustiveCheck: never = type;\n      throw new Error(`Unknown attachment type: ${_exhaustiveCheck}`);\n  }\n};\n\nconst AttachmentComponent: FC<{\n  components: MessagePrimitiveAttachments.Props[\"components\"];\n}> = ({ components }) => {\n  const attachment = useAssistantState(({ attachment }) => attachment);\n  if (!attachment) return null;\n\n  const Component = getComponent(components, attachment as CompleteAttachment);\n  if (!Component) return null;\n  return <Component />;\n};\n\nexport namespace MessagePrimitiveAttachmentByIndex {\n  export type Props = {\n    index: number;\n    components?: MessagePrimitiveAttachments.Props[\"components\"];\n  };\n}\n\n/**\n * Renders a single attachment at the specified index within the current message.\n *\n * This component provides direct access to render a specific attachment\n * from the message's attachment list using the provided component configuration.\n *\n * @example\n * ```tsx\n * <MessagePrimitive.AttachmentByIndex\n *   index={0}\n *   components={{\n *     Image: MyImageAttachment,\n *     Document: MyDocumentAttachment\n *   }}\n * />\n * ```\n */\nexport const MessagePrimitiveAttachmentByIndex: FC<MessagePrimitiveAttachmentByIndex.Props> =\n  memo(\n    ({ index, components }) => {\n      return (\n        <MessageAttachmentByIndexProvider index={index}>\n          <AttachmentComponent components={components} />\n        </MessageAttachmentByIndexProvider>\n      );\n    },\n    (prev, next) =>\n      prev.index === next.index &&\n      prev.components?.Image === next.components?.Image &&\n      prev.components?.Document === next.components?.Document &&\n      prev.components?.File === next.components?.File &&\n      prev.components?.Attachment === next.components?.Attachment,\n  );\n\nMessagePrimitiveAttachmentByIndex.displayName =\n  \"MessagePrimitive.AttachmentByIndex\";\n\nexport const MessagePrimitiveAttachments: FC<\n  MessagePrimitiveAttachments.Props\n> = ({ components }) => {\n  const attachmentsCount = useAssistantState(({ message }) => {\n    if (message.role !== \"user\") return 0;\n    return message.attachments.length;\n  });\n\n  const attachmentElements = useMemo(() => {\n    return Array.from({ length: attachmentsCount }, (_, index) => (\n      <MessagePrimitiveAttachmentByIndex\n        key={index}\n        index={index}\n        components={components}\n      />\n    ));\n  }, [attachmentsCount, components]);\n\n  return attachmentElements;\n};\n\nMessagePrimitiveAttachments.displayName = \"MessagePrimitive.Attachments\";\n"],"names":["attachment"],"mappings":";;;;;;;AAEA,SAAiC,MAAM,eAAe;AACtD;;AA6CS;;;;;AA1BT,IAAM,eAAe,CACnB,YACA,eACG;IACH,MAAM,OAAO,WAAW,IAAA;IACxB,OAAQ,MAAM;QACZ,KAAK;YACH,OAAO,YAAY,SAAS,YAAY;QAC1C,KAAK;YACH,OAAO,YAAY,YAAY,YAAY;QAC7C,KAAK;YACH,OAAO,YAAY,QAAQ,YAAY;QACzC;YACE,MAAM,mBAA0B;YAChC,MAAM,IAAI,MAAM,CAAA,yBAAA,EAA4B,gBAAgB,EAAE;IAClE;AACF;AAEA,IAAM,sBAED,CAAC,EAAE,UAAA,CAAW,CAAA,KAAM;IACvB,MAAM,aAAa,ubAAA,EAAkB,CAAC,EAAE,YAAAA,WAAAA,CAAW,CAAA,GAAMA,WAAU;IACnE,IAAI,CAAC,WAAY,CAAA,OAAO;IAExB,MAAM,YAAY,aAAa,YAAY,UAAgC;IAC3E,IAAI,CAAC,UAAW,CAAA,OAAO;IACvB,OAAO,aAAA,GAAA,IAAA,qYAAA,EAAC,WAAA,CAAA,CAAU;AACpB;AA0BO,IAAM,wCACX,oXAAA,EACE,CAAC,EAAE,KAAA,EAAO,UAAA,CAAW,CAAA,KAAM;IACzB,OACE,aAAA,GAAA,IAAA,qYAAA,EAAC,qcAAA,EAAA;QAAiC;QAChC,UAAA,aAAA,GAAA,IAAA,qYAAA,EAAC,qBAAA;YAAoB;QAAA,CAAwB;IAAA,CAC/C;AAEJ,GACA,CAAC,MAAM,OACL,KAAK,KAAA,KAAU,KAAK,KAAA,IACpB,KAAK,UAAA,EAAY,UAAU,KAAK,UAAA,EAAY,SAC5C,KAAK,UAAA,EAAY,aAAa,KAAK,UAAA,EAAY,YAC/C,KAAK,UAAA,EAAY,SAAS,KAAK,UAAA,EAAY,QAC3C,KAAK,UAAA,EAAY,eAAe,KAAK,UAAA,EAAY;AAGvD,kCAAkC,WAAA,GAChC;AAEK,IAAM,8BAET,CAAC,EAAE,UAAA,CAAW,CAAA,KAAM;IACtB,MAAM,uBAAmB,mbAAA,EAAkB,CAAC,EAAE,OAAA,CAAQ,CAAA,KAAM;QAC1D,IAAI,QAAQ,IAAA,KAAS,OAAQ,CAAA,OAAO;QACpC,OAAO,QAAQ,WAAA,CAAY,MAAA;IAC7B,CAAC;IAED,MAAM,yBAAqB,uXAAA,EAAQ,MAAM;QACvC,OAAO,MAAM,IAAA,CAAK;YAAE,QAAQ;QAAiB,GAAG,CAAC,GAAG,QAClD,aAAA,GAAA,IAAA,qYAAA,EAAC,mCAAA;gBAEC;gBACA;YAAA,GAFK;IAKX,GAAG;QAAC;QAAkB,UAAU;KAAC;IAEjC,OAAO;AACT;AAEA,4BAA4B,WAAA,GAAc","debugId":null}},
    {"offset": {"line": 1926, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Breact%400.11.37_%40types%2Breact-dom%4019.2.2_%40types%2Breact%4019.2.2__%40types%2Breact%4019.2.2__utqnq2rpqwwcg76r2vcd3th5pi/node_modules/%40assistant-ui/react/src/primitives/message/MessageError.tsx"],"sourcesContent":["\"use client\";\n\nimport { FC, PropsWithChildren } from \"react\";\nimport { useAssistantState } from \"../../context\";\n\nexport const MessagePrimitiveError: FC<PropsWithChildren> = ({ children }) => {\n  const hasError = useAssistantState(\n    ({ message }) =>\n      message.status?.type === \"incomplete\" &&\n      message.status.reason === \"error\",\n  );\n  return hasError ? <>{children}</> : null;\n};\n\nMessagePrimitiveError.displayName = \"MessagePrimitive.Error\";\n"],"names":[],"mappings":";;;;;AAGA,SAAS,yBAAyB;AAQd;;;;AANb,IAAM,wBAA+C,CAAC,EAAE,QAAA,CAAS,CAAA,KAAM;IAC5E,MAAM,eAAW,mbAAA,EACf,CAAC,EAAE,OAAA,CAAQ,CAAA,GACT,QAAQ,MAAA,EAAQ,SAAS,gBACzB,QAAQ,MAAA,CAAO,MAAA,KAAW;IAE9B,OAAO,WAAW,aAAA,GAAA,IAAA,qYAAA,EAAA,0YAAA,EAAA;QAAG;IAAA,CAAS,IAAM;AACtC;AAEA,sBAAsB,WAAA,GAAc","debugId":null}},
    {"offset": {"line": 1949, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Breact%400.11.37_%40types%2Breact-dom%4019.2.2_%40types%2Breact%4019.2.2__%40types%2Breact%4019.2.2__utqnq2rpqwwcg76r2vcd3th5pi/node_modules/%40assistant-ui/react/src/primitives/message/MessagePartsGrouped.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n  type ComponentType,\n  type FC,\n  memo,\n  PropsWithChildren,\n  useMemo,\n} from \"react\";\nimport {\n  useAssistantState,\n  PartByIndexProvider,\n  useAssistantApi,\n  TextMessagePartProvider,\n} from \"../../context\";\nimport { MessagePartPrimitiveText } from \"../messagePart/MessagePartText\";\nimport { MessagePartPrimitiveImage } from \"../messagePart/MessagePartImage\";\nimport type {\n  Unstable_AudioMessagePartComponent,\n  EmptyMessagePartComponent,\n  TextMessagePartComponent,\n  ImageMessagePartComponent,\n  SourceMessagePartComponent,\n  ToolCallMessagePartComponent,\n  ToolCallMessagePartProps,\n  FileMessagePartComponent,\n  ReasoningMessagePartComponent,\n} from \"../../types/MessagePartComponentTypes\";\nimport { MessagePartPrimitiveInProgress } from \"../messagePart/MessagePartInProgress\";\nimport { MessagePartStatus } from \"../../types/AssistantTypes\";\n\ntype MessagePartGroup = {\n  groupKey: string | undefined;\n  indices: number[];\n};\n\nexport type GroupingFunction = (parts: readonly any[]) => MessagePartGroup[];\n\n/**\n * Groups message parts by their parent ID.\n * Parts without a parent ID appear in their chronological position as individual groups.\n * Parts with the same parent ID are grouped together at the position of their first occurrence.\n */\nconst groupMessagePartsByParentId: GroupingFunction = (\n  parts: readonly any[],\n): MessagePartGroup[] => {\n  // Map maintains insertion order, so groups appear in order of first occurrence\n  const groupMap = new Map<string, number[]>();\n\n  // Process each part in order\n  for (let i = 0; i < parts.length; i++) {\n    const part = parts[i];\n    const parentId = part?.parentId as string | undefined;\n\n    // For parts without parentId, assign a unique group ID to maintain their position\n    const groupId = parentId ?? `__ungrouped_${i}`;\n\n    // Get or create the indices array for this group\n    const indices = groupMap.get(groupId) ?? [];\n    indices.push(i);\n    groupMap.set(groupId, indices);\n  }\n\n  // Convert map to array of groups\n  const groups: MessagePartGroup[] = [];\n  for (const [groupId, indices] of groupMap) {\n    // Extract parentId (undefined for ungrouped parts)\n    const groupKey = groupId.startsWith(\"__ungrouped_\") ? undefined : groupId;\n    groups.push({ groupKey, indices });\n  }\n\n  return groups;\n};\n\nconst useMessagePartsGrouped = (\n  groupingFunction: GroupingFunction,\n): MessagePartGroup[] => {\n  const parts = useAssistantState(({ message }) => message.parts);\n\n  return useMemo(() => {\n    if (parts.length === 0) {\n      return [];\n    }\n    return groupingFunction(parts);\n  }, [parts, groupingFunction]);\n};\n\nexport namespace MessagePrimitiveUnstable_PartsGrouped {\n  export type Props = {\n    /**\n     * Function that takes an array of message parts and returns an array of groups.\n     * Each group contains a key (for identification) and an array of indices.\n     *\n     * @example\n     * ```tsx\n     * // Group by parent ID (default behavior)\n     * groupingFunction={(parts) => {\n     *   const groups = new Map<string, number[]>();\n     *   parts.forEach((part, i) => {\n     *     const key = part.parentId ?? `__ungrouped_${i}`;\n     *     const indices = groups.get(key) ?? [];\n     *     indices.push(i);\n     *     groups.set(key, indices);\n     *   });\n     *   return Array.from(groups.entries()).map(([key, indices]) => ({\n     *     key: key.startsWith(\"__ungrouped_\") ? undefined : key,\n     *     indices\n     *   }));\n     * }}\n     * ```\n     *\n     * @example\n     * ```tsx\n     * // Group by tool name\n     * import { groupMessagePartsByToolName } from \"@assistant-ui/react\";\n     *\n     * <MessagePrimitive.Unstable_PartsGrouped\n     *   groupingFunction={groupMessagePartsByToolName}\n     *   components={{\n     *     Group: ({ key, indices, children }) => {\n     *       if (!key) return <>{children}</>;\n     *       return (\n     *         <div className=\"tool-group\">\n     *           <h4>Tool: {key}</h4>\n     *           {children}\n     *         </div>\n     *       );\n     *     }\n     *   }}\n     * />\n     * ```\n     */\n    groupingFunction: GroupingFunction;\n\n    /**\n     * Component configuration for rendering different types of message content.\n     *\n     * You can provide custom components for each content type (text, image, file, etc.)\n     * and configure tool rendering behavior. If not provided, default components will be used.\n     */\n    components:\n      | {\n          /** Component for rendering empty messages */\n          Empty?: EmptyMessagePartComponent | undefined;\n          /** Component for rendering text content */\n          Text?: TextMessagePartComponent | undefined;\n          /** Component for rendering reasoning content (typically hidden) */\n          Reasoning?: ReasoningMessagePartComponent | undefined;\n          /** Component for rendering source content */\n          Source?: SourceMessagePartComponent | undefined;\n          /** Component for rendering image content */\n          Image?: ImageMessagePartComponent | undefined;\n          /** Component for rendering file content */\n          File?: FileMessagePartComponent | undefined;\n          /** Component for rendering audio content (experimental) */\n          Unstable_Audio?: Unstable_AudioMessagePartComponent | undefined;\n          /** Configuration for tool call rendering */\n          tools?:\n            | {\n                /** Map of tool names to their specific components */\n                by_name?:\n                  | Record<string, ToolCallMessagePartComponent | undefined>\n                  | undefined;\n                /** Fallback component for unregistered tools */\n                Fallback?: ComponentType<ToolCallMessagePartProps> | undefined;\n              }\n            | {\n                /** Override component that handles all tool calls */\n                Override: ComponentType<ToolCallMessagePartProps>;\n              }\n            | undefined;\n\n          /**\n           * Component for rendering grouped message parts.\n           *\n           * When provided, this component will automatically wrap message parts that share\n           * the same group key as determined by the groupingFunction.\n           *\n           * The component receives:\n           * - `groupKey`: The group key (or undefined for ungrouped parts)\n           * - `indices`: Array of indices for the parts in this group\n           * - `children`: The rendered message part components\n           *\n           * @example\n           * ```tsx\n           * // Collapsible group\n           * Group: ({ groupKey, indices, children }) => {\n           *   if (!groupKey) return <>{children}</>;\n           *   return (\n           *     <details className=\"message-group\">\n           *       <summary>\n           *         Group {groupKey} ({indices.length} parts)\n           *       </summary>\n           *       <div className=\"group-content\">\n           *         {children}\n           *       </div>\n           *     </details>\n           *   );\n           * }\n           * ```\n           *\n           * @param groupKey - The group key (undefined for ungrouped parts)\n           * @param indices - Array of indices for the parts in this group\n           * @param children - Rendered message part components to display within the group\n           */\n          Group?: ComponentType<\n            PropsWithChildren<{\n              groupKey: string | undefined;\n              indices: number[];\n            }>\n          >;\n        }\n      | undefined;\n  };\n}\n\nconst ToolUIDisplay = ({\n  Fallback,\n  ...props\n}: {\n  Fallback: ToolCallMessagePartComponent | undefined;\n} & ToolCallMessagePartProps) => {\n  const Render = useAssistantState(({ toolUIs }) => {\n    const Render =\n      toolUIs.tools[props.toolName] ?? toolUIs.fallback ?? Fallback;\n    if (Array.isArray(Render)) return Render[0] ?? Fallback;\n    return Render;\n  });\n  if (!Render) return null;\n  return <Render {...props} />;\n};\n\nconst defaultComponents = {\n  Text: () => (\n    <p style={{ whiteSpace: \"pre-line\" }}>\n      <MessagePartPrimitiveText />\n      <MessagePartPrimitiveInProgress>\n        <span style={{ fontFamily: \"revert\" }}>{\" \\u25CF\"}</span>\n      </MessagePartPrimitiveInProgress>\n    </p>\n  ),\n  Reasoning: () => null,\n  Source: () => null,\n  Image: () => <MessagePartPrimitiveImage />,\n  File: () => null,\n  Unstable_Audio: () => null,\n  Group: ({ children }) => children,\n} satisfies MessagePrimitiveUnstable_PartsGrouped.Props[\"components\"];\n\ntype MessagePartComponentProps = {\n  components: MessagePrimitiveUnstable_PartsGrouped.Props[\"components\"];\n};\n\nconst MessagePartComponent: FC<MessagePartComponentProps> = ({\n  components: {\n    Text = defaultComponents.Text,\n    Reasoning = defaultComponents.Reasoning,\n    Image = defaultComponents.Image,\n    Source = defaultComponents.Source,\n    File = defaultComponents.File,\n    Unstable_Audio: Audio = defaultComponents.Unstable_Audio,\n    tools = {},\n  } = {},\n}) => {\n  const api = useAssistantApi();\n  const part = useAssistantState(({ part }) => part);\n\n  const type = part.type;\n  if (type === \"tool-call\") {\n    const addResult = (result: any) => api.part().addToolResult(result);\n    const resume = api.part().resumeToolCall;\n    if (\"Override\" in tools)\n      return <tools.Override {...part} addResult={addResult} resume={resume} />;\n    const Tool = tools.by_name?.[part.toolName] ?? tools.Fallback;\n    return (\n      <ToolUIDisplay\n        {...part}\n        Fallback={Tool}\n        addResult={addResult}\n        resume={resume}\n      />\n    );\n  }\n\n  if (part.status?.type === \"requires-action\")\n    throw new Error(\"Encountered unexpected requires-action status\");\n\n  switch (type) {\n    case \"text\":\n      return <Text {...part} />;\n\n    case \"reasoning\":\n      return <Reasoning {...part} />;\n\n    case \"source\":\n      return <Source {...part} />;\n\n    case \"image\":\n      // eslint-disable-next-line jsx-a11y/alt-text\n      return <Image {...part} />;\n\n    case \"file\":\n      return <File {...part} />;\n\n    case \"audio\":\n      return <Audio {...part} />;\n\n    default:\n      const unhandledType: never = type;\n      throw new Error(`Unknown message part type: ${unhandledType}`);\n  }\n};\n\ntype MessagePartProps = {\n  partIndex: number;\n  components: MessagePrimitiveUnstable_PartsGrouped.Props[\"components\"];\n};\n\nconst MessagePartImpl: FC<MessagePartProps> = ({ partIndex, components }) => {\n  return (\n    <PartByIndexProvider index={partIndex}>\n      <MessagePartComponent components={components} />\n    </PartByIndexProvider>\n  );\n};\n\nconst MessagePart = memo(\n  MessagePartImpl,\n  (prev, next) =>\n    prev.partIndex === next.partIndex &&\n    prev.components?.Text === next.components?.Text &&\n    prev.components?.Reasoning === next.components?.Reasoning &&\n    prev.components?.Source === next.components?.Source &&\n    prev.components?.Image === next.components?.Image &&\n    prev.components?.File === next.components?.File &&\n    prev.components?.Unstable_Audio === next.components?.Unstable_Audio &&\n    prev.components?.tools === next.components?.tools &&\n    prev.components?.Group === next.components?.Group,\n);\n\nconst EmptyPartFallback: FC<{\n  status: MessagePartStatus;\n  component: TextMessagePartComponent;\n}> = ({ status, component: Component }) => {\n  return (\n    <TextMessagePartProvider text=\"\" isRunning={status.type === \"running\"}>\n      <Component type=\"text\" text=\"\" status={status} />\n    </TextMessagePartProvider>\n  );\n};\n\nconst COMPLETE_STATUS: MessagePartStatus = Object.freeze({\n  type: \"complete\",\n});\n\nconst EmptyPartsImpl: FC<MessagePartComponentProps> = ({ components }) => {\n  const status = useAssistantState(\n    (s) => (s.message.status ?? COMPLETE_STATUS) as MessagePartStatus,\n  );\n\n  if (components?.Empty) return <components.Empty status={status} />;\n\n  return (\n    <EmptyPartFallback\n      status={status}\n      component={components?.Text ?? defaultComponents.Text}\n    />\n  );\n};\n\nconst EmptyParts = memo(\n  EmptyPartsImpl,\n  (prev, next) =>\n    prev.components?.Empty === next.components?.Empty &&\n    prev.components?.Text === next.components?.Text,\n);\n\n/**\n * Renders the parts of a message grouped by a custom grouping function.\n *\n * This component allows you to group message parts based on any criteria you define.\n * The grouping function receives all message parts and returns an array of groups,\n * where each group has a key and an array of part indices.\n *\n * @example\n * ```tsx\n * // Group by parent ID (default behavior)\n * <MessagePrimitive.Unstable_PartsGrouped\n *   components={{\n *     Text: ({ text }) => <p className=\"message-text\">{text}</p>,\n *     Image: ({ image }) => <img src={image} alt=\"Message image\" />,\n *     Group: ({ groupKey, indices, children }) => {\n *       if (!groupKey) return <>{children}</>;\n *       return (\n *         <div className=\"parent-group border rounded p-4\">\n *           <h4>Parent ID: {groupKey}</h4>\n *           {children}\n *         </div>\n *       );\n *     }\n *   }}\n * />\n * ```\n *\n * @example\n * ```tsx\n * // Group by tool name\n * import { groupMessagePartsByToolName } from \"@assistant-ui/react\";\n *\n * <MessagePrimitive.Unstable_PartsGrouped\n *   groupingFunction={groupMessagePartsByToolName}\n *   components={{\n *     Group: ({ groupKey, indices, children }) => {\n *       if (!groupKey) return <>{children}</>;\n *       return (\n *         <div className=\"tool-group\">\n *           <h4>Tool: {groupKey}</h4>\n *           {children}\n *         </div>\n *       );\n *     }\n *   }}\n * />\n * ```\n */\nexport const MessagePrimitiveUnstable_PartsGrouped: FC<\n  MessagePrimitiveUnstable_PartsGrouped.Props\n> = ({ groupingFunction, components }) => {\n  const contentLength = useAssistantState(\n    ({ message }) => message.parts.length,\n  );\n  const messageGroups = useMessagePartsGrouped(groupingFunction);\n\n  const partsElements = useMemo(() => {\n    if (contentLength === 0) {\n      return <EmptyParts components={components} />;\n    }\n\n    return messageGroups.map((group, groupIndex) => {\n      const GroupComponent = components?.Group ?? defaultComponents.Group;\n\n      return (\n        <GroupComponent\n          key={`group-${groupIndex}-${group.groupKey ?? \"ungrouped\"}`}\n          groupKey={group.groupKey}\n          indices={group.indices}\n        >\n          {group.indices.map((partIndex) => (\n            <MessagePart\n              key={partIndex}\n              partIndex={partIndex}\n              components={components}\n            />\n          ))}\n        </GroupComponent>\n      );\n    });\n  }, [messageGroups, components, contentLength]);\n\n  return <>{partsElements}</>;\n};\n\nMessagePrimitiveUnstable_PartsGrouped.displayName =\n  \"MessagePrimitive.Unstable_PartsGrouped\";\n\n/**\n * Renders the parts of a message grouped by their parent ID.\n * This is a convenience wrapper around Unstable_PartsGrouped with parent ID grouping.\n *\n * @deprecated Use MessagePrimitive.Unstable_PartsGrouped instead for more flexibility\n */\nexport const MessagePrimitiveUnstable_PartsGroupedByParentId: FC<\n  Omit<MessagePrimitiveUnstable_PartsGrouped.Props, \"groupingFunction\">\n> = ({ components, ...props }) => {\n  return (\n    <MessagePrimitiveUnstable_PartsGrouped\n      {...props}\n      components={components}\n      groupingFunction={groupMessagePartsByParentId}\n    />\n  );\n};\n\nMessagePrimitiveUnstable_PartsGroupedByParentId.displayName =\n  \"MessagePrimitive.Unstable_PartsGroupedByParentId\";\n"],"names":["Render","part"],"mappings":";;;;;;;AAEA;AAOA;;;;AAMA,SAAS,gCAAgC;AACzC,SAAS,iCAAiC;AAY1C,SAAS,sCAAsC;AAyMtC,SAsOA,UAtOA,KAKL,YALK;;;;;;;;AA1LT,IAAM,8BAAgD,CACpD,UACuB;IAEvB,MAAM,WAAW,aAAA,GAAA,IAAI,IAAsB;IAG3C,IAAA,IAAS,IAAI,GAAG,IAAI,MAAM,MAAA,EAAQ,IAAK;QACrC,MAAM,OAAO,KAAA,CAAM,CAAC,CAAA;QACpB,MAAM,WAAW,MAAM;QAGvB,MAAM,UAAU,YAAY,CAAA,YAAA,EAAe,CAAC,EAAA;QAG5C,MAAM,UAAU,SAAS,GAAA,CAAI,OAAO,KAAK,CAAC,CAAA;QAC1C,QAAQ,IAAA,CAAK,CAAC;QACd,SAAS,GAAA,CAAI,SAAS,OAAO;IAC/B;IAGA,MAAM,SAA6B,CAAC,CAAA;IACpC,KAAA,MAAW,CAAC,SAAS,OAAO,CAAA,IAAK,SAAU;QAEzC,MAAM,WAAW,QAAQ,UAAA,CAAW,cAAc,IAAI,KAAA,IAAY;QAClE,OAAO,IAAA,CAAK;YAAE;YAAU;QAAQ,CAAC;IACnC;IAEA,OAAO;AACT;AAEA,IAAM,yBAAyB,CAC7B,qBACuB;IACvB,MAAM,YAAQ,mbAAA,EAAkB,CAAC,EAAE,OAAA,CAAQ,CAAA,GAAM,QAAQ,KAAK;IAE9D,WAAO,uXAAA,EAAQ,MAAM;QACnB,IAAI,MAAM,MAAA,KAAW,GAAG;YACtB,OAAO,CAAC,CAAA;QACV;QACA,OAAO,iBAAiB,KAAK;IAC/B,GAAG;QAAC;QAAO,gBAAgB;KAAC;AAC9B;AAmIA,IAAM,gBAAgB,CAAC,EACrB,QAAA,EACA,GAAG,OACL,KAEiC;IAC/B,MAAM,aAAS,mbAAA,EAAkB,CAAC,EAAE,OAAA,CAAQ,CAAA,KAAM;QAChD,MAAMA,UACJ,QAAQ,KAAA,CAAM,MAAM,QAAQ,CAAA,IAAK,QAAQ,QAAA,IAAY;QACvD,IAAI,MAAM,OAAA,CAAQA,OAAM,EAAG,CAAA,OAAOA,OAAAA,CAAO,CAAC,CAAA,IAAK;QAC/C,OAAOA;IACT,CAAC;IACD,IAAI,CAAC,OAAQ,CAAA,OAAO;IACpB,OAAO,aAAA,GAAA,IAAA,qYAAA,EAAC,QAAA;QAAQ,GAAG,KAAA;IAAA,CAAO;AAC5B;AAEA,IAAM,oBAAoB;IACxB,MAAM,IACJ,aAAA,GAAA,IAAA,sYAAA,EAAC,KAAA;YAAE,OAAO;gBAAE,YAAY;YAAW;YACjC,UAAA;gBAAA,aAAA,GAAA,IAAA,qYAAA,EAAC,wbAAA,EAAA,CAAA,CAAyB;gBAC1B,aAAA,GAAA,IAAA,qYAAA,EAAC,ocAAA,EAAA;oBACC,UAAA,aAAA,GAAA,IAAA,qYAAA,EAAC,QAAA;wBAAK,OAAO;4BAAE,YAAY;wBAAS;wBAAI,UAAA;oBAAA,CAAU;gBAAA,CACpD;aAAA;QAAA,CACF;IAEF,WAAW,IAAM;IACjB,QAAQ,IAAM;IACd,OAAO,IAAM,aAAA,GAAA,IAAA,qYAAA,EAAC,0bAAA,EAAA,CAAA,CAA0B;IACxC,MAAM,IAAM;IACZ,gBAAgB,IAAM;IACtB,OAAO,CAAC,EAAE,QAAA,CAAS,CAAA,GAAM;AAC3B;AAMA,IAAM,uBAAsD,CAAC,EAC3D,YAAY,EACV,OAAO,kBAAkB,IAAA,EACzB,YAAY,kBAAkB,SAAA,EAC9B,QAAQ,kBAAkB,KAAA,EAC1B,SAAS,kBAAkB,MAAA,EAC3B,OAAO,kBAAkB,IAAA,EACzB,gBAAgB,QAAQ,kBAAkB,cAAA,EAC1C,QAAQ,CAAC,CAAA,EACX,GAAI,CAAC,CAAA,EACP,KAAM;IACJ,MAAM,UAAM,0aAAA,CAAgB;IAC5B,MAAM,WAAO,mbAAA,EAAkB,CAAC,EAAE,MAAAC,KAAAA,CAAK,CAAA,GAAMA,KAAI;IAEjD,MAAM,OAAO,KAAK,IAAA;IAClB,IAAI,SAAS,aAAa;QACxB,MAAM,YAAY,CAAC,SAAgB,IAAI,IAAA,CAAK,EAAE,aAAA,CAAc,MAAM;QAClE,MAAM,SAAS,IAAI,IAAA,CAAK,EAAE,cAAA;QAC1B,IAAI,cAAc,OAChB,OAAO,aAAA,GAAA,IAAA,qYAAA,EAAC,MAAM,QAAA,EAAN;YAAgB,GAAG,IAAA;YAAM;YAAsB;QAAA,CAAgB;QACzE,MAAM,OAAO,MAAM,OAAA,EAAA,CAAU,KAAK,QAAQ,CAAA,IAAK,MAAM,QAAA;QACrD,OACE,aAAA,GAAA,IAAA,qYAAA,EAAC,eAAA;YACE,GAAG,IAAA;YACJ,UAAU;YACV;YACA;QAAA;IAGN;IAEA,IAAI,KAAK,MAAA,EAAQ,SAAS,mBACxB,MAAM,IAAI,MAAM,+CAA+C;IAEjE,OAAQ,MAAM;QACZ,KAAK;YACH,OAAO,aAAA,GAAA,IAAA,qYAAA,EAAC,MAAA;gBAAM,GAAG,IAAA;YAAA,CAAM;QAEzB,KAAK;YACH,OAAO,aAAA,GAAA,IAAA,qYAAA,EAAC,WAAA;gBAAW,GAAG,IAAA;YAAA,CAAM;QAE9B,KAAK;YACH,OAAO,aAAA,GAAA,IAAA,qYAAA,EAAC,QAAA;gBAAQ,GAAG,IAAA;YAAA,CAAM;QAE3B,KAAK;YAEH,OAAO,aAAA,GAAA,IAAA,qYAAA,EAAC,OAAA;gBAAO,GAAG,IAAA;YAAA,CAAM;QAE1B,KAAK;YACH,OAAO,aAAA,GAAA,IAAA,qYAAA,EAAC,MAAA;gBAAM,GAAG,IAAA;YAAA,CAAM;QAEzB,KAAK;YACH,OAAO,aAAA,GAAA,IAAA,qYAAA,EAAC,OAAA;gBAAO,GAAG,IAAA;YAAA,CAAM;QAE1B;YACE,MAAM,gBAAuB;YAC7B,MAAM,IAAI,MAAM,CAAA,2BAAA,EAA8B,aAAa,EAAE;IACjE;AACF;AAOA,IAAM,kBAAwC,CAAC,EAAE,SAAA,EAAW,UAAA,CAAW,CAAA,KAAM;IAC3E,OACE,aAAA,GAAA,IAAA,qYAAA,EAAC,kbAAA,EAAA;QAAoB,OAAO;QAC1B,UAAA,aAAA,GAAA,IAAA,qYAAA,EAAC,sBAAA;YAAqB;QAAA,CAAwB;IAAA,CAChD;AAEJ;AAEA,IAAM,cAAc,wXAAA,EAClB,iBACA,CAAC,MAAM,OACL,KAAK,SAAA,KAAc,KAAK,SAAA,IACxB,KAAK,UAAA,EAAY,SAAS,KAAK,UAAA,EAAY,QAC3C,KAAK,UAAA,EAAY,cAAc,KAAK,UAAA,EAAY,aAChD,KAAK,UAAA,EAAY,WAAW,KAAK,UAAA,EAAY,UAC7C,KAAK,UAAA,EAAY,UAAU,KAAK,UAAA,EAAY,SAC5C,KAAK,UAAA,EAAY,SAAS,KAAK,UAAA,EAAY,QAC3C,KAAK,UAAA,EAAY,mBAAmB,KAAK,UAAA,EAAY,kBACrD,KAAK,UAAA,EAAY,UAAU,KAAK,UAAA,EAAY,SAC5C,KAAK,UAAA,EAAY,UAAU,KAAK,UAAA,EAAY;AAGhD,IAAM,oBAGD,CAAC,EAAE,MAAA,EAAQ,WAAW,SAAA,CAAU,CAAA,KAAM;IACzC,OACE,aAAA,GAAA,IAAA,qYAAA,EAAC,0bAAA,EAAA;QAAwB,MAAK;QAAG,WAAW,OAAO,IAAA,KAAS;QAC1D,UAAA,aAAA,GAAA,IAAA,qYAAA,EAAC,WAAA;YAAU,MAAK;YAAO,MAAK;YAAG;QAAA,CAAgB;IAAA,CACjD;AAEJ;AAEA,IAAM,kBAAqC,OAAO,MAAA,CAAO;IACvD,MAAM;AACR,CAAC;AAED,IAAM,iBAAgD,CAAC,EAAE,UAAA,CAAW,CAAA,KAAM;IACxE,MAAM,aAAS,mbAAA,EACb,CAAC,IAAO,EAAE,OAAA,CAAQ,MAAA,IAAU;IAG9B,IAAI,YAAY,MAAO,CAAA,OAAO,aAAA,GAAA,IAAA,qYAAA,EAAC,WAAW,KAAA,EAAX;QAAiB;IAAA,CAAgB;IAEhE,OACE,aAAA,GAAA,IAAA,qYAAA,EAAC,mBAAA;QACC;QACA,WAAW,YAAY,QAAQ,kBAAkB,IAAA;IAAA;AAGvD;AAEA,IAAM,iBAAa,oXAAA,EACjB,gBACA,CAAC,MAAM,OACL,KAAK,UAAA,EAAY,UAAU,KAAK,UAAA,EAAY,SAC5C,KAAK,UAAA,EAAY,SAAS,KAAK,UAAA,EAAY;AAmDxC,IAAM,wCAET,CAAC,EAAE,gBAAA,EAAkB,UAAA,CAAW,CAAA,KAAM;IACxC,MAAM,gBAAgB,ubAAA,EACpB,CAAC,EAAE,OAAA,CAAQ,CAAA,GAAM,QAAQ,KAAA,CAAM,MAAA;IAEjC,MAAM,gBAAgB,uBAAuB,gBAAgB;IAE7D,MAAM,oBAAgB,uXAAA,EAAQ,MAAM;QAClC,IAAI,kBAAkB,GAAG;YACvB,OAAO,aAAA,GAAA,IAAA,qYAAA,EAAC,YAAA;gBAAW;YAAA,CAAwB;QAC7C;QAEA,OAAO,cAAc,GAAA,CAAI,CAAC,OAAO,eAAe;YAC9C,MAAM,iBAAiB,YAAY,SAAS,kBAAkB,KAAA;YAE9D,OACE,aAAA,GAAA,IAAA,qYAAA,EAAC,gBAAA;gBAEC,UAAU,MAAM,QAAA;gBAChB,SAAS,MAAM,OAAA;gBAEd,UAAA,MAAM,OAAA,CAAQ,GAAA,CAAI,CAAC,YAClB,aAAA,GAAA,IAAA,qYAAA,EAAC,aAAA;wBAEC;wBACA;oBAAA,GAFK;YAIR,GAVI,CAAA,MAAA,EAAS,UAAU,CAAA,CAAA,EAAI,MAAM,QAAA,IAAY,WAAW,EAAA;QAa/D,CAAC;IACH,GAAG;QAAC;QAAe;QAAY,aAAa;KAAC;IAE7C,OAAO,aAAA,GAAA,IAAA,qYAAA,EAAA,0YAAA,EAAA;QAAG,UAAA;IAAA,CAAc;AAC1B;AAEA,sCAAsC,WAAA,GACpC;AAQK,IAAM,kDAET,CAAC,EAAE,UAAA,EAAY,GAAG,MAAM,CAAA,KAAM;IAChC,OACE,aAAA,GAAA,IAAA,qYAAA,EAAC,uCAAA;QACE,GAAG,KAAA;QACJ;QACA,kBAAkB;IAAA;AAGxB;AAEA,gDAAgD,WAAA,GAC9C","debugId":null}},
    {"offset": {"line": 2168, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Breact%400.11.37_%40types%2Breact-dom%4019.2.2_%40types%2Breact%4019.2.2__%40types%2Breact%4019.2.2__utqnq2rpqwwcg76r2vcd3th5pi/node_modules/%40assistant-ui/react/src/primitives/message/index.ts"],"sourcesContent":["export { MessagePrimitiveRoot as Root } from \"./MessageRoot\";\nexport { MessagePrimitiveParts as Parts } from \"./MessageParts\";\nexport { MessagePrimitivePartByIndex as PartByIndex } from \"./MessageParts\";\nexport { MessagePrimitiveParts as Content } from \"./MessageParts\";\nexport { MessagePrimitiveIf as If } from \"./MessageIf\";\nexport { MessagePrimitiveAttachments as Attachments } from \"./MessageAttachments\";\nexport { MessagePrimitiveAttachmentByIndex as AttachmentByIndex } from \"./MessageAttachments\";\nexport { MessagePrimitiveError as Error } from \"./MessageError\";\nexport {\n  MessagePrimitiveUnstable_PartsGrouped as Unstable_PartsGrouped,\n  MessagePrimitiveUnstable_PartsGroupedByParentId as Unstable_PartsGroupedByParentId,\n} from \"./MessagePartsGrouped\";\n"],"names":["MessagePrimitiveParts"],"mappings":";;AAAA,SAAiC,4BAAY;AAC7C,SAAkC,6BAAa;AAG/C,SAA+B,0BAAU;AACzC,SAAwC,mCAAmB;AAE3D,SAAkC,6BAAa;AAC/C","debugId":null}},
    {"offset": {"line": 2233, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Breact%400.11.37_%40types%2Breact-dom%4019.2.2_%40types%2Breact%4019.2.2__%40types%2Breact%4019.2.2__utqnq2rpqwwcg76r2vcd3th5pi/node_modules/%40assistant-ui/react/src/primitives/thread/ThreadRoot.tsx"],"sourcesContent":["\"use client\";\n\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { type ComponentRef, forwardRef, ComponentPropsWithoutRef } from \"react\";\n\nexport namespace ThreadPrimitiveRoot {\n  export type Element = ComponentRef<typeof Primitive.div>;\n  /**\n   * Props for the ThreadPrimitive.Root component.\n   * Accepts all standard div element props.\n   */\n  export type Props = ComponentPropsWithoutRef<typeof Primitive.div>;\n}\n\n/**\n * The root container component for a thread.\n *\n * This component serves as the foundational wrapper for all thread-related components.\n * It provides the basic structure and context needed for thread functionality.\n *\n * @example\n * ```tsx\n * <ThreadPrimitive.Root>\n *   <ThreadPrimitive.Viewport>\n *     <ThreadPrimitive.Messages components={{ Message: MyMessage }} />\n *   </ThreadPrimitive.Viewport>\n * </ThreadPrimitive.Root>\n * ```\n */\nexport const ThreadPrimitiveRoot = forwardRef<\n  ThreadPrimitiveRoot.Element,\n  ThreadPrimitiveRoot.Props\n>((props, ref) => {\n  return <Primitive.div {...props} ref={ref} />;\n});\n\nThreadPrimitiveRoot.displayName = \"ThreadPrimitive.Root\";\n"],"names":[],"mappings":";;;;;AAEA,SAAS,iBAAiB;AAC1B,SAA4B,kBAA4C;AA8B/D;;;;;AAJF,IAAM,0BAAsB,0XAAA,EAGjC,CAAC,OAAO,QAAQ;IAChB,OAAO,aAAA,GAAA,IAAA,qYAAA,EAAC,yYAAA,CAAU,GAAA,EAAV;QAAe,GAAG,KAAA;QAAO;IAAA,CAAU;AAC7C,CAAC;AAED,oBAAoB,WAAA,GAAc","debugId":null}},
    {"offset": {"line": 2258, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Breact%400.11.37_%40types%2Breact-dom%4019.2.2_%40types%2Breact%4019.2.2__%40types%2Breact%4019.2.2__utqnq2rpqwwcg76r2vcd3th5pi/node_modules/%40assistant-ui/react/src/primitives/thread/ThreadEmpty.tsx"],"sourcesContent":["\"use client\";\n\nimport type { FC, PropsWithChildren } from \"react\";\nimport { useAssistantState } from \"../../context\";\n\nexport namespace ThreadPrimitiveEmpty {\n  export type Props = PropsWithChildren;\n}\n\nexport const ThreadPrimitiveEmpty: FC<ThreadPrimitiveEmpty.Props> = ({\n  children,\n}) => {\n  const empty = useAssistantState(\n    ({ thread }) => thread.messages.length === 0 && !thread.isLoading,\n  );\n  return empty ? children : null;\n};\n\nThreadPrimitiveEmpty.displayName = \"ThreadPrimitive.Empty\";\n"],"names":[],"mappings":";;;;;AAGA,SAAS,yBAAyB;;;AAM3B,IAAM,uBAAuD,CAAC,EACnE,QAAA,EACF,KAAM;IACJ,MAAM,YAAQ,mbAAA,EACZ,CAAC,EAAE,MAAA,CAAO,CAAA,GAAM,OAAO,QAAA,CAAS,MAAA,KAAW,KAAK,CAAC,OAAO,SAAA;IAE1D,OAAO,QAAQ,WAAW;AAC5B;AAEA,qBAAqB,WAAA,GAAc","debugId":null}},
    {"offset": {"line": 2277, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Breact%400.11.37_%40types%2Breact-dom%4019.2.2_%40types%2Breact%4019.2.2__%40types%2Breact%4019.2.2__utqnq2rpqwwcg76r2vcd3th5pi/node_modules/%40assistant-ui/react/src/primitives/thread/ThreadIf.tsx"],"sourcesContent":["\"use client\";\n\nimport type { FC, PropsWithChildren } from \"react\";\nimport { useAssistantState } from \"../../context\";\nimport type { RequireAtLeastOne } from \"../../utils/RequireAtLeastOne\";\n\ntype ThreadIfFilters = {\n  empty: boolean | undefined;\n  running: boolean | undefined;\n  disabled: boolean | undefined;\n};\n\ntype UseThreadIfProps = RequireAtLeastOne<ThreadIfFilters>;\n\nconst useThreadIf = (props: UseThreadIfProps) => {\n  return useAssistantState(({ thread }) => {\n    const isEmpty = thread.messages.length === 0 && !thread.isLoading;\n    if (props.empty === true && !isEmpty) return false;\n    if (props.empty === false && isEmpty) return false;\n\n    if (props.running === true && !thread.isRunning) return false;\n    if (props.running === false && thread.isRunning) return false;\n    if (props.disabled === true && !thread.isDisabled) return false;\n    if (props.disabled === false && thread.isDisabled) return false;\n\n    return true;\n  });\n};\n\nexport namespace ThreadPrimitiveIf {\n  export type Props = PropsWithChildren<UseThreadIfProps>;\n}\n\nexport const ThreadPrimitiveIf: FC<ThreadPrimitiveIf.Props> = ({\n  children,\n  ...query\n}) => {\n  const result = useThreadIf(query);\n  return result ? children : null;\n};\n\nThreadPrimitiveIf.displayName = \"ThreadPrimitive.If\";\n"],"names":[],"mappings":";;;;;AAGA,SAAS,yBAAyB;;;AAWlC,IAAM,cAAc,CAAC,UAA4B;IAC/C,WAAO,mbAAA,EAAkB,CAAC,EAAE,MAAA,CAAO,CAAA,KAAM;QACvC,MAAM,UAAU,OAAO,QAAA,CAAS,MAAA,KAAW,KAAK,CAAC,OAAO,SAAA;QACxD,IAAI,MAAM,KAAA,KAAU,QAAQ,CAAC,QAAS,CAAA,OAAO;QAC7C,IAAI,MAAM,KAAA,KAAU,SAAS,QAAS,CAAA,OAAO;QAE7C,IAAI,MAAM,OAAA,KAAY,QAAQ,CAAC,OAAO,SAAA,CAAW,CAAA,OAAO;QACxD,IAAI,MAAM,OAAA,KAAY,SAAS,OAAO,SAAA,CAAW,CAAA,OAAO;QACxD,IAAI,MAAM,QAAA,KAAa,QAAQ,CAAC,OAAO,UAAA,CAAY,CAAA,OAAO;QAC1D,IAAI,MAAM,QAAA,KAAa,SAAS,OAAO,UAAA,CAAY,CAAA,OAAO;QAE1D,OAAO;IACT,CAAC;AACH;AAMO,IAAM,oBAAiD,CAAC,EAC7D,QAAA,EACA,GAAG,OACL,KAAM;IACJ,MAAM,SAAS,YAAY,KAAK;IAChC,OAAO,SAAS,WAAW;AAC7B;AAEA,kBAAkB,WAAA,GAAc","debugId":null}},
    {"offset": {"line": 2308, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Breact%400.11.37_%40types%2Breact-dom%4019.2.2_%40types%2Breact%4019.2.2__%40types%2Breact%4019.2.2__utqnq2rpqwwcg76r2vcd3th5pi/node_modules/%40assistant-ui/react/src/context/react/hooks/useAssistantEvent.ts"],"sourcesContent":["import { useEffect, useRef } from \"react\";\nimport { useAssistantApi } from \"../../react/AssistantApiContext\";\nimport {\n  AssistantEvent,\n  AssistantEventCallback,\n  AssistantEventSelector,\n  normalizeEventSelector,\n} from \"../../../types/EventTypes\";\n\nexport const useAssistantEvent = <TEvent extends AssistantEvent>(\n  selector: AssistantEventSelector<TEvent>,\n  callback: AssistantEventCallback<TEvent>,\n) => {\n  const api = useAssistantApi();\n  const callbackRef = useRef(callback);\n  useEffect(() => {\n    callbackRef.current = callback;\n  });\n\n  const { scope, event } = normalizeEventSelector(selector);\n  useEffect(\n    () => api.on({ scope, event }, (e) => callbackRef.current(e)),\n    [api, scope, event],\n  );\n};\n"],"names":[],"mappings":";;;;;AAAA,SAAS,WAAW,cAAc;AAClC,SAAS,uBAAuB;AAChC;;;;AAOO,IAAM,oBAAoB,CAC/B,UACA,aACG;IACH,MAAM,UAAM,0aAAA,CAAgB;IAC5B,MAAM,kBAAc,sXAAA,EAAO,QAAQ;IACnC,IAAA,yXAAA,EAAU,MAAM;QACd,YAAY,OAAA,GAAU;IACxB,CAAC;IAED,MAAM,EAAE,KAAA,EAAO,KAAA,CAAM,CAAA,OAAI,6ZAAA,EAAuB,QAAQ;IACxD,IAAA,yXAAA,EACE,IAAM,IAAI,EAAA,CAAG;YAAE;YAAO;QAAM,GAAG,CAAC,IAAM,YAAY,OAAA,CAAQ,CAAC,CAAC,GAC5D;QAAC;QAAK;QAAO,KAAK;KAAA;AAEtB","debugId":null}},
    {"offset": {"line": 2341, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Breact%400.11.37_%40types%2Breact-dom%4019.2.2_%40types%2Breact%4019.2.2__%40types%2Breact%4019.2.2__utqnq2rpqwwcg76r2vcd3th5pi/node_modules/%40assistant-ui/react/src/utils/hooks/useOnResizeContent.tsx"],"sourcesContent":["import { useCallbackRef } from \"@radix-ui/react-use-callback-ref\";\nimport { useCallback } from \"react\";\nimport { useManagedRef } from \"./useManagedRef\";\n\nexport const useOnResizeContent = (callback: () => void) => {\n  const callbackRef = useCallbackRef(callback);\n\n  const refCallback = useCallback(\n    (el: HTMLElement) => {\n      const resizeObserver = new ResizeObserver(() => {\n        callbackRef();\n      });\n\n      const mutationObserver = new MutationObserver(() => {\n        callbackRef();\n      });\n\n      resizeObserver.observe(el);\n      mutationObserver.observe(el, {\n        childList: true,\n        subtree: true,\n        attributes: true,\n        characterData: true,\n      });\n\n      return () => {\n        resizeObserver.disconnect();\n        mutationObserver.disconnect();\n      };\n    },\n    [callbackRef],\n  );\n\n  return useManagedRef(refCallback);\n};\n"],"names":[],"mappings":";;;;;AAAA,SAAS,sBAAsB;AAC/B,SAAS,mBAAmB;AAC5B,SAAS,qBAAqB;;;;AAEvB,IAAM,qBAAqB,CAAC,aAAyB;IAC1D,MAAM,kBAAc,0VAAA,EAAe,QAAQ;IAE3C,MAAM,kBAAc,2XAAA,EAClB,CAAC,OAAoB;QACnB,MAAM,iBAAiB,IAAI,eAAe,MAAM;YAC9C,YAAY;QACd,CAAC;QAED,MAAM,mBAAmB,IAAI,iBAAiB,MAAM;YAClD,YAAY;QACd,CAAC;QAED,eAAe,OAAA,CAAQ,EAAE;QACzB,iBAAiB,OAAA,CAAQ,IAAI;YAC3B,WAAW;YACX,SAAS;YACT,YAAY;YACZ,eAAe;QACjB,CAAC;QAED,OAAO,MAAM;YACX,eAAe,UAAA,CAAW;YAC1B,iBAAiB,UAAA,CAAW;QAC9B;IACF,GACA;QAAC,WAAW;KAAA;IAGd,WAAO,gaAAA,EAAc,WAAW;AAClC","debugId":null}},
    {"offset": {"line": 2383, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Breact%400.11.37_%40types%2Breact-dom%4019.2.2_%40types%2Breact%4019.2.2__%40types%2Breact%4019.2.2__utqnq2rpqwwcg76r2vcd3th5pi/node_modules/%40assistant-ui/react/src/primitives/thread/useThreadViewportAutoScroll.tsx"],"sourcesContent":["\"use client\";\n\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport { RefCallback, useCallback, useRef } from \"react\";\nimport { useAssistantEvent } from \"../../context\";\nimport { useOnResizeContent } from \"../../utils/hooks/useOnResizeContent\";\nimport { useOnScrollToBottom } from \"../../utils/hooks/useOnScrollToBottom\";\nimport { useManagedRef } from \"../../utils/hooks/useManagedRef\";\nimport { writableStore } from \"../../context/ReadonlyStore\";\nimport { useThreadViewportStore } from \"../../context/react/ThreadViewportContext\";\n\nexport namespace useThreadViewportAutoScroll {\n  export type Options = {\n    autoScroll?: boolean | undefined;\n  };\n}\n\nexport const useThreadViewportAutoScroll = <TElement extends HTMLElement>({\n  autoScroll = true,\n}: useThreadViewportAutoScroll.Options): RefCallback<TElement> => {\n  const divRef = useRef<TElement>(null);\n\n  const threadViewportStore = useThreadViewportStore();\n\n  const lastScrollTop = useRef<number>(0);\n\n  // bug: when ScrollToBottom's button changes its disabled state, the scroll stops\n  // fix: delay the state change until the scroll is done\n  const isScrollingToBottomRef = useRef(false);\n\n  const scrollToBottom = useCallback(\n    (behavior: ScrollBehavior) => {\n      const div = divRef.current;\n      if (!div || !autoScroll) return;\n\n      isScrollingToBottomRef.current = true;\n      div.scrollTo({ top: div.scrollHeight, behavior });\n    },\n    [autoScroll],\n  );\n\n  const handleScroll = () => {\n    const div = divRef.current;\n    if (!div) return;\n\n    const isAtBottom = threadViewportStore.getState().isAtBottom;\n    const newIsAtBottom =\n      div.scrollHeight - div.scrollTop <= div.clientHeight + 1; // TODO figure out why +1 is needed\n\n    if (!newIsAtBottom && lastScrollTop.current < div.scrollTop) {\n      // ignore scroll down\n    } else {\n      if (newIsAtBottom) {\n        isScrollingToBottomRef.current = false;\n      }\n\n      if (newIsAtBottom !== isAtBottom) {\n        writableStore(threadViewportStore).setState({\n          isAtBottom: newIsAtBottom,\n        });\n      }\n    }\n\n    lastScrollTop.current = div.scrollTop;\n  };\n\n  const resizeRef = useOnResizeContent(() => {\n    if (\n      isScrollingToBottomRef.current ||\n      threadViewportStore.getState().isAtBottom\n    ) {\n      scrollToBottom(\"instant\");\n    }\n\n    handleScroll();\n  });\n\n  const scrollRef = useManagedRef<HTMLElement>((el) => {\n    el.addEventListener(\"scroll\", handleScroll);\n    return () => {\n      el.removeEventListener(\"scroll\", handleScroll);\n    };\n  });\n\n  useOnScrollToBottom(() => {\n    scrollToBottom(\"auto\");\n  });\n\n  // autoscroll on run start\n  useAssistantEvent(\"thread.run-start\", () => scrollToBottom(\"auto\"));\n\n  const autoScrollRef = useComposedRefs<TElement>(resizeRef, scrollRef, divRef);\n  return autoScrollRef as RefCallback<TElement>;\n};\n"],"names":[],"mappings":";;;;;AAEA,SAAS,uBAAuB;AAChC,SAAsB,aAAa,cAAc;AACjD,SAAS,yBAAyB;AAClC,SAAS,0BAA0B;AACnC,SAAS,2BAA2B;AACpC,SAAS,qBAAqB;AAC9B,SAAS,qBAAqB;AAC9B,SAAS,8BAA8B;;;;;;;;;;AAQhC,IAAM,8BAA8B,CAA+B,EACxE,aAAa,IAAA,EACf,KAAkE;IAChE,MAAM,aAAS,sXAAA,EAAiB,IAAI;IAEpC,MAAM,0BAAsB,mbAAA,CAAuB;IAEnD,MAAM,oBAAgB,sXAAA,EAAe,CAAC;IAItC,MAAM,6BAAyB,sXAAA,EAAO,KAAK;IAE3C,MAAM,qBAAiB,2XAAA,EACrB,CAAC,aAA6B;QAC5B,MAAM,MAAM,OAAO,OAAA;QACnB,IAAI,CAAC,OAAO,CAAC,WAAY,CAAA;QAEzB,uBAAuB,OAAA,GAAU;QACjC,IAAI,QAAA,CAAS;YAAE,KAAK,IAAI,YAAA;YAAc;QAAS,CAAC;IAClD,GACA;QAAC,UAAU;KAAA;IAGb,MAAM,eAAe,MAAM;QACzB,MAAM,MAAM,OAAO,OAAA;QACnB,IAAI,CAAC,IAAK,CAAA;QAEV,MAAM,aAAa,oBAAoB,QAAA,CAAS,EAAE,UAAA;QAClD,MAAM,gBACJ,IAAI,YAAA,GAAe,IAAI,SAAA,IAAa,IAAI,YAAA,GAAe;QAEzD,IAAI,CAAC,iBAAiB,cAAc,OAAA,GAAU,IAAI,SAAA,EAAW,CAE7D,OAAO;YACL,IAAI,eAAe;gBACjB,uBAAuB,OAAA,GAAU;YACnC;YAEA,IAAI,kBAAkB,YAAY;gBAChC,IAAA,yZAAA,EAAc,mBAAmB,EAAE,QAAA,CAAS;oBAC1C,YAAY;gBACd,CAAC;YACH;QACF;QAEA,cAAc,OAAA,GAAU,IAAI,SAAA;IAC9B;IAEA,MAAM,gBAAY,0aAAA,EAAmB,MAAM;QACzC,IACE,uBAAuB,OAAA,IACvB,oBAAoB,QAAA,CAAS,EAAE,UAAA,EAC/B;YACA,eAAe,SAAS;QAC1B;QAEA,aAAa;IACf,CAAC;IAED,MAAM,gBAAY,gaAAA,EAA2B,CAAC,OAAO;QACnD,GAAG,gBAAA,CAAiB,UAAU,YAAY;QAC1C,OAAO,MAAM;YACX,GAAG,mBAAA,CAAoB,UAAU,YAAY;QAC/C;IACF,CAAC;IAED,IAAA,4aAAA,EAAoB,MAAM;QACxB,eAAe,MAAM;IACvB,CAAC;IAGD,IAAA,mbAAA,EAAkB,oBAAoB,IAAM,eAAe,MAAM,CAAC;IAElE,MAAM,oBAAgB,6UAAA,EAA0B,WAAW,WAAW,MAAM;IAC5E,OAAO;AACT","debugId":null}},
    {"offset": {"line": 2463, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Breact%400.11.37_%40types%2Breact-dom%4019.2.2_%40types%2Breact%4019.2.2__%40types%2Breact%4019.2.2__utqnq2rpqwwcg76r2vcd3th5pi/node_modules/%40assistant-ui/react/src/primitives/thread/ThreadViewport.tsx"],"sourcesContent":["\"use client\";\n\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { type ComponentRef, forwardRef, ComponentPropsWithoutRef } from \"react\";\nimport { useThreadViewportAutoScroll } from \"./useThreadViewportAutoScroll\";\nimport { ThreadViewportProvider } from \"../../context/providers/ThreadViewportProvider\";\n\nexport namespace ThreadPrimitiveViewport {\n  export type Element = ComponentRef<typeof Primitive.div>;\n  export type Props = ComponentPropsWithoutRef<typeof Primitive.div> & {\n    /**\n     * Whether to automatically scroll to the bottom when new messages are added.\n     * When enabled, the viewport will automatically scroll to show the latest content.\n     * @default true\n     */\n    autoScroll?: boolean | undefined;\n  };\n}\n\nconst ThreadPrimitiveViewportScrollable = forwardRef<\n  ThreadPrimitiveViewport.Element,\n  ThreadPrimitiveViewport.Props\n>(({ autoScroll, children, ...rest }, forwardedRef) => {\n  const autoScrollRef = useThreadViewportAutoScroll<HTMLDivElement>({\n    autoScroll,\n  });\n\n  const ref = useComposedRefs(forwardedRef, autoScrollRef);\n\n  return (\n    <Primitive.div {...rest} ref={ref}>\n      {children}\n    </Primitive.div>\n  );\n});\n\nThreadPrimitiveViewportScrollable.displayName =\n  \"ThreadPrimitive.ViewportScrollable\";\n\n/**\n * A scrollable viewport container for thread messages.\n *\n * This component provides a scrollable area for displaying thread messages with\n * automatic scrolling capabilities. It manages the viewport state and provides\n * context for child components to access viewport-related functionality.\n *\n * @example\n * ```tsx\n * <ThreadPrimitive.Viewport autoScroll={true}>\n *   <ThreadPrimitive.Messages components={{ Message: MyMessage }} />\n * </ThreadPrimitive.Viewport>\n * ```\n */\nexport const ThreadPrimitiveViewport = forwardRef<\n  ThreadPrimitiveViewport.Element,\n  ThreadPrimitiveViewport.Props\n>((props, ref) => {\n  return (\n    <ThreadViewportProvider>\n      <ThreadPrimitiveViewportScrollable {...props} ref={ref} />\n    </ThreadViewportProvider>\n  );\n});\n\nThreadPrimitiveViewport.displayName = \"ThreadPrimitive.Viewport\";\n"],"names":[],"mappings":";;;;;AAEA,SAAS,uBAAuB;AAChC,SAAS,iBAAiB;AAC1B,SAA4B,kBAA4C;AACxE,SAAS,mCAAmC;AAC5C,SAAS,8BAA8B;AAyBnC;;;;;;;;AAXJ,IAAM,wCAAoC,0XAAA,EAGxC,CAAC,EAAE,UAAA,EAAY,QAAA,EAAU,GAAG,KAAK,CAAA,EAAG,iBAAiB;IACrD,MAAM,gBAAgB,scAAA,EAA4C;QAChE;IACF,CAAC;IAED,MAAM,UAAM,6UAAA,EAAgB,cAAc,aAAa;IAEvD,OACE,aAAA,GAAA,IAAA,qYAAA,EAAC,yYAAA,CAAU,GAAA,EAAV;QAAe,GAAG,IAAA;QAAM;QACtB;IAAA,CACH;AAEJ,CAAC;AAED,kCAAkC,WAAA,GAChC;AAgBK,IAAM,8BAA0B,0XAAA,EAGrC,CAAC,OAAO,QAAQ;IAChB,OACE,aAAA,GAAA,IAAA,qYAAA,EAAC,wbAAA,EAAA;QACC,UAAA,aAAA,GAAA,IAAA,qYAAA,EAAC,mCAAA;YAAmC,GAAG,KAAA;YAAO;QAAA,CAAU;IAAA,CAC1D;AAEJ,CAAC;AAED,wBAAwB,WAAA,GAAc","debugId":null}},
    {"offset": {"line": 2508, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Breact%400.11.37_%40types%2Breact-dom%4019.2.2_%40types%2Breact%4019.2.2__%40types%2Breact%4019.2.2__utqnq2rpqwwcg76r2vcd3th5pi/node_modules/%40assistant-ui/react/src/context/providers/MessageByIndexProvider.tsx"],"sourcesContent":["\"use client\";\n\nimport { type FC, type PropsWithChildren } from \"react\";\nimport {\n  AssistantProvider,\n  useAssistantApi,\n  useExtendedAssistantApi,\n} from \"../react/AssistantApiContext\";\nimport {\n  checkEventScope,\n  normalizeEventSelector,\n} from \"../../types/EventTypes\";\nimport { DerivedScope } from \"../../utils/tap-store/derived-scopes\";\n\nexport const MessageByIndexProvider: FC<\n  PropsWithChildren<{\n    index: number;\n  }>\n> = ({ index, children }) => {\n  const baseApi = useAssistantApi();\n  const api = useExtendedAssistantApi({\n    message: DerivedScope({\n      source: \"thread\",\n      query: { type: \"index\", index },\n      get: () => baseApi.thread().message({ index }),\n    }),\n    composer: DerivedScope({\n      source: \"message\",\n      query: {},\n      get: () => baseApi.thread().message({ index }).composer,\n    }),\n    on(selector, callback) {\n      const getMessage = () => baseApi.thread().message({ index });\n      const { event, scope } = normalizeEventSelector(selector);\n      if (\n        !checkEventScope(\"composer\", scope, event) &&\n        !checkEventScope(\"message\", scope, event)\n      )\n        return baseApi.on(selector, callback);\n\n      return baseApi.on({ scope: \"thread\", event }, (e) => {\n        if (e.messageId === getMessage().getState().id) {\n          callback(e);\n        }\n      });\n    },\n  });\n\n  return <AssistantProvider api={api}>{children}</AssistantProvider>;\n};\n"],"names":[],"mappings":";;;;;AAGA;AAKA;AAIA,SAAS,oBAAoB;AAoCpB;;;;;;AAlCF,IAAM,yBAIT,CAAC,EAAE,KAAA,EAAO,QAAA,CAAS,CAAA,KAAM;IAC3B,MAAM,cAAU,0aAAA,CAAgB;IAChC,MAAM,UAAM,kbAAA,EAAwB;QAClC,SAAS,8aAAA,EAAa;YACpB,QAAQ;YACR,OAAO;gBAAE,MAAM;gBAAS;YAAM;YAC9B,KAAK,IAAM,QAAQ,MAAA,CAAO,EAAE,OAAA,CAAQ;oBAAE;gBAAM,CAAC;QAC/C,CAAC;QACD,cAAU,0aAAA,EAAa;YACrB,QAAQ;YACR,OAAO,CAAC;YACR,KAAK,IAAM,QAAQ,MAAA,CAAO,EAAE,OAAA,CAAQ;oBAAE;gBAAM,CAAC,EAAE,QAAA;QACjD,CAAC;QACD,IAAG,QAAA,EAAU,QAAA,EAAU;YACrB,MAAM,aAAa,IAAM,QAAQ,MAAA,CAAO,EAAE,OAAA,CAAQ;oBAAE;gBAAM,CAAC;YAC3D,MAAM,EAAE,KAAA,EAAO,KAAA,CAAM,CAAA,OAAI,6ZAAA,EAAuB,QAAQ;YACxD,IACE,KAAC,sZAAA,EAAgB,YAAY,OAAO,KAAK,KACzC,KAAC,sZAAA,EAAgB,WAAW,OAAO,KAAK,GAExC,OAAO,QAAQ,EAAA,CAAG,UAAU,QAAQ;YAEtC,OAAO,QAAQ,EAAA,CAAG;gBAAE,OAAO;gBAAU;YAAM,GAAG,CAAC,MAAM;gBACnD,IAAI,EAAE,SAAA,KAAc,WAAW,EAAE,QAAA,CAAS,EAAE,EAAA,EAAI;oBAC9C,SAAS,CAAC;gBACZ;YACF,CAAC;QACH;IACF,CAAC;IAED,OAAO,aAAA,GAAA,IAAA,qYAAA,EAAC,4aAAA,EAAA;QAAkB;QAAW;IAAA,CAAS;AAChD","debugId":null}},
    {"offset": {"line": 2569, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Breact%400.11.37_%40types%2Breact-dom%4019.2.2_%40types%2Breact%4019.2.2__%40types%2Breact%4019.2.2__utqnq2rpqwwcg76r2vcd3th5pi/node_modules/%40assistant-ui/react/src/primitives/thread/ThreadMessages.tsx"],"sourcesContent":["\"use client\";\n\nimport { type ComponentType, type FC, memo, useMemo } from \"react\";\nimport { useAssistantState, MessageByIndexProvider } from \"../../context\";\nimport { ThreadMessage as ThreadMessageType } from \"../../types\";\n\nexport namespace ThreadPrimitiveMessages {\n  export type Props = {\n    /**\n     * Component configuration for rendering different types of messages and composers.\n     *\n     * You can provide either:\n     * 1. A single `Message` component that handles all message types\n     * 2. Specific components for `UserMessage` and `AssistantMessage` (with optional `SystemMessage`)\n     *\n     * Optional edit composer components can be provided to customize the editing experience\n     * for different message types when users edit their messages.\n     */\n    components:\n      | {\n          /** Component used to render all message types */\n          Message: ComponentType;\n          /** Component used when editing any message type */\n          EditComposer?: ComponentType | undefined;\n          /** Component used when editing user messages specifically */\n          UserEditComposer?: ComponentType | undefined;\n          /** Component used when editing assistant messages specifically */\n          AssistantEditComposer?: ComponentType | undefined;\n          /** Component used when editing system messages specifically */\n          SystemEditComposer?: ComponentType | undefined;\n          /** Component used to render user messages specifically */\n          UserMessage?: ComponentType | undefined;\n          /** Component used to render assistant messages specifically */\n          AssistantMessage?: ComponentType | undefined;\n          /** Component used to render system messages specifically */\n          SystemMessage?: ComponentType | undefined;\n        }\n      | {\n          /** Component used to render all message types (fallback) */\n          Message?: ComponentType | undefined;\n          /** Component used when editing any message type */\n          EditComposer?: ComponentType | undefined;\n          /** Component used when editing user messages specifically */\n          UserEditComposer?: ComponentType | undefined;\n          /** Component used when editing assistant messages specifically */\n          AssistantEditComposer?: ComponentType | undefined;\n          /** Component used when editing system messages specifically */\n          SystemEditComposer?: ComponentType | undefined;\n          /** Component used to render user messages */\n          UserMessage: ComponentType;\n          /** Component used to render assistant messages */\n          AssistantMessage: ComponentType;\n          /** Component used to render system messages */\n          SystemMessage?: ComponentType | undefined;\n        };\n  };\n}\n\nconst isComponentsSame = (\n  prev: ThreadPrimitiveMessages.Props[\"components\"],\n  next: ThreadPrimitiveMessages.Props[\"components\"],\n) => {\n  return (\n    prev.Message === next.Message &&\n    prev.EditComposer === next.EditComposer &&\n    prev.UserEditComposer === next.UserEditComposer &&\n    prev.AssistantEditComposer === next.AssistantEditComposer &&\n    prev.SystemEditComposer === next.SystemEditComposer &&\n    prev.UserMessage === next.UserMessage &&\n    prev.AssistantMessage === next.AssistantMessage &&\n    prev.SystemMessage === next.SystemMessage\n  );\n};\n\nconst DEFAULT_SYSTEM_MESSAGE = () => null;\n\nconst getComponent = (\n  components: ThreadPrimitiveMessages.Props[\"components\"],\n  role: ThreadMessageType[\"role\"],\n  isEditing: boolean,\n) => {\n  switch (role) {\n    case \"user\":\n      if (isEditing) {\n        return (\n          components.UserEditComposer ??\n          components.EditComposer ??\n          components.UserMessage ??\n          (components.Message as ComponentType)\n        );\n      } else {\n        return components.UserMessage ?? (components.Message as ComponentType);\n      }\n    case \"assistant\":\n      if (isEditing) {\n        return (\n          components.AssistantEditComposer ??\n          components.EditComposer ??\n          components.AssistantMessage ??\n          (components.Message as ComponentType)\n        );\n      } else {\n        return (\n          components.AssistantMessage ?? (components.Message as ComponentType)\n        );\n      }\n    case \"system\":\n      if (isEditing) {\n        return (\n          components.SystemEditComposer ??\n          components.EditComposer ??\n          components.SystemMessage ??\n          (components.Message as ComponentType)\n        );\n      } else {\n        return components.SystemMessage ?? DEFAULT_SYSTEM_MESSAGE;\n      }\n    default:\n      const _exhaustiveCheck: never = role;\n      throw new Error(`Unknown message role: ${_exhaustiveCheck}`);\n  }\n};\n\ntype ThreadMessageComponentProps = {\n  components: ThreadPrimitiveMessages.Props[\"components\"];\n};\n\nconst ThreadMessageComponent: FC<ThreadMessageComponentProps> = ({\n  components,\n}) => {\n  const role = useAssistantState(({ message }) => message.role);\n  const isEditing = useAssistantState(\n    ({ message }) => message.composer.isEditing,\n  );\n  const Component = getComponent(components, role, isEditing);\n\n  return <Component />;\n};\nexport namespace ThreadPrimitiveMessageByIndex {\n  export type Props = {\n    index: number;\n    components: ThreadPrimitiveMessages.Props[\"components\"];\n  };\n}\n\n/**\n * Renders a single message at the specified index in the current thread.\n *\n * This component provides message context for a specific message in the thread\n * and renders it using the provided component configuration.\n *\n * @example\n * ```tsx\n * <ThreadPrimitive.MessageByIndex\n *   index={0}\n *   components={{\n *     UserMessage: MyUserMessage,\n *     AssistantMessage: MyAssistantMessage\n *   }}\n * />\n * ```\n */\nexport const ThreadPrimitiveMessageByIndex: FC<ThreadPrimitiveMessageByIndex.Props> =\n  memo(\n    ({ index, components }) => {\n      return (\n        <MessageByIndexProvider index={index}>\n          <ThreadMessageComponent components={components} />\n        </MessageByIndexProvider>\n      );\n    },\n    (prev, next) =>\n      prev.index === next.index &&\n      isComponentsSame(prev.components, next.components),\n  );\n\nThreadPrimitiveMessageByIndex.displayName = \"ThreadPrimitive.MessageByIndex\";\n\n/**\n * Renders all messages in the current thread using the provided component configuration.\n *\n * This component automatically renders all messages in the thread, providing the appropriate\n * message context for each message. It handles different message types (user, assistant, system)\n * and supports editing mode through the provided edit composer components.\n *\n * @example\n * ```tsx\n * <ThreadPrimitive.Messages\n *   components={{\n *     UserMessage: MyUserMessage,\n *     AssistantMessage: MyAssistantMessage,\n *     EditComposer: MyEditComposer\n *   }}\n * />\n * ```\n */\nexport const ThreadPrimitiveMessagesImpl: FC<ThreadPrimitiveMessages.Props> = ({\n  components,\n}) => {\n  const messagesLength = useAssistantState(\n    ({ thread }) => thread.messages.length,\n  );\n\n  const messageElements = useMemo(() => {\n    if (messagesLength === 0) return null;\n    return Array.from({ length: messagesLength }, (_, index) => (\n      <ThreadPrimitiveMessageByIndex\n        key={index}\n        index={index}\n        components={components}\n      />\n    ));\n  }, [messagesLength, components]);\n\n  return messageElements;\n};\n\nThreadPrimitiveMessagesImpl.displayName = \"ThreadPrimitive.Messages\";\n\nexport const ThreadPrimitiveMessages = memo(\n  ThreadPrimitiveMessagesImpl,\n  (prev, next) => isComponentsSame(prev.components, next.components),\n);\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2654, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Breact%400.11.37_%40types%2Breact-dom%4019.2.2_%40types%2Breact%4019.2.2__%40types%2Breact%4019.2.2__utqnq2rpqwwcg76r2vcd3th5pi/node_modules/%40assistant-ui/react/src/primitives/thread/ThreadScrollToBottom.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n  ActionButtonElement,\n  ActionButtonProps,\n  createActionButton,\n} from \"../../utils/createActionButton\";\nimport { useCallback } from \"react\";\nimport {\n  useThreadViewport,\n  useThreadViewportStore,\n} from \"../../context/react/ThreadViewportContext\";\n\nconst useThreadScrollToBottom = () => {\n  const isAtBottom = useThreadViewport((s) => s.isAtBottom);\n\n  const threadViewportStore = useThreadViewportStore();\n\n  const handleScrollToBottom = useCallback(() => {\n    threadViewportStore.getState().scrollToBottom();\n  }, [threadViewportStore]);\n\n  if (isAtBottom) return null;\n  return handleScrollToBottom;\n};\n\nexport namespace ThreadPrimitiveScrollToBottom {\n  export type Element = ActionButtonElement;\n  export type Props = ActionButtonProps<typeof useThreadScrollToBottom>;\n}\n\nexport const ThreadPrimitiveScrollToBottom = createActionButton(\n  \"ThreadPrimitive.ScrollToBottom\",\n  useThreadScrollToBottom,\n);\n"],"names":[],"mappings":";;;;;AAEA;AAKA,SAAS,mBAAmB;AAC5B;;;;;AAKA,IAAM,0BAA0B,MAAM;IACpC,MAAM,iBAAa,8aAAA,EAAkB,CAAC,IAAM,EAAE,UAAU;IAExD,MAAM,0BAAsB,mbAAA,CAAuB;IAEnD,MAAM,2BAAuB,2XAAA,EAAY,MAAM;QAC7C,oBAAoB,QAAA,CAAS,EAAE,cAAA,CAAe;IAChD,GAAG;QAAC,mBAAmB;KAAC;IAExB,IAAI,WAAY,CAAA,OAAO;IACvB,OAAO;AACT;AAOO,IAAM,oCAAgC,iaAAA,EAC3C,kCACA","debugId":null}},
    {"offset": {"line": 2684, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Breact%400.11.37_%40types%2Breact-dom%4019.2.2_%40types%2Breact%4019.2.2__%40types%2Breact%4019.2.2__utqnq2rpqwwcg76r2vcd3th5pi/node_modules/%40assistant-ui/react/src/primitives/thread/ThreadSuggestion.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n  ActionButtonElement,\n  ActionButtonProps,\n  createActionButton,\n} from \"../../utils/createActionButton\";\nimport { useCallback } from \"react\";\nimport { useAssistantState, useAssistantApi } from \"../../context\";\n\nconst useThreadSuggestion = ({\n  prompt,\n  send,\n  clearComposer = true,\n  autoSend,\n  method: _method,\n}: {\n  /** The suggestion prompt. */\n  prompt: string;\n\n  /**\n   * When true, automatically sends the message.\n   * When false, replaces or appends the composer text with the suggestion - depending on the value of `clearComposer`.\n   */\n  send?: boolean | undefined;\n\n  /**\n   * Whether to clear the composer after sending.\n   * When send is set to false, determines if composer text is replaced with suggestion (true, default),\n   * or if it's appended to the composer text (false).\n   *\n   * @default true\n   */\n  clearComposer?: boolean | undefined;\n\n  /** @deprecated Use `send` instead. */\n  autoSend?: boolean | undefined;\n\n  /** @deprecated Use `clearComposer` instead. */\n  method?: \"replace\";\n}) => {\n  const api = useAssistantApi();\n  const disabled = useAssistantState(({ thread }) => thread.isDisabled);\n\n  // ========== Deprecation Mapping ==========\n  const resolvedSend = send ?? autoSend ?? false;\n  // ==========================================\n\n  const callback = useCallback(() => {\n    const isRunning = api.thread().getState().isRunning;\n\n    if (resolvedSend && !isRunning) {\n      api.thread().append(prompt);\n      if (clearComposer) {\n        api.composer().setText(\"\");\n      }\n    } else {\n      if (clearComposer) {\n        api.composer().setText(prompt);\n      } else {\n        const currentText = api.composer().getState().text;\n        api\n          .composer()\n          .setText(currentText.trim() ? `${currentText} ${prompt}` : prompt);\n      }\n    }\n  }, [api, resolvedSend, clearComposer, prompt]);\n\n  if (disabled) return null;\n  return callback;\n};\n\nexport namespace ThreadPrimitiveSuggestion {\n  export type Element = ActionButtonElement;\n  export type Props = ActionButtonProps<typeof useThreadSuggestion>;\n}\n\nexport const ThreadPrimitiveSuggestion = createActionButton(\n  \"ThreadPrimitive.Suggestion\",\n  useThreadSuggestion,\n  [\"prompt\", \"send\", \"clearComposer\", \"autoSend\", \"method\"],\n);\n"],"names":[],"mappings":";;;;;AAEA;AAKA,SAAS,mBAAmB;;AAC5B,SAAS,mBAAmB,uBAAuB;;;;;AAEnD,IAAM,sBAAsB,CAAC,EAC3B,MAAA,EACA,IAAA,EACA,gBAAgB,IAAA,EAChB,QAAA,EACA,QAAQ,OAAA,EACV,KAwBM;IACJ,MAAM,UAAM,0aAAA,CAAgB;IAC5B,MAAM,eAAW,mbAAA,EAAkB,CAAC,EAAE,MAAA,CAAO,CAAA,GAAM,OAAO,UAAU;IAGpE,MAAM,eAAe,QAAQ,YAAY;IAGzC,MAAM,eAAW,2XAAA,EAAY,MAAM;QACjC,MAAM,YAAY,IAAI,MAAA,CAAO,EAAE,QAAA,CAAS,EAAE,SAAA;QAE1C,IAAI,gBAAgB,CAAC,WAAW;YAC9B,IAAI,MAAA,CAAO,EAAE,MAAA,CAAO,MAAM;YAC1B,IAAI,eAAe;gBACjB,IAAI,QAAA,CAAS,EAAE,OAAA,CAAQ,EAAE;YAC3B;QACF,OAAO;YACL,IAAI,eAAe;gBACjB,IAAI,QAAA,CAAS,EAAE,OAAA,CAAQ,MAAM;YAC/B,OAAO;gBACL,MAAM,cAAc,IAAI,QAAA,CAAS,EAAE,QAAA,CAAS,EAAE,IAAA;gBAC9C,IACG,QAAA,CAAS,EACT,OAAA,CAAQ,YAAY,IAAA,CAAK,IAAI,GAAG,WAAW,CAAA,CAAA,EAAI,MAAM,EAAA,GAAK,MAAM;YACrE;QACF;IACF,GAAG;QAAC;QAAK;QAAc;QAAe,MAAM;KAAC;IAE7C,IAAI,SAAU,CAAA,OAAO;IACrB,OAAO;AACT;AAOO,IAAM,gCAA4B,iaAAA,EACvC,8BACA,qBACA;IAAC;IAAU;IAAQ;IAAiB;IAAY,QAAQ;CAAA","debugId":null}},
    {"offset": {"line": 2738, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Breact%400.11.37_%40types%2Breact-dom%4019.2.2_%40types%2Breact%4019.2.2__%40types%2Breact%4019.2.2__utqnq2rpqwwcg76r2vcd3th5pi/node_modules/%40assistant-ui/react/src/primitives/thread/index.ts"],"sourcesContent":["export { ThreadPrimitiveRoot as Root } from \"./ThreadRoot\";\nexport { ThreadPrimitiveEmpty as Empty } from \"./ThreadEmpty\";\nexport { ThreadPrimitiveIf as If } from \"./ThreadIf\";\nexport { ThreadPrimitiveViewport as Viewport } from \"./ThreadViewport\";\nexport { ThreadPrimitiveMessages as Messages } from \"./ThreadMessages\";\nexport { ThreadPrimitiveMessageByIndex as MessageByIndex } from \"./ThreadMessages\";\nexport { ThreadPrimitiveScrollToBottom as ScrollToBottom } from \"./ThreadScrollToBottom\";\nexport { ThreadPrimitiveSuggestion as Suggestion } from \"./ThreadSuggestion\";\n"],"names":[],"mappings":";;AAAA,SAAgC,2BAAY;AAC5C,SAAiC,4BAAa;AAC9C,SAA8B,yBAAU;AACxC,SAAoC,+BAAgB;AACpD,SAAoC,+BAAgB;AAEpD,SAA0C,qCAAsB;AAChE,SAAsC,iCAAkB","debugId":null}},
    {"offset": {"line": 2800, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Breact%400.11.37_%40types%2Breact-dom%4019.2.2_%40types%2Breact%4019.2.2__%40types%2Breact%4019.2.2__utqnq2rpqwwcg76r2vcd3th5pi/node_modules/%40assistant-ui/react/src/model-context/tool.ts"],"sourcesContent":["import { Tool } from \"assistant-stream\";\n\n// TODO re-add the inferrence of the parameters\n\nexport function tool<TArgs extends Record<string, unknown>, TResult = any>(\n  tool: Tool<TArgs, TResult>,\n): Tool<TArgs, TResult> {\n  return tool;\n}\n"],"names":["tool"],"mappings":";;;;;AAIO,SAAS,KACdA,KAAAA,EACsB;IACtB,OAAOA;AACT","debugId":null}},
    {"offset": {"line": 2814, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Breact%400.11.37_%40types%2Breact-dom%4019.2.2_%40types%2Breact%4019.2.2__%40types%2Breact%4019.2.2__utqnq2rpqwwcg76r2vcd3th5pi/node_modules/%40assistant-ui/react/src/model-context/useAssistantToolUI.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect } from \"react\";\nimport { useAssistantApi } from \"../context/react/AssistantApiContext\";\nimport type { ToolCallMessagePartComponent } from \"../types/MessagePartComponentTypes\";\n\nexport type AssistantToolUIProps<TArgs, TResult> = {\n  toolName: string;\n  render: ToolCallMessagePartComponent<TArgs, TResult>;\n};\n\nexport const useAssistantToolUI = (\n  tool: AssistantToolUIProps<any, any> | null,\n) => {\n  const api = useAssistantApi();\n  useEffect(() => {\n    if (!tool?.toolName || !tool?.render) return undefined;\n    return api.toolUIs().setToolUI(tool.toolName, tool.render);\n  }, [api, tool?.toolName, tool?.render]);\n};\n"],"names":[],"mappings":";;;;;AAEA,SAAS,iBAAiB;AAC1B,SAAS,uBAAuB;;;;AAQzB,IAAM,qBAAqB,CAChC,SACG;IACH,MAAM,UAAM,0aAAA,CAAgB;IAC5B,IAAA,yXAAA,EAAU,MAAM;QACd,IAAI,CAAC,MAAM,YAAY,CAAC,MAAM,OAAQ,CAAA,OAAO,KAAA;QAC7C,OAAO,IAAI,OAAA,CAAQ,EAAE,SAAA,CAAU,KAAK,QAAA,EAAU,KAAK,MAAM;IAC3D,GAAG;QAAC;QAAK,MAAM;QAAU,MAAM,MAAM;KAAC;AACxC","debugId":null}},
    {"offset": {"line": 2841, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Breact%400.11.37_%40types%2Breact-dom%4019.2.2_%40types%2Breact%4019.2.2__%40types%2Breact%4019.2.2__utqnq2rpqwwcg76r2vcd3th5pi/node_modules/%40assistant-ui/react/src/model-context/useAssistantInstructions.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect } from \"react\";\nimport { useAssistantApi } from \"../context/react/AssistantApiContext\";\n\nexport type AssistantInstructionsConfig = {\n  disabled?: boolean | undefined;\n  instruction: string;\n};\n\nconst getInstructions = (\n  instruction: string | AssistantInstructionsConfig,\n): AssistantInstructionsConfig => {\n  if (typeof instruction === \"string\") return { instruction };\n  return instruction;\n};\n\nexport const useAssistantInstructions = (\n  config: string | AssistantInstructionsConfig,\n) => {\n  const { instruction, disabled = false } = getInstructions(config);\n  const api = useAssistantApi();\n\n  useEffect(() => {\n    if (disabled) return;\n\n    const config = {\n      system: instruction,\n    };\n    return api.modelContext().register({\n      getModelContext: () => config,\n    });\n  }, [api, instruction, disabled]);\n};\n"],"names":["config"],"mappings":";;;;;AAEA,SAAS,iBAAiB;AAC1B,SAAS,uBAAuB;;;;AAOhC,IAAM,kBAAkB,CACtB,gBACgC;IAChC,IAAI,OAAO,gBAAgB,SAAU,CAAA,OAAO;QAAE;IAAY;IAC1D,OAAO;AACT;AAEO,IAAM,2BAA2B,CACtC,WACG;IACH,MAAM,EAAE,WAAA,EAAa,WAAW,KAAA,CAAM,CAAA,GAAI,gBAAgB,MAAM;IAChE,MAAM,UAAM,0aAAA,CAAgB;IAE5B,IAAA,yXAAA,EAAU,MAAM;QACd,IAAI,SAAU,CAAA;QAEd,MAAMA,UAAS;YACb,QAAQ;QACV;QACA,OAAO,IAAI,YAAA,CAAa,EAAE,QAAA,CAAS;YACjC,iBAAiB,IAAMA;QACzB,CAAC;IACH,GAAG;QAAC;QAAK;QAAa,QAAQ;KAAC;AACjC","debugId":null}}]
}